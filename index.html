[file name]: deepseek_html_20251117_ddb895.html
[file content begin]
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø¨Ø§Ø²ÛŒ Ú©Ù‡Ú©Ø´Ø§Ù†ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
    <link rel="icon" href="m.html" type="image/x-icon">
    <style>
        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø±ÛŒØ³Øª Ø¹Ù…ÙˆÙ…ÛŒ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø±ÛŒØ³Øª Ø¹Ù…ÙˆÙ…ÛŒ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø¯Ù†Ù‡ Ø§ØµÙ„ÛŒ */
        body {
            background: #000;
            overflow: hidden;
            touch-action: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            width: 100vw;
            height: 100vh;
            position: fixed;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø¯Ù†Ù‡ Ø§ØµÙ„ÛŒ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ù‡Ú©Ø´Ø§Ù† Ùˆ Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ØªØ­Ø±Ú© */
        #galaxyBackground {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
            background: #000000;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle var(--duration) infinite ease-in-out;
        }

        .star.small {
            width: 1px;
            height: 1px;
            opacity: 0.6;
        }

        .star.medium {
            width: 2px;
            height: 2px;
            opacity: 0.8;
        }

        .star.large {
            width: 3px;
            height: 3px;
            opacity: 1;
        }

        .star.cluster {
            width: 4px;
            height: 4px;
            opacity: 0.9;
            filter: blur(0.5px);
        }

        .shooting-star {
            position: absolute;
            width: 80px;
            height: 2px;
            background: linear-gradient(90deg, transparent, white, transparent);
            animation: shootingStar var(--shoot-duration) linear forwards;
            opacity: 0;
        }

        .nebula {
            position: absolute;
            border-radius: 50%;
            filter: blur(40px);
            opacity: 0.1;
            animation: nebulaFloat 20s infinite ease-in-out;
        }

        .nebula.purple {
            background: radial-gradient(circle, #8a2be2, transparent);
            width: 300px;
            height: 300px;
        }

        .nebula.blue {
            background: radial-gradient(circle, #1e90ff, transparent);
            width: 400px;
            height: 400px;
        }

        .nebula.pink {
            background: radial-gradient(circle, #ff1493, transparent);
            width: 250px;
            height: 250px;
        }

        .galaxy-cluster {
            position: absolute;
            width: 200px;
            height: 200px;
            background: 
                radial-gradient(circle at 30% 30%, rgba(138, 43, 226, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(30, 144, 255, 0.1) 0%, transparent 50%);
            filter: blur(20px);
            animation: galaxyRotate 120s infinite linear;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        @keyframes shootingStar {
            0% { 
                transform: translateX(-100px) translateY(-100px) rotate(45deg);
                opacity: 0;
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { 
                transform: translateX(calc(100vw + 100px)) translateY(calc(100vh + 100px)) rotate(45deg);
                opacity: 0;
            }
        }

        @keyframes nebulaFloat {
            0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.1; }
            25% { transform: translate(50px, -30px) scale(1.1); opacity: 0.15; }
            50% { transform: translate(-40px, 60px) scale(0.9); opacity: 0.08; }
            75% { transform: translate(70px, 40px) scale(1.05); opacity: 0.12; }
        }

        @keyframes galaxyRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .planet {
            position: absolute;
            border-radius: 50%;
            filter: blur(15px);
            animation: planetRotate 60s infinite linear;
        }

        .planet.orange {
            background: radial-gradient(circle, #ff8c00, #ff4500);
            width: 120px;
            height: 120px;
        }

        .planet.blue {
            background: radial-gradient(circle, #00bfff, #1e90ff);
            width: 80px;
            height: 80px;
        }

        @keyframes planetRotate {
            from { transform: rotate(0deg) translateX(200px) rotate(0deg); }
            to { transform: rotate(360deg) translateX(200px) rotate(-360deg); }
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§Ù… Ø¢Ø³Ù…Ø§Ù†ÛŒ */
        .celestial-body {
            position: absolute;
            font-size: 20px;
            z-index: 5;
            animation: celestialFloat 10s infinite ease-in-out;
        }
        
        @keyframes celestialFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ù‡Ú©Ø´Ø§Ù† Ùˆ Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ØªØ­Ø±Ú© */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ±Ø¨ÛŒÙ† Ùˆ Ø¬Ù‡Ø§Ù† Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª */
        #infiniteUniverse {
            position: fixed;
            top: 0;
            left: 0;
            width: 5000px;
            height: 5000px;
            z-index: 1;
            transform-origin: center center;
            background: #000000;
        }

        .camera-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 2;
            overflow: hidden;
            perspective: 1000px;
            transform-style: preserve-3d;
        }

        .parallax-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .layer-1 {
            z-index: 1;
            transform: translateZ(-1000px) scale(2);
        }

        .layer-2 {
            z-index: 2;
            transform: translateZ(-500px) scale(1.5);
        }

        .layer-3 {
            z-index: 3;
            transform: translateZ(0px) scale(1);
        }

        .distant-galaxy {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.05;
        }

        .distant-galaxy.spiral {
            background: radial-gradient(circle, #8a2be2, #1e90ff, transparent);
            width: 800px;
            height: 800px;
        }

        .distant-galaxy.elliptical {
            background: radial-gradient(circle, #ff4500, #ff8c00, transparent);
            width: 600px;
            height: 600px;
        }

        .space-dust {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            filter: blur(2px);
        }

        .black-hole {
            position: absolute;
            background: radial-gradient(circle, #000000, #2f4f4f);
            border-radius: 50%;
            filter: blur(10px) drop-shadow(0 0 20px #8a2be2);
            animation: blackHolePulse 4s infinite alternate;
        }

        @keyframes blackHolePulse {
            0% { transform: scale(1); opacity: 0.7; }
            100% { transform: scale(1.1); opacity: 0.9; }
        }

        .asteroid-field {
            position: absolute;
            width: 1000px;
            height: 1000px;
            background: 
                radial-gradient(circle at 20% 30%, rgba(139, 69, 19, 0.1) 2%, transparent 5%),
                radial-gradient(circle at 70% 60%, rgba(160, 82, 45, 0.1) 3%, transparent 6%),
                radial-gradient(circle at 40% 80%, rgba(205, 133, 63, 0.1) 1%, transparent 4%);
            animation: asteroidFieldRotate 120s infinite linear;
        }

        @keyframes asteroidFieldRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ø±Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ®Ø±ÛŒØ¨â€ŒÚ¯Ø± */
        .destruction-sphere {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, #ff4444, #cc0000);
            filter: drop-shadow(0 0 20px #ff0000) drop-shadow(0 0 40px #ff4444);
            animation: spherePulse 2s infinite alternate;
            z-index: 30;
        }

        .destruction-sphere.large {
            width: 150px;
            height: 150px;
        }

        .destruction-sphere.medium {
            width: 100px;
            height: 100px;
        }

        .destruction-sphere.small {
            width: 60px;
            height: 60px;
        }

        @keyframes spherePulse {
            0% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(1.2); opacity: 1; }
        }

        .sphere-trail {
            position: absolute;
            width: 10px;
            height: 10px;
            background: radial-gradient(circle, #ff4444, transparent);
            border-radius: 50%;
            filter: blur(3px);
            opacity: 0.6;
            animation: trailFade 1s forwards;
        }

        @keyframes trailFade {
            0% { transform: scale(1); opacity: 0.6; }
            100% { transform: scale(0.5); opacity: 0; }
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ø¯Ø¯Ø¯Ø§Ø± */
        .numbered-sphere {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, #00ff88, #00cc00);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
            filter: drop-shadow(0 0 10px #00ff88);
            animation: sphereFloat 3s infinite ease-in-out;
            z-index: 18;
        }
        
        @keyframes sphereFloat {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.1); }
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ù…ÛŒÙ†ÛŒ Ù…Ù¾ */
        .mini-map {
            position: fixed;
            top: 80px;
            left: 20px;
            width: 200px;
            height: 200px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00ccff;
            border-radius: 10px;
            z-index: 35;
            overflow: hidden;
        }
        
        .map-player {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #00aaff;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        
        .map-enemy {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #ff3300;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        
        .map-coin {
            position: absolute;
            width: 3px;
            height: 3px;
            background: #00ff88;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ ØªÛŒØ±Ø¨Ø§Ø± */
        .bullet {
            position: absolute;
            width: 4px;
            height: 12px;
            background: linear-gradient(to top, #00ff88, #00ccff);
            border-radius: 2px;
            z-index: 24;
            filter: drop-shadow(0 0 5px #00ff88);
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ±Ø¨ÛŒÙ† Ùˆ Ø¬Ù‡Ø§Ù† Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø¢ØªØ´ÙØ´Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ú¯ÙˆØ´Ù‡â€ŒÙ‡Ø§ */
        .corner-volcano {
            position: fixed;
            font-size: 25px;
            z-index: 10;
            filter: drop-shadow(0 0 10px #ff3300) drop-shadow(0 0 20px #ff5500);
            animation: volcanoGlow 2s infinite alternate;
        }
        
        .corner-volcano.top-left { top: 15px; left: 15px; }
        .corner-volcano.top-right { top: 15px; right: 15px; }
        .corner-volcano.bottom-left { bottom: 15px; left: 15px; }
        .corner-volcano.bottom-right { bottom: 15px; right: 15px; }
        
        @keyframes volcanoGlow {
            from { filter: drop-shadow(0 0 5px #ff3300) drop-shadow(0 0 10px #ff5500); }
            to { filter: drop-shadow(0 0 15px #ff3300) drop-shadow(0 0 25px #ff5500); }
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø¢ØªØ´ÙØ´Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ú¯ÙˆØ´Ù‡â€ŒÙ‡Ø§ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ */
        #mainScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 20;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ù‡Ø¯Ø± */
        .header {
            text-align: center;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #ff8a00, #e52e71, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(229, 46, 113, 0.5);
            animation: titleGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes titleGlow {
            from { filter: drop-shadow(0 0 5px rgba(255, 138, 0, 0.7)); }
            to { filter: drop-shadow(0 0 15px rgba(229, 46, 113, 0.7)); }
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ù‡Ø¯Ø± */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ */
        .main-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
            align-items: center;
            width: 90%;
            max-width: 300px;
        }
        
        .main-btn {
            background: linear-gradient(45deg, #00ccff, #0066ff);
            border: none;
            padding: 18px 25px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0, 204, 255, 0.5);
            transition: all 0.3s;
            width: 100%;
            text-align: center;
        }
        
        .main-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 204, 255, 0.7);
        }
        
        .main-btn.start {
            background: linear-gradient(45deg, #00ff88, #00ccff);
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.5);
            font-size: 1.4rem;
            padding: 20px 25px;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ú©Ù…Ù‡ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª */
        .management-btn {
            background: linear-gradient(45deg, #ff4444, #cc0000);
            border: none;
            padding: 15px 25px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 68, 68, 0.5);
            transition: all 0.3s;
            width: 100%;
            text-align: center;
            animation: redPulse 2s infinite;
        }
        
        .management-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 68, 68, 0.7);
        }
        
        @keyframes redPulse {
            0%, 100% { box-shadow: 0 4px 15px rgba(255, 68, 68, 0.5); }
            50% { box-shadow: 0 4px 25px rgba(255, 68, 68, 0.8), 0 0 30px rgba(255, 68, 68, 0.4); }
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ú©Ù…Ù‡ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ù¾Ù†Ù„ Ø¢Ù…Ø§Ø± */
        .stats-panel {
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 20px;
            margin: 15px 0;
            text-align: center;
            width: 90%;
            max-width: 300px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }
        
        .stat-item {
            background: rgba(0, 0, 0, 0.6);
            padding: 12px 15px;
            border-radius: 15px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #00ccff;
            margin-top: 5px;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ù¾Ù†Ù„ Ø¢Ù…Ø§Ø± */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ù„Ø§Ø³ Ù…Ø®ÙÛŒ */
        .hidden {
            display: none !important;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ù„Ø§Ø³ Ù…Ø®ÙÛŒ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒ */
        #gameScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            z-index: 15;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø§Ø²ÛŒÚ©Ù† */
        .player {
            position: absolute;
            font-size: 80px;
            z-index: 25;
            filter: drop-shadow(0 0 10px #00aaff) drop-shadow(0 0 20px #00aaff);
            transition: transform 0.1s;
            transform-origin: center center;
        }
        
        .player.pulse {
            animation: pulse 0.5s infinite alternate;
        }
        
        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø§Ø²ÛŒÚ©Ù† */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ø´Ù…Ù† */
        .enemy {
            position: absolute;
            font-size: 50px;
            z-index: 20;
            filter: drop-shadow(0 0 8px #ff3300) drop-shadow(0 0 12px #ff3300);
            transition: transform 0.3s;
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ø´Ù…Ù†Ø§Ù† Ù¾ÛŒØ´Ø±ÙØªÙ‡ */
        .enemy.boss {
            font-size: 80px;
            filter: drop-shadow(0 0 15px #ff0000) drop-shadow(0 0 25px #ff3300);
            animation: bossPulse 2s infinite alternate;
        }
        
        @keyframes bossPulse {
            from { transform: scale(1); }
            to { transform: scale(1.2); }
        }
        
        .enemy.fast {
            animation: fastMove 1s infinite alternate;
        }
        
        @keyframes fastMove {
            from { transform: translateX(-5px); }
            to { transform: translateX(5px); }
        }
        
        .enemy.carrier {
            font-size: 70px;
            filter: drop-shadow(0 0 12px #ff5500) drop-shadow(0 0 20px #ff7700);
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ø´Ù…Ù† */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø³Ú©Ù‡ */
        .coin {
            position: absolute;
            font-size: 45px;
            z-index: 18;
            filter: drop-shadow(0 0 10px #00ff88) drop-shadow(0 0 20px #00ff88);
            animation: float 3s infinite ease-in-out;
        }
        
        .coin-number {
            position: absolute;
            font-size: 16px;
            font-weight: bold;
            color: white;
            z-index: 19;
            text-shadow: 2px 2px 4px black;
            pointer-events: none;
            background: rgba(0,0,0,0.7);
            padding: 4px 8px;
            border-radius: 10px;
            min-width: 25px;
            text-align: center;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(10deg); }
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø³Ú©Ù‡ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø³Ú©Ù‡ */
        .coin-trail {
            position: absolute;
            font-size: 30px;
            z-index: 17;
            filter: drop-shadow(0 0 6px #00ff88) drop-shadow(0 0 12px #00ff88);
            transition: all 0.2s;
            pointer-events: none;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø³Ú©Ù‡ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ú©Ù…Ù‡ Ø¨Ù…Ø¨ */
        .bomb-button {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, #ff4444, #cc0000);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 35px;
            cursor: pointer;
            z-index: 30;
            box-shadow: 0 4px 12px rgba(255, 0, 0, 0.5);
            transition: all 0.3s;
        }
        
        .bomb-button:active {
            transform: scale(0.9);
        }
        
        .bomb-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .bomb-timer {
            position: fixed;
            bottom: 100px;
            left: 25px;
            color: white;
            font-size: 14px;
            z-index: 30;
            background: rgba(0, 0, 0, 0.7);
            padding: 6px 10px;
            border-radius: 10px;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ú©Ù…Ù‡ Ø¨Ù…Ø¨ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ù†Ø´Ø§Ù†Ú¯Ø± Ø¨Ø§Ø²ÛŒÚ©Ù† */
        #playerIndicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px 25px;
            border-radius: 15px;
            z-index: 35;
            text-align: center;
            animation: fadeOut 3s forwards;
            pointer-events: none;
        }
        
        @keyframes fadeOut {
            0% { opacity: 1; }
            70% { opacity: 1; }
            100% { opacity: 0; }
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ù†Ø´Ø§Ù†Ú¯Ø± Ø¨Ø§Ø²ÛŒÚ©Ù† */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ ØµÙØ­Ù‡ Ù¾Ø§ÛŒØ§Ù† Ù…Ø±Ø­Ù„Ù‡ */
        #levelComplete {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 40;
            text-align: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s;
        }
        
        #levelComplete.show {
            opacity: 1;
            pointer-events: all;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ ØµÙØ­Ù‡ Ù¾Ø§ÛŒØ§Ù† Ù…Ø±Ø­Ù„Ù‡ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ù†Ø´Ø§Ù†Ú¯Ø± Ø²Ù…Ø§Ù† Ø§Ù…Ù† */
        .safe-time-indicator {
            position: fixed;
            top: 15px;
            right: 15px;
            color: #00ff88;
            font-size: 16px;
            background: rgba(0, 0, 0, 0.7);
            padding: 8px 12px;
            border-radius: 10px;
            z-index: 30;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ù†Ø´Ø§Ù†Ú¯Ø± Ø²Ù…Ø§Ù† Ø§Ù…Ù† */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ù†Ø´Ø§Ù†Ú¯Ø± Ø³ÙˆØ®Øª */
        .fuel-indicator {
            position: fixed;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            color: #00ff88;
            font-size: 16px;
            background: rgba(0, 0, 0, 0.7);
            padding: 8px 15px;
            border-radius: 10px;
            z-index: 30;
            animation: fuelPulse 2s infinite;
        }
        
        @keyframes fuelPulse {
            0%, 100% { box-shadow: 0 0 5px #00ff88; }
            50% { box-shadow: 0 0 15px #00ff88; }
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ù†Ø´Ø§Ù†Ú¯Ø± Ø³ÙˆØ®Øª */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ */
        .touch-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 120px;
            height: 120px;
            z-index: 30;
            display: none;
        }
        
        .joystick {
            position: absolute;
            width: 80px;
            height: 80px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        }
        
        .joystick-handle {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #00ccff, #0066ff);
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 204, 255, 0.5);
        }
        
        .joystick-center {
            position: absolute;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ù„ÙˆØ¯ÛŒÙ†Ú¯ Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ */
        .loading-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 50;
            color: white;
        }
        
        .coin-3d {
            font-size: 100px;
            animation: coin3dSpin 2s infinite linear;
            filter: drop-shadow(0 0 30px #00ff88);
            margin-bottom: 20px;
        }
        
        @keyframes coin3dSpin {
            0% { transform: rotateY(0deg) scale(1); }
            50% { transform: rotateY(180deg) scale(1.3); }
            100% { transform: rotateY(360deg) scale(1); }
        }
        
        .loading-text {
            font-size: 1.5rem;
            color: #00ccff;
            margin-top: 20px;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ù„ÙˆØ¯ÛŒÙ†Ú¯ Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ */
        .achievement-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 45;
            color: white;
            text-align: center;
        }
        
        .achievement-cup {
            font-size: 100px;
            margin-bottom: 20px;
            filter: drop-shadow(0 0 20px gold);
            animation: cupGlow 2s infinite alternate;
        }
        
        @keyframes cupGlow {
            from { transform: scale(1); filter: drop-shadow(0 0 10px gold); }
            to { transform: scale(1.1); filter: drop-shadow(0 0 30px gold); }
        }
        
        .achievement-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
            max-width: 300px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .achievement-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .achievement-item.locked {
            opacity: 0.5;
        }
        
        .achievement-icon {
            font-size: 30px;
            margin-bottom: 5px;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ */
        .instructions-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 55;
            color: white;
            padding: 20px;
        }
        
        .instructions-content {
            background: rgba(0, 0, 0, 0.8);
            padding: 30px;
            border-radius: 20px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            text-align: right;
        }
        
        .instructions-content h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #00ccff;
            text-align: center;
        }
        
        .instructions-content p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 15px;
            color: #e0e0e0;
        }
        
        .instructions-close {
            margin-top: 20px;
            background: linear-gradient(45deg, #00ccff, #0066ff);
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            color: white;
            font-weight: bold;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ù…ÙˆØ¯Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª */
        .management-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 60;
            color: white;
            padding: 20px;
        }
        
        .management-content {
            background: rgba(0, 0, 0, 0.8);
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }
        
        .management-content h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #ff4444;
        }
        
        .management-message {
            background: rgba(255, 68, 68, 0.1);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 68, 68, 0.3);
            margin: 20px 0;
            text-align: right;
        }
        
        .management-message p {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #ffaaaa;
        }
        
        .management-close {
            margin-top: 20px;
            background: linear-gradient(45deg, #ff4444, #cc0000);
            border: none;
            padding: 12px 25px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            color: white;
            font-weight: bold;
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ù…ÙˆØ¯Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø§ÙÚ©Øª Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø³Ú©Ù‡ */
        .coin-collect-effect {
            position: absolute;
            font-size: 35px;
            z-index: 26;
            pointer-events: none;
            animation: collectEffect 0.8s forwards;
        }
        
        @keyframes collectEffect {
            0% { transform: scale(1) rotate(0deg); opacity: 1; }
            50% { transform: scale(2) rotate(180deg); opacity: 0.7; }
            100% { transform: scale(2.5) rotate(360deg); opacity: 0; }
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø§ÙÚ©Øª Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø³Ú©Ù‡ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø§ÙÚ©Øª Ù¾Ø§ÛŒØ§Ù† Ù…Ø±Ø­Ù„Ù‡ */
        .level-complete-effect {
            position: absolute;
            font-size: 60px;
            z-index: 27;
            pointer-events: none;
            animation: levelCompleteEffect 1.5s forwards cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes levelCompleteEffect {
            0% { 
                transform: scale(1) rotate(0deg) translateY(0); 
                opacity: 1; 
                filter: drop-shadow(0 0 10px #00ff88);
            }
            50% { 
                transform: scale(2) rotate(180deg) translateY(-50px); 
                opacity: 0.8;
                filter: drop-shadow(0 0 30px #00ff88);
            }
            100% { 
                transform: scale(2.5) rotate(360deg) translateY(-100px); 
                opacity: 0;
                filter: drop-shadow(0 0 50px #00ff88);
            }
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø§ÙÚ©Øª Ù¾Ø§ÛŒØ§Ù† Ù…Ø±Ø­Ù„Ù‡ */









        /* Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ§ÛŒÙ„ Ø±Ø³Ù¾Ø§Ù†Ø³ÛŒÙˆ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
            }
            
            .main-btn {
                padding: 16px 20px;
                font-size: 1.1rem;
            }
            
            .main-btn.start {
                font-size: 1.2rem;
                padding: 18px 20px;
            }
            
            .management-btn {
                padding: 14px 20px;
                font-size: 1rem;
            }
            
            .stat-item {
                padding: 10px 12px;
            }
            
            .stat-value {
                font-size: 1.3rem;
            }
            
            .player {
                font-size: 70px;
            }
            
            .enemy {
                font-size: 40px;
            }
            
            .coin {
                font-size: 36px;
            }
            
            .coin-trail {
                font-size: 25px;
            }
            
            .bomb-button {
                width: 60px;
                height: 60px;
                font-size: 30px;
                bottom: 15px;
                left: 15px;
            }
            
            .bomb-timer {
                bottom: 85px;
                left: 20px;
            }
            
            .touch-controls {
                display: flex;
            }
            
            .instructions-content {
                padding: 20px;
            }
            
            .management-content {
                padding: 20px;
            }
            
            .mini-map {
                width: 150px;
                height: 150px;
                top: 70px;
                left: 15px;
            }
        }
        
        @media (max-width: 360px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
            
            .main-buttons {
                width: 95%;
            }
            
            .mini-map {
                width: 120px;
                height: 120px;
            }
        }
        /* ØªÙ…Ø§Ù… Ø´Ø¯ Ø§Ø³ØªØ§ÛŒÙ„ Ø±Ø³Ù¾Ø§Ù†Ø³ÛŒÙˆ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ */



    </style>
</head>
<body>
    <!-- Ø´Ø±ÙˆØ¹ Ú©Ù‡Ú©Ø´Ø§Ù† Ùˆ Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ØªØ­Ø±Ú© -->
    <div id="galaxyBackground"></div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ Ú©Ù‡Ú©Ø´Ø§Ù† Ùˆ Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ØªØ­Ø±Ú© -->









    <!-- Ø´Ø±ÙˆØ¹ Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ±Ø¨ÛŒÙ† Ùˆ Ø¬Ù‡Ø§Ù† Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª -->
    <div class="camera-container" id="cameraContainer">
        <div id="infiniteUniverse">
            <!-- Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø§Ø±Ø§Ù„Ú©Ø³ Ø¨Ø±Ø§ÛŒ Ø¹Ù…Ù‚ Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ -->
            <div class="parallax-layer layer-1"></div>
            <div class="parallax-layer layer-2"></div>
            <div class="parallax-layer layer-3"></div>
        </div>
    </div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ±Ø¨ÛŒÙ† Ùˆ Ø¬Ù‡Ø§Ù† Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª -->









    <!-- Ø´Ø±ÙˆØ¹ Ø¢ØªØ´ÙØ´Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ú¯ÙˆØ´Ù‡â€ŒÙ‡Ø§ -->
    <div class="corner-volcano top-left">ğŸŒ‹</div>
    <div class="corner-volcano top-right">ğŸŒ‹</div>
    <div class="corner-volcano bottom-left">ğŸŒ‹</div>
    <div class="corner-volcano bottom-right">ğŸŒ‹</div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ Ø¢ØªØ´ÙØ´Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ú¯ÙˆØ´Ù‡â€ŒÙ‡Ø§ -->









    <!-- Ø´Ø±ÙˆØ¹ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ -->
    <div id="mainScreen">
        <div class="header">
            <h1>ğŸš€ Ø¨Ø§Ø²ÛŒ Ú©Ù‡Ú©Ø´Ø§Ù†ÛŒ</h1>
        </div>
        
        <div class="main-buttons">
            <!-- Ø¯Ú©Ù…Ù‡ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ -->
            <button class="main-btn start" onclick="startGame()">ğŸ® Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ</button>
            
            <!-- Ø¯Ú©Ù…Ù‡ Ù†Ù…Ø§ÛŒØ´ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ -->
            <button class="main-btn" onclick="showAchievements()">ğŸ† Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§</button>
            
            <!-- Ø¯Ú©Ù…Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø±Ø§Ù‡Ù†Ù…Ø§ -->
            <button class="main-btn" onclick="showInstructions()">ğŸ“– Ø±Ø§Ù‡Ù†Ù…Ø§</button>
            
            <!-- Ø¯Ú©Ù…Ù‡ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª -->
            <button class="management-btn" onclick="showManagement()">ğŸ”” Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª</button>
        </div>
        
        <div class="stats-panel">
            <div class="stats">
                <div class="stat-item">
                    <div>Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ø§Ù…ØªÛŒØ§Ø²</div>
                    <div class="stat-value" id="highScore">0</div>
                </div>
                <div class="stat-item">
                    <div>Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡</div>
                    <div class="stat-value" id="highLevel">1</div>
                </div>
                <div class="stat-item">
                    <div>Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ú©Ø³Ø¨ Ø´Ø¯Ù‡</div>
                    <div class="stat-value" id="achievementsCount">0/100</div>
                </div>
                <div class="stat-item">
                    <div>Ú©Ù„ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§</div>
                    <div class="stat-value" id="totalCoinsCollected">0</div>
                </div>
            </div>
        </div>
    </div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ -->









    <!-- Ø´Ø±ÙˆØ¹ ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒ -->
    <div id="gameScreen" class="hidden"></div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒ -->









    <!-- Ø´Ø±ÙˆØ¹ Ù†Ø´Ø§Ù†Ú¯Ø± Ø³ÙˆØ®Øª -->
    <div class="fuel-indicator hidden">â›½ Ø³ÙˆØ®Øª: 100%</div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ Ù†Ø´Ø§Ù†Ú¯Ø± Ø³ÙˆØ®Øª -->









    <!-- Ø´Ø±ÙˆØ¹ Ù†Ø´Ø§Ù†Ú¯Ø± Ø¨Ø§Ø²ÛŒÚ©Ù† -->
    <div id="playerIndicator" class="hidden">ğŸ›¸ Ø§ÛŒÙ† Ø´Ù…Ø§ Ù‡Ø³ØªÛŒØ¯!</div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ Ù†Ø´Ø§Ù†Ú¯Ø± Ø¨Ø§Ø²ÛŒÚ©Ù† -->









    <!-- Ø´Ø±ÙˆØ¹ Ø¯Ú©Ù…Ù‡ Ø¨Ù…Ø¨ -->
    <button id="bombButton" class="bomb-button hidden" onclick="useBomb()">ğŸ’£</button>
    <div id="bombTimer" class="bomb-timer hidden">Ø¨Ù…Ø¨: 10s</div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ Ø¯Ú©Ù…Ù‡ Ø¨Ù…Ø¨ -->









    <!-- Ø´Ø±ÙˆØ¹ Ù†Ø´Ø§Ù†Ú¯Ø± Ø²Ù…Ø§Ù† Ø§Ù…Ù† -->
    <div id="safeTimeIndicator" class="safe-time-indicator hidden">Ø²Ù…Ø§Ù† Ø§Ù…Ù†: 5s</div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ Ù†Ø´Ø§Ù†Ú¯Ø± Ø²Ù…Ø§Ù† Ø§Ù…Ù† -->









    <!-- Ø´Ø±ÙˆØ¹ Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ -->
    <div class="touch-controls hidden">
        <div class="joystick">
            <div class="joystick-handle"></div>
            <div class="joystick-center"></div>
        </div>
    </div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ -->









    <!-- Ø´Ø±ÙˆØ¹ ØµÙØ­Ù‡ Ù¾Ø§ÛŒØ§Ù† Ù…Ø±Ø­Ù„Ù‡ -->
    <div id="levelComplete">
        <h2 style="font-size: 2.5rem; margin-bottom: 20px; color: #00ff88;">ØªØ¨Ø±ÛŒÚ©! ğŸ‰</h2>
        <p style="font-size: 1.5rem; margin-bottom: 30px; color: #aaffaa;">Ù…Ø±Ø­Ù„Ù‡ <span id="completedLevel">1</span> ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯!</p>
        <p style="font-size: 1.2rem; margin-bottom: 40px; color: #aaddff;">Ø¢Ù…Ø§Ø¯Ù‡ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯ÛŒ Ù‡Ø³ØªÛŒØŸ</p>
        <button id="nextLevelButton" style="background: linear-gradient(45deg, #00ccff, #0066ff); border: none; padding: 15px 30px; font-size: 1.2rem; border-radius: 50px; cursor: pointer; color: white; font-weight: bold;">Ø¨Ø±Ùˆ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯</button>
    </div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ ØµÙØ­Ù‡ Ù¾Ø§ÛŒØ§Ù† Ù…Ø±Ø­Ù„Ù‡ -->









    <!-- Ø´Ø±ÙˆØ¹ Ù„ÙˆØ¯ÛŒÙ†Ú¯ Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ -->
    <div id="loadingScreen" class="loading-container hidden">
        <div class="coin-3d">ğŸŒ</div>
        <div class="loading-text" id="loadingText">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</div>
    </div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ Ù„ÙˆØ¯ÛŒÙ†Ú¯ Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ -->









    <!-- Ø´Ø±ÙˆØ¹ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ -->
    <div id="achievementsModal" class="achievement-modal hidden">
        <div class="achievement-cup">ğŸ†</div>
        <h2 style="font-size: 2rem; margin-bottom: 20px; color: gold;">Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§</h2>
        <div class="achievement-grid" id="achievementGrid">
            <!-- Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
        </div>
        <button class="main-btn" onclick="closeAchievements()" style="margin-top: 20px;">Ø¨Ø³ØªÙ†</button>
    </div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ -->









    <!-- Ø´Ø±ÙˆØ¹ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ -->
    <div id="instructionsModal" class="instructions-modal hidden">
        <div class="instructions-content">
            <h2>ğŸ“– Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¬Ø§Ù…Ø¹ Ø¨Ø§Ø²ÛŒ Ú©Ù‡Ú©Ø´Ø§Ù†ÛŒ</h2>
            
            <p>ğŸ¯ <strong>Ù‡Ø¯Ù Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ:</strong><br>
            Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø·Ù„Ø§ÛŒÛŒ Ùˆ Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ù…Ù…Ú©Ù†. Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ø³ÙÛŒÙ†Ù‡ Ø®ÙˆØ¯ Ø¯Ø± ÙØ¶Ø§ Ø­Ø±Ú©Øª Ú©Ø±Ø¯Ù‡ Ùˆ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ Ø±Ø§ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ú©Ù†ÛŒØ¯.</p>

            <p>ğŸ›¸ <strong>Ú©Ù†ØªØ±Ù„ Ø³ÙÛŒÙ†Ù‡:</strong><br>
            â€¢ Ø¨Ø§ Ù…ÙˆØ³ ÛŒØ§ Ù„Ù…Ø³ ØµÙØ­Ù‡ Ø­Ø±Ú©Øª Ú©Ù†ÛŒØ¯<br>
            â€¢ Ø­Ø±Ú©Øª Ú©Ø§Ù…Ù„Ø§Ù‹ Ø±ÙˆØ§Ù† Ùˆ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ<br>
            â€¢ Ø³ÙÛŒÙ†Ù‡ Ø¨Ù‡ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¯ Ø¨Ù‡ØªØ±</p>

            <p>ğŸŒ <strong>Ø³ÛŒØ³ØªÙ… Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§:</strong><br>
            â€¢ Ù‡Ø± Ù…Ø¯Ø§Ù„ Ø¨Ø±Ø§ÛŒ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú†Ù†Ø¯ÛŒÙ† Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¯Ø§Ø±Ø¯<br>
            â€¢ Ø¹Ø¯Ø¯ Ø±ÙˆÛŒ Ù…Ø¯Ø§Ù„ Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø§ Ù…Ø±Ø­Ù„Ù‡ ÙØ¹Ù„ÛŒ Ø§Ø³Øª<br>
            â€¢ Ø¨Ø§ Ù‡Ø± Ù…Ø±Ø­Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯<br>
            â€¢ Ù¾Ø³ Ø§Ø² Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒØŒ Ù…Ø¯Ø§Ù„ Ø¨Ù‡ Ù‚Ø·Ø§Ø± Ù¾Ø´Øª Ø³ÙÛŒÙ†Ù‡ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</p>

            <p>ğŸŒ‹ <strong>Ø®Ø·Ø± Ø¢ØªØ´ÙØ´Ø§Ù†â€ŒÙ‡Ø§:</strong><br>
            â€¢ Ø§Ø² Ø¨Ø±Ø®ÙˆØ±Ø¯ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ø§ Ø¢ØªØ´ÙØ´Ø§Ù†â€ŒÙ‡Ø§ Ø¯ÙˆØ±ÛŒ Ú©Ù†ÛŒØ¯<br>
            â€¢ Ø¢ØªØ´ÙØ´Ø§Ù†â€ŒÙ‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ù¾ÙˆÛŒØ§ Ø§Ø² Ø¬Ù‡Ø§Øª Ù…Ø®ØªÙ„Ù Ù…ÛŒâ€ŒØ¢ÛŒÙ†Ø¯<br>
            â€¢ Ø­Ø¯Ø§Ú©Ø«Ø± Û· Ø¢ØªØ´ÙØ´Ø§Ù† Ù‡Ù…Ø²Ù…Ø§Ù† Ø¯Ø± ØµÙØ­Ù‡<br>
            â€¢ Ø³Ø±Ø¹Øª Ø¢Ù†â€ŒÙ‡Ø§ Ø¨Ø§ Ù¾ÛŒØ´Ø±ÙØª Ù…Ø±Ø§Ø­Ù„ Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯</p>

            <p>ğŸ’£ <strong>Ø³ÛŒØ³ØªÙ… Ø¨Ù…Ø¨:</strong><br>
            â€¢ Ù‡Ø± Û±Û° Ø«Ø§Ù†ÛŒÙ‡ ÛŒÚ© Ø¨Ù…Ø¨ Ø¯Ø± Ø§Ø®ØªÛŒØ§Ø± Ø¯Ø§Ø±ÛŒØ¯<br>
            â€¢ Ø¨Ø§ ÙØ´Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ Ø¨Ù…Ø¨ØŒ ØªÙ…Ø§Ù… Ø¢ØªØ´ÙØ´Ø§Ù†â€ŒÙ‡Ø§ Ù†Ø§Ø¨ÙˆØ¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯<br>
            â€¢ Ù¾Ø³ Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡ØŒ Ûµ Ø«Ø§Ù†ÛŒÙ‡ Ø²Ù…Ø§Ù† Ø§Ù…Ù† Ø¯Ø§Ø±ÛŒØ¯<br>
            â€¢ Ø¯Ø± Ø²Ù…Ø§Ù† Ø§Ù…Ù†ØŒ Ø¢ØªØ´ÙØ´Ø§Ù†â€ŒÙ‡Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø¢Ø³ÛŒØ¨ Ø¨Ø±Ø³Ø§Ù†Ù†Ø¯</p>

            <p>â›½ <strong>Ø³ÛŒØ³ØªÙ… Ø³ÙˆØ®Øª:</strong><br>
            â€¢ Ø³ÙˆØ®Øª Ø¨Ù‡ ØªØ¯Ø±ÛŒØ¬ Ú©Ø§Ù‡Ø´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯<br>
            â€¢ Ø¨Ø§ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ØŒ Ø³ÙˆØ®Øª Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯<br>
            â€¢ Ø§Ú¯Ø± Ø³ÙˆØ®Øª Ø¨Ù‡ ØµÙØ± Ø¨Ø±Ø³Ø¯ØŒ Ø¨Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯<br>
            â€¢ Ù‡Ù…ÛŒØ´Ù‡ Ù…Ø±Ø§Ù‚Ø¨ Ù†Ø´Ø§Ù†Ú¯Ø± Ø³ÙˆØ®Øª Ø¨Ø§Ø´ÛŒØ¯</p>

            <p>ğŸ† <strong>Ø³ÛŒØ³ØªÙ… Ù¾ÛŒØ´Ø±ÙØª:</strong><br>
            â€¢ Ø¨Ø§ ØªÚ©Ù…ÛŒÙ„ Ù‡Ø± Ù…Ø±Ø­Ù„Ù‡ØŒ ÛŒÚ© Ù…Ø¯Ø§Ù„ Ø¬Ø¯ÛŒØ¯ Ú©Ø³Ø¨ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯<br>
            â€¢ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø§Ù…ØªÛŒØ§Ø²ÛŒ Ø¯Ø± Ø§Ù…ØªÛŒØ§Ø²Ù‡Ø§ÛŒ Ø®Ø§ØµÛŒ Ø¨Ø§Ø² Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯<br>
            â€¢ Ø¯Ø± Ù…Ø¬Ù…ÙˆØ¹ Û±Û°Û° Ù…Ø¯Ø§Ù„ Ù…Ø®ØªÙ„Ù Ø¨Ø±Ø§ÛŒ Ú©Ø³Ø¨ Ú©Ø±Ø¯Ù†<br>
            â€¢ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ Ø§Ø² Û±Û°Û° Ù‡Ø²Ø§Ø± Ø³Ú©Ù‡ Ø´Ø±ÙˆØ¹ Ø´Ø¯Ù‡ ØªØ§ Û±Û°Û° Ù…ÛŒÙ„ÛŒÙˆÙ†</p>

            <p>ğŸ® <strong>Ù†Ú©Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡:</strong><br>
            â€¢ Ø³Ø¹ÛŒ Ú©Ù†ÛŒØ¯ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ú¯Ø±ÙˆÙ‡ÛŒ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ú©Ù†ÛŒØ¯<br>
            â€¢ Ø¨Ù…Ø¨ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø­Ø±Ø§Ù†ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒØ¯<br>
            â€¢ Ø§Ø² Ú¯ÙˆØ´Ù‡â€ŒÙ‡Ø§ÛŒ ØµÙØ­Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªØ±Ø§Ø­Øª Ú©ÙˆØªØ§Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯<br>
            â€¢ Ø¨Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ù…Ø±Ø§Ø­Ù„ØŒ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ø®ÙˆØ¯ Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯</p>

            <p>âœ¨ <strong>ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡:</strong><br>
            â€¢ Ú¯Ø±Ø§ÙÛŒÚ© Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ Ùˆ Ø§ÙÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ<br>
            â€¢ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¨Ø§Ù„Ø§<br>
            â€¢ Ø·Ø±Ø§Ø­ÛŒ ÙˆØ§Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§<br>
            â€¢ Ø³ÛŒØ³ØªÙ… Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±</p>

            <button class="instructions-close" onclick="closeInstructions()">Ø¨Ø³ØªÙ† Ø±Ø§Ù‡Ù†Ù…Ø§</button>
        </div>
    </div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ -->









    <!-- Ø´Ø±ÙˆØ¹ Ù…ÙˆØ¯Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª -->
    <div id="managementModal" class="management-modal hidden">
        <div class="management-content">
            <h2>ğŸ”” Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª</h2>
            
            <div class="management-message">
                <p>ğŸ® <strong>Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ Ú©Ù‡Ú©Ø´Ø§Ù†ÛŒ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!</strong></p>
                <p>âœ¨ Ø¨Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¨Ù‡ÛŒÙ†Ù‡ Ø´Ø¯Ù‡ Ùˆ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø±Ø§Ø¦Ù‡ ØªØ¬Ø±Ø¨Ù‡â€ŒØ§ÛŒ ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡ Ø§Ø³Øª.</p>
                <p>ğŸš€ <strong>ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯:</strong></p>
                <p>â€¢ Ø³ÛŒØ³ØªÙ… ØµÙˆØªÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¨Ø§ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡<br>
                   â€¢ Ú¯Ø±Ø§ÙÛŒÚ© Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ Ùˆ Ø§ÙÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ<br>
                   â€¢ Ú©Ù†ØªØ±Ù„ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø±ÙˆØ§Ù† Ùˆ Ù¾Ø§Ø³Ø®Ú¯Ùˆ<br>
                   â€¢ Ø³ÛŒØ³ØªÙ… Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±</p>
                <p>â­ Ø§Ø² Ø¨Ø§Ø²ÛŒ Ù„Ø°Øª Ø¨Ø¨Ø±ÛŒØ¯ Ùˆ Ø¨Ù‡ Ú©Ù‡Ú©Ø´Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¯ÙˆØ± Ø³ÙØ± Ú©Ù†ÛŒØ¯!</p>
            </div>

            <button class="management-close" onclick="closeManagement()">Ø¨Ø³ØªÙ† Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡</button>
        </div>
    </div>
    <!-- ØªÙ…Ø§Ù… Ø´Ø¯ Ù…ÙˆØ¯Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª -->









    <script>
        // Ø´Ø±ÙˆØ¹ Ø³ÛŒØ³ØªÙ… Ú©Ù‡Ú©Ø´Ø§Ù† Ùˆ Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ØªØ­Ø±Ú©
        function createGalaxyBackground() {
            const galaxy = document.getElementById('galaxyBackground');
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø«Ø§Ø¨Øª - ØªØ¹Ø¯Ø§Ø¯ Ø¨ÛŒØ´ØªØ± Ø¨Ø±Ø§ÛŒ Ù¾Ø±ØªØ± Ø´Ø¯Ù†
            for (let i = 0; i < 400; i++) {
                const star = document.createElement('div');
                const size = Math.random();
                if (size < 0.5) {
                    star.className = 'star small';
                } else if (size < 0.8) {
                    star.className = 'star medium';
                } else if (size < 0.95) {
                    star.className = 'star large';
                } else {
                    star.className = 'star cluster';
                }
                
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.setProperty('--duration', (2 + Math.random() * 3) + 's');
                star.style.animationDelay = Math.random() * 5 + 's';
                
                galaxy.appendChild(star);
            }
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø³Ø­Ø§Ø¨ÛŒâ€ŒÙ‡Ø§ - ØªØ¹Ø¯Ø§Ø¯ Ø¨ÛŒØ´ØªØ±
            const nebulaColors = ['purple', 'blue', 'pink'];
            for (let i = 0; i < 8; i++) {
                const nebula = document.createElement('div');
                nebula.className = `nebula ${nebulaColors[i % 3]}`;
                nebula.style.left = Math.random() * 80 + 10 + '%';
                nebula.style.top = Math.random() * 80 + 10 + '%';
                nebula.style.animationDelay = Math.random() * 10 + 's';
                galaxy.appendChild(nebula);
            }
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù‡Ú©Ø´Ø§Ù†ÛŒ
            for (let i = 0; i < 5; i++) {
                const cluster = document.createElement('div');
                cluster.className = 'galaxy-cluster';
                cluster.style.left = Math.random() * 70 + 15 + '%';
                cluster.style.top = Math.random() * 70 + 15 + '%';
                cluster.style.animationDelay = Math.random() * 20 + 's';
                galaxy.appendChild(cluster);
            }
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø³ÛŒØ§Ø±Ø§Øª Ø¯ÙˆØ±Ø¯Ø³Øª
            const planet1 = document.createElement('div');
            planet1.className = 'planet orange';
            planet1.style.left = '10%';
            planet1.style.top = '15%';
            galaxy.appendChild(planet1);
            
            const planet2 = document.createElement('div');
            planet2.className = 'planet blue';
            planet2.style.left = '85%';
            planet2.style.top = '75%';
            galaxy.appendChild(planet2);
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø¬Ø±Ø§Ù… Ø¢Ø³Ù…Ø§Ù†ÛŒ Ú©ÙˆÚ†Ú© Ø¯Ø± Ø³Ø±Ø§Ø³Ø± Ú©Ù‡Ú©Ø´Ø§Ù†
            const celestialBodies = ['ğŸª', 'ğŸŒ™', 'ğŸŒ˜', 'â˜€ï¸', 'ğŸŒ—'];
            for (let i = 0; i < 200; i++) {
                const body = document.createElement('div');
                body.className = 'celestial-body';
                body.innerHTML = celestialBodies[Math.floor(Math.random() * celestialBodies.length)];
                body.style.left = Math.random() * 100 + '%';
                body.style.top = Math.random() * 100 + '%';
                body.style.fontSize = (Math.random() * 10 + 10) + 'px';
                body.style.animationDelay = Math.random() * 10 + 's';
                galaxy.appendChild(body);
            }
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø´Ù‡Ø§Ø¨â€ŒØ³Ù†Ú¯â€ŒÙ‡Ø§ÛŒ Ù…ØªÙ†Ø§ÙˆØ¨ - ØªØ¹Ø¯Ø§Ø¯ Ø¨ÛŒØ´ØªØ±
            setInterval(createShootingStar, 1500);
        }

        function createShootingStar() {
            const galaxy = document.getElementById('galaxyBackground');
            const shootingStar = document.createElement('div');
            shootingStar.className = 'shooting-star';
            
            const startX = -100;
            const startY = Math.random() * 100;
            
            shootingStar.style.left = startX + 'px';
            shootingStar.style.top = startY + 'vh';
            shootingStar.style.setProperty('--shoot-duration', (1 + Math.random()) + 's');
            
            galaxy.appendChild(shootingStar);
            
            setTimeout(() => {
                shootingStar.remove();
            }, 3000);
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ Ø³ÛŒØ³ØªÙ… Ú©Ù‡Ú©Ø´Ø§Ù† Ùˆ Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ØªØ­Ø±Ú©









        // Ø´Ø±ÙˆØ¹ Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ±Ø¨ÛŒÙ† Ùˆ Ø¬Ù‡Ø§Ù† Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª
        function createInfiniteUniverse() {
            const universe = document.getElementById('infiniteUniverse');
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù‡Ú©Ø´Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¯ÙˆØ±Ø¯Ø³Øª - ØªØ¹Ø¯Ø§Ø¯ Ø¨ÛŒØ´ØªØ±
            for (let i = 0; i < 15; i++) {
                const galaxy = document.createElement('div');
                galaxy.className = 'distant-galaxy spiral';
                galaxy.style.left = Math.random() * 4000 + 500 + 'px';
                galaxy.style.top = Math.random() * 4000 + 500 + 'px';
                universe.appendChild(galaxy);
            }
            
            // Ø§ÛŒØ¬Ø§Ø¯ ØºØ¨Ø§Ø±Ù‡Ø§ÛŒ ÙØ¶Ø§ÛŒÛŒ - ØªØ¹Ø¯Ø§Ø¯ Ø¨ÛŒØ´ØªØ±
            for (let i = 0; i < 100; i++) {
                const dust = document.createElement('div');
                dust.className = 'space-dust';
                dust.style.width = Math.random() * 4 + 1 + 'px';
                dust.style.height = dust.style.width;
                dust.style.left = Math.random() * 5000 + 'px';
                dust.style.top = Math.random() * 5000 + 'px';
                dust.style.opacity = Math.random() * 0.4 + 0.1;
                universe.appendChild(dust);
            }
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø³ÛŒØ§Ù‡â€ŒÚ†Ø§Ù„Ù‡â€ŒÙ‡Ø§
            for (let i = 0; i < 5; i++) {
                const blackHole = document.createElement('div');
                blackHole.className = 'black-hole';
                blackHole.style.width = Math.random() * 80 + 40 + 'px';
                blackHole.style.height = blackHole.style.width;
                blackHole.style.left = Math.random() * 4500 + 250 + 'px';
                blackHole.style.top = Math.random() * 4500 + 250 + 'px';
                universe.appendChild(blackHole);
            }
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒØ¯Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ§Ø±Ú©ÛŒ - ØªØ¹Ø¯Ø§Ø¯ Ø¨ÛŒØ´ØªØ±
            for (let i = 0; i < 8; i++) {
                const asteroidField = document.createElement('div');
                asteroidField.className = 'asteroid-field';
                asteroidField.style.left = Math.random() * 4000 + 500 + 'px';
                asteroidField.style.top = Math.random() * 4000 + 500 + 'px';
                universe.appendChild(asteroidField);
            }
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ø¯Ø¯Ø¯Ø§Ø± Ø¯Ø± Ø³Ø±Ø§Ø³Ø± Ø¬Ù‡Ø§Ù†
            createNumberedSpheres();
        }
        
        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ø¯Ø¯Ø¯Ø§Ø±
        function createNumberedSpheres() {
            const universe = document.getElementById('infiniteUniverse');
            
            for (let i = 0; i < 50; i++) {
                const sphere = document.createElement('div');
                sphere.className = 'numbered-sphere';
                
                const size = Math.random() * 40 + 20;
                sphere.style.width = size + 'px';
                sphere.style.height = size + 'px';
                
                const x = Math.random() * 4500 + 250;
                const y = Math.random() * 4500 + 250;
                
                sphere.style.left = x + 'px';
                sphere.style.top = y + 'px';
                
                const number = Math.floor(Math.random() * 100) + 1;
                sphere.textContent = number;
                
                universe.appendChild(sphere);
                
                numberedSpheres.push({
                    element: sphere,
                    x: x,
                    y: y,
                    size: size,
                    number: number
                });
            }
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ø¯Ø¯Ø¯Ø§Ø±

        // Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø¨Ø§ Ù†Ù…Ø§ÛŒ Ø¨Ø§Ù„Ø§ (ÙÛŒÙ„Ù…â€ŒØ¨Ø±Ø¯Ø§Ø±ÛŒ Ø§Ø² Ú¯ÙˆØ¯ÛŒ)
        function setupCameraSystem() {
            cameraOffsetX = 0;
            cameraOffsetY = 0;
            cameraSmoothing = 0.08; // Ù†Ø±Ù…â€ŒØªØ± Ø¨Ø±Ø§ÛŒ Ø­Ø³ ÙÛŒÙ„Ù…â€ŒØ¨Ø±Ø¯Ø§Ø±ÛŒ
            universeScale = 1;
            cameraTilt = 0;
        }

        function updateCamera() {
            if (!gameRunning) return;
            
            // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù‡Ø¯Ù Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø¨Ø§ Ø§ÙÚ©Øª Ú¯ÙˆØ¯ÛŒ
            const targetX = -player.x + window.innerWidth / 2;
            const targetY = -player.y + window.innerHeight / 2;
            
            // Ø§Ø¹Ù…Ø§Ù„ smoothing Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¨Ø±Ø§ÛŒ Ø­Ø±Ú©Øª Ø³ÛŒÙ†Ù…Ø§ÛŒÛŒ
            cameraOffsetX += (targetX - cameraOffsetX) * cameraSmoothing;
            cameraOffsetY += (targetY - cameraOffsetY) * cameraSmoothing;
            
            // Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø­Ø±Ú©Øª Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø¨Ù‡ Ù…Ø±Ø²Ù‡Ø§ÛŒ Ø¬Ù‡Ø§Ù†
            const maxOffsetX = 0;
            const minOffsetX = -5000 + window.innerWidth;
            const maxOffsetY = 0;
            const minOffsetY = -5000 + window.innerHeight;
            
            cameraOffsetX = Math.max(minOffsetX, Math.min(maxOffsetX, cameraOffsetX));
            cameraOffsetY = Math.max(minOffsetY, Math.min(maxOffsetY, cameraOffsetY));
            
            // Ø§Ø¹Ù…Ø§Ù„ transform Ø¨Ù‡ Ø¬Ù‡Ø§Ù† Ø¨Ø§ Ø§ÙÚ©Øª Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ
            const universe = document.getElementById('infiniteUniverse');
            universe.style.transform = `
                translate(${cameraOffsetX}px, ${cameraOffsetY}px) 
                scale(${universeScale})
                perspective(1000px)
                rotateX(${cameraTilt}deg)
            `;
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ Ù†Ø³Ø¨Øª Ø¨Ù‡ Ø¯ÙˆØ±Ø¨ÛŒÙ†
            updateGameElementsPosition();
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒÙ†ÛŒ Ù…Ù¾
            updateMiniMap();
        }
        
        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒÙ†ÛŒ Ù…Ù¾
        function updateMiniMap() {
            const mapPlayer = document.querySelector('.map-player');
            const mapEnemies = document.querySelectorAll('.map-enemy');
            const mapCoins = document.querySelectorAll('.map-coin');
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯Ø± Ù…ÛŒÙ†ÛŒ Ù…Ù¾
            if (mapPlayer) {
                const mapX = (player.x / 5000) * 200;
                const mapY = (player.y / 5000) * 200;
                mapPlayer.style.left = mapX + 'px';
                mapPlayer.style.top = mapY + 'px';
            }
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯Ø´Ù…Ù†Ø§Ù† Ø¯Ø± Ù…ÛŒÙ†ÛŒ Ù…Ù¾
            mapEnemies.forEach(enemy => enemy.remove());
            enemies.forEach(enemy => {
                const mapEnemy = document.createElement('div');
                mapEnemy.className = 'map-enemy';
                const mapX = (enemy.x / 5000) * 200;
                const mapY = (enemy.y / 5000) * 200;
                mapEnemy.style.left = mapX + 'px';
                mapEnemy.style.top = mapY + 'px';
                document.querySelector('.mini-map').appendChild(mapEnemy);
            });
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø³Ú©Ù‡â€ŒÙ‡Ø§ Ø¯Ø± Ù…ÛŒÙ†ÛŒ Ù…Ù¾
            mapCoins.forEach(coin => coin.remove());
            coins.forEach(coin => {
                if (!coin.collected) {
                    const mapCoin = document.createElement('div');
                    mapCoin.className = 'map-coin';
                    const mapX = (coin.x / 5000) * 200;
                    const mapY = (coin.y / 5000) * 200;
                    mapCoin.style.left = mapX + 'px';
                    mapCoin.style.top = mapY + 'px';
                    document.querySelector('.mini-map').appendChild(mapCoin);
                }
            });
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒÙ†ÛŒ Ù…Ù¾

        function updateGameElementsPosition() {
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ† Ø­Ø±Ú©Øª Ø¯ÙˆØ±Ø¨ÛŒÙ†
            if (playerElement) {
                playerElement.style.left = (player.x + cameraOffsetX) + 'px';
                playerElement.style.top = (player.y + cameraOffsetY) + 'px';
            }
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø³Ú©Ù‡â€ŒÙ‡Ø§
            coins.forEach(coin => {
                coin.element.style.left = (coin.x + cameraOffsetX) + 'px';
                coin.element.style.top = (coin.y + cameraOffsetY) + 'px';
                coin.numberElement.style.left = (coin.x + cameraOffsetX) + 'px';
                coin.numberElement.style.top = (coin.y + cameraOffsetY) + 'px';
            });
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯Ø´Ù…Ù†Ø§Ù†
            enemies.forEach(enemy => {
                enemy.element.style.left = (enemy.x + cameraOffsetX) + 'px';
                enemy.element.style.top = (enemy.y + cameraOffsetY) + 'px';
            });
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ú©Ø±Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ®Ø±ÛŒØ¨â€ŒÚ¯Ø±
            destructionSpheres.forEach(sphere => {
                sphere.element.style.left = (sphere.x + cameraOffsetX - sphere.size/2) + 'px';
                sphere.element.style.top = (sphere.y + cameraOffsetY - sphere.size/2) + 'px';
            });
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ú¯Ù„ÙˆÙ„Ù‡â€ŒÙ‡Ø§
            bullets.forEach(bullet => {
                bullet.element.style.left = (bullet.x + cameraOffsetX) + 'px';
                bullet.element.style.top = (bullet.y + cameraOffsetY) + 'px';
            });
        }

        // Ø³ÛŒØ³ØªÙ… Ú©Ø±Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ®Ø±ÛŒØ¨â€ŒÚ¯Ø±
        function spawnDestructionSphere() {
            if (destructionSpheres.length >= 3) return;
            
            const sizes = ['small', 'medium', 'large'];
            const sizeType = sizes[Math.floor(Math.random() * sizes.length)];
            let size, speed;
            
            switch(sizeType) {
                case 'small':
                    size = 60;
                    speed = 3;
                    break;
                case 'medium':
                    size = 100;
                    speed = 2;
                    break;
                case 'large':
                    size = 150;
                    speed = 1.5;
                    break;
            }
            
            const sphereElement = document.createElement('div');
            sphereElement.className = `destruction-sphere ${sizeType}`;
            sphereElement.style.position = 'absolute';
            
            // Ù…ÙˆÙ‚Ø¹ÛŒØª ØªØµØ§Ø¯ÙÛŒ Ø¯Ø± Ø¬Ù‡Ø§Ù†
            const x = Math.random() * (5000 - size) + size/2;
            const y = Math.random() * (5000 - size) + size/2;
            
            sphereElement.style.left = (x + cameraOffsetX - size/2) + 'px';
            sphereElement.style.top = (y + cameraOffsetY - size/2) + 'px';
            
            gameScreen.appendChild(sphereElement);
            
            const sphere = {
                element: sphereElement,
                x: x,
                y: y,
                size: size,
                speed: speed,
                direction: Math.random() * Math.PI * 2,
                type: sizeType
            };
            
            destructionSpheres.push(sphere);
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø§ÙÚ©Øª Ø¸Ù‡ÙˆØ±
            createSphereSpawnEffect(x, y, size);
        }

        function updateDestructionSpheres() {
            for (let i = destructionSpheres.length - 1; i >= 0; i--) {
                const sphere = destructionSpheres[i];
                
                // Ø­Ø±Ú©Øª Ú©Ø±Ù‡
                sphere.x += Math.cos(sphere.direction) * sphere.speed;
                sphere.y += Math.sin(sphere.direction) * sphere.speed;
                
                // Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¨Ø§ Ø¯ÛŒÙˆØ§Ø±Ù‡Ø§
                if (sphere.x < sphere.size/2 || sphere.x > 5000 - sphere.size/2) {
                    sphere.direction = Math.PI - sphere.direction;
                    createSphereTrail(sphere.x, sphere.y);
                }
                if (sphere.y < sphere.size/2 || sphere.y > 5000 - sphere.size/2) {
                    sphere.direction = -sphere.direction;
                    createSphereTrail(sphere.x, sphere.y);
                }
                
                // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª
                sphere.element.style.left = (sphere.x + cameraOffsetX - sphere.size/2) + 'px';
                sphere.element.style.top = (sphere.y + cameraOffsetY - sphere.size/2) + 'px';
                
                // Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¨Ø§ Ø¨Ø§Ø²ÛŒÚ©Ù†
                const distance = Math.sqrt(
                    Math.pow(player.x - sphere.x, 2) + 
                    Math.pow(player.y - sphere.y, 2)
                );
                
                if (distance < player.size/2 + sphere.size/2) {
                    // ØªØ®Ø±ÛŒØ¨ Ú©Ø±Ù‡ Ùˆ Ø¢Ø³ÛŒØ¨ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†
                    createSphereExplosion(sphere.x, sphere.y, sphere.size);
                    sphere.element.remove();
                    destructionSpheres.splice(i, 1);
                    
                    // Ø¢Ø³ÛŒØ¨ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†
                    player.fuel = Math.max(0, player.fuel - 20);
                    updateFuel();
                    createHitEffect(player.x, player.y);
                    
                    if (player.fuel <= 0) {
                        gameOver();
                    }
                }
                
                // Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¨Ø§ Ú¯Ù„ÙˆÙ„Ù‡â€ŒÙ‡Ø§
                for (let j = bullets.length - 1; j >= 0; j--) {
                    const bullet = bullets[j];
                    const bulletDistance = Math.sqrt(
                        Math.pow(bullet.x - sphere.x, 2) + 
                        Math.pow(bullet.y - sphere.y, 2)
                    );
                    
                    if (bulletDistance < sphere.size/2) {
                        // ØªØ®Ø±ÛŒØ¨ Ú©Ø±Ù‡ Ø¨Ø§ Ú¯Ù„ÙˆÙ„Ù‡
                        createSphereExplosion(sphere.x, sphere.y, sphere.size);
                        sphere.element.remove();
                        destructionSpheres.splice(i, 1);
                        
                        // Ø­Ø°Ù Ú¯Ù„ÙˆÙ„Ù‡
                        bullet.element.remove();
                        bullets.splice(j, 1);
                        
                        // Ø§ÙØ²Ø§ÛŒØ´ Ø§Ù…ØªÛŒØ§Ø²
                        score += 50;
                        break;
                    }
                }
            }
        }

        function createSphereSpawnEffect(x, y, size) {
            const effect = document.createElement('div');
            effect.style.position = 'absolute';
            effect.style.left = (x + cameraOffsetX - size/2) + 'px';
            effect.style.top = (y + cameraOffsetY - size/2) + 'px';
            effect.style.width = size + 'px';
            effect.style.height = size + 'px';
            effect.style.borderRadius = '50%';
            effect.style.background = 'radial-gradient(circle, #ff4444, transparent)';
            effect.style.opacity = '0';
            effect.style.zIndex = '29';
            effect.style.animation = 'spherePulse 0.5s forwards';
            
            gameScreen.appendChild(effect);
            
            setTimeout(() => {
                effect.remove();
            }, 500);
        }

        function createSphereTrail(x, y) {
            const trail = document.createElement('div');
            trail.className = 'sphere-trail';
            trail.style.left = (x + cameraOffsetX) + 'px';
            trail.style.top = (y + cameraOffsetY) + 'px';
            
            gameScreen.appendChild(trail);
            
            setTimeout(() => {
                trail.remove();
            }, 1000);
        }

        function createSphereExplosion(x, y, size) {
            const explosion = document.createElement('div');
            explosion.style.position = 'absolute';
            explosion.style.left = (x + cameraOffsetX - size) + 'px';
            explosion.style.top = (y + cameraOffsetY - size) + 'px';
            explosion.style.width = (size * 2) + 'px';
            explosion.style.height = (size * 2) + 'px';
            explosion.style.borderRadius = '50%';
            explosion.style.background = 'radial-gradient(circle, #ff4444, #cc0000, transparent)';
            explosion.style.opacity = '0.8';
            explosion.style.zIndex = '31';
            explosion.style.transition = 'all 0.5s';
            
            gameScreen.appendChild(explosion);
            
            setTimeout(() => {
                explosion.style.transform = 'scale(1.5)';
                explosion.style.opacity = '0';
                
                setTimeout(() => {
                    explosion.remove();
                }, 500);
            }, 10);
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ±Ø¨ÛŒÙ† Ùˆ Ø¬Ù‡Ø§Ù† Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª









        // Ø´Ø±ÙˆØ¹ Ø³ÛŒØ³ØªÙ… ØµÙˆØªÛŒ - Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡
        let backgroundMusic = null;
        
        function playBackgroundMusic() {
            try {
                backgroundMusic = new Audio('m.mp3');
                backgroundMusic.loop = true;
                backgroundMusic.volume = 0.3;
                backgroundMusic.play().catch(e => {
                    console.log('Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ù¾Ø®Ø´ Ù†Ø´Ø¯:', e);
                });
            } catch (error) {
                console.log('Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø®Ø´ Ù…ÙˆØ³ÛŒÙ‚ÛŒ:', error);
            }
        }
        
        function stopBackgroundMusic() {
            if (backgroundMusic) {
                backgroundMusic.pause();
                backgroundMusic.currentTime = 0;
            }
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ Ø³ÛŒØ³ØªÙ… ØµÙˆØªÛŒ - Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡









        // Ø´Ø±ÙˆØ¹ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¯Ø± localStorage
        function saveGameData() {
            try {
                const gameData = {
                    highScore: Math.max(score, parseInt(localStorage.getItem('highScore')) || 0),
                    highLevel: Math.max(currentLevel, parseInt(localStorage.getItem('highLevel')) || 1),
                    totalCoins: (parseInt(localStorage.getItem('totalCoins')) || 0) + coinsCollected,
                    achievements: JSON.parse(localStorage.getItem('achievements')) || {}
                };
                
                checkAchievements();
                
                localStorage.setItem('highScore', gameData.highScore);
                localStorage.setItem('highLevel', gameData.highLevel);
                localStorage.setItem('totalCoins', gameData.totalCoins);
                localStorage.setItem('achievements', JSON.stringify(gameData.achievements));
                
                updateMainScreenStats();
            } catch (error) {
                console.log('Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§:', error);
            }
        }
        
        function loadGameData() {
            try {
                const highScore = localStorage.getItem('highScore') || 0;
                const highLevel = localStorage.getItem('highLevel') || 1;
                const totalCoins = localStorage.getItem('totalCoins') || 0;
                const achievements = JSON.parse(localStorage.getItem('achievements')) || {};
                
                document.getElementById('highScore').textContent = highScore;
                document.getElementById('highLevel').textContent = highLevel;
                document.getElementById('totalCoinsCollected').textContent = totalCoins;
                
                const achievedCount = Object.values(achievements).filter(a => a.achieved).length;
                document.getElementById('achievementsCount').textContent = `${achievedCount}/100`;
                
                return achievements;
            } catch (error) {
                console.log('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§:', error);
                return {};
            }
        }
        
        function updateMainScreenStats() {
            loadGameData();
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¯Ø± localStorage









        // Ø´Ø±ÙˆØ¹ ØªÙˆØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§
        function showAchievements() {
            try {
                const achievementsModal = document.getElementById('achievementsModal');
                const achievementGrid = document.getElementById('achievementGrid');
                const achievements = loadGameData();
                
                achievementGrid.innerHTML = '';
                
                for (let i = 1; i <= 100; i++) {
                    const achievementItem = document.createElement('div');
                    achievementItem.className = `achievement-item ${achievements[i] ? '' : 'locked'}`;
                    
                    const achievementIcon = document.createElement('div');
                    achievementIcon.className = 'achievement-icon';
                    achievementIcon.innerHTML = achievements[i] ? 'ğŸŒ' : 'ğŸ”’';
                    
                    const achievementText = document.createElement('div');
                    const coinsRequired = 100000 + (i-1) * 1000000;
                    achievementText.textContent = achievements[i] ? `Ù…Ø¯Ø§Ù„ ${i}` : `${coinsRequired.toLocaleString()} Ø³Ú©Ù‡`;
                    
                    achievementItem.appendChild(achievementIcon);
                    achievementItem.appendChild(achievementText);
                    achievementGrid.appendChild(achievementItem);
                }
                
                achievementsModal.classList.remove('hidden');
            } catch (error) {
                console.log('Ø®Ø·Ø§ Ø¯Ø± Ù†Ù…Ø§ÛŒØ´ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§:', error);
                alert('Ø®Ø·Ø§ Ø¯Ø± Ù†Ù…Ø§ÛŒØ´ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§');
            }
        }
        
        function closeAchievements() {
            document.getElementById('achievementsModal').classList.add('hidden');
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªÙˆØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§









        // Ø´Ø±ÙˆØ¹ ØªÙˆØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ø±Ø§Ù‡Ù†Ù…Ø§
        function showInstructions() {
            document.getElementById('instructionsModal').classList.remove('hidden');
        }
        
        function closeInstructions() {
            document.getElementById('instructionsModal').classList.add('hidden');
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªÙˆØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ø±Ø§Ù‡Ù†Ù…Ø§









        // Ø´Ø±ÙˆØ¹ ØªÙˆØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª
        function showManagement() {
            document.getElementById('managementModal').classList.remove('hidden');
        }

        function closeManagement() {
            document.getElementById('managementModal').classList.add('hidden');
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªÙˆØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§
        function checkAchievements() {
            try {
                const achievements = JSON.parse(localStorage.getItem('achievements')) || {};
                
                if (currentLevel > 0 && !achievements[currentLevel]) {
                    achievements[currentLevel] = { achieved: true, date: new Date().toLocaleDateString('fa-IR') };
                }
                
                const scoreMilestones = [100, 500, 1000, 2000, 5000, 10000, 20000, 50000, 100000];
                scoreMilestones.forEach(milestone => {
                    if (score >= milestone && !achievements[`score_${milestone}`]) {
                        achievements[`score_${milestone}`] = { achieved: true, date: new Date().toLocaleDateString('fa-IR') };
                    }
                });
                
                localStorage.setItem('achievements', JSON.stringify(achievements));
            } catch (error) {
                console.log('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§:', error);
            }
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ø³ÙˆØ®Øª
        function showFuelMessage(message) {
            const fuelIndicator = document.querySelector('.fuel-indicator');
            const originalText = fuelIndicator.textContent;
            
            fuelIndicator.textContent = message;
            fuelIndicator.style.background = 'linear-gradient(45deg, #00ff88, #00ccff)';
            
            setTimeout(() => {
                fuelIndicator.textContent = originalText;
                fuelIndicator.style.background = 'rgba(0, 0, 0, 0.7)';
            }, 3000);
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ø³ÙˆØ®Øª









        // Ø´Ø±ÙˆØ¹ Ø¹Ù†Ø§ØµØ± Ø§ØµÙ„ÛŒ
        const mainScreen = document.getElementById('mainScreen');
        const gameScreen = document.getElementById('gameScreen');
        const fuelIndicator = document.querySelector('.fuel-indicator');
        const playerIndicator = document.getElementById('playerIndicator');
        const bombButton = document.getElementById('bombButton');
        const bombTimer = document.getElementById('bombTimer');
        const safeTimeIndicator = document.getElementById('safeTimeIndicator');
        const nextLevelButton = document.getElementById('nextLevelButton');
        const completedLevelElement = document.getElementById('completedLevel');
        const levelComplete = document.getElementById('levelComplete');
        const loadingScreen = document.getElementById('loadingScreen');
        const loadingText = document.getElementById('loadingText');
        const touchControls = document.querySelector('.touch-controls');
        const joystick = document.querySelector('.joystick');
        const joystickHandle = document.querySelector('.joystick-handle');
        // ØªÙ…Ø§Ù… Ø´Ø¯ Ø¹Ù†Ø§ØµØ± Ø§ØµÙ„ÛŒ









        // Ø´Ø±ÙˆØ¹ Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ
        let player = { x: 2500, y: 2500, size: 80, rotation: 0, fuel: 100 };
        let playerElement = null;
        let coins = [];
        let enemies = [];
        let destructionSpheres = [];
        let numberedSpheres = [];
        let bullets = [];
        let coinTrail = [];
        let playerPath = [];
        let score = 0;
        let coinsCollected = 0;
        let currentLevel = 1;
        let totalCoinsNeeded = 20;
        let gameRunning = false;
        let bombCooldown = 0;
        let bombAvailable = false;
        let safeTime = 0;
        let isSafeTime = false;
        let fuelConsumption = 0;
        let enemySpawnTimer = 0;
        let sphereSpawnTimer = 0;
        let bulletTimer = 0;
        let currentEnemyGroup = 0;
        let currentStageData = null;
        
        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ
        let isTouching = false;
        let touchStartX = 0;
        let touchStartY = 0;
        let joystickBaseX = 0;
        let joystickBaseY = 0;
        let joystickRadius = 40;
        
        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ±Ø¨ÛŒÙ†
        let cameraOffsetX = 0;
        let cameraOffsetY = 0;
        let cameraSmoothing = 0.08;
        let universeScale = 1;
        let cameraTilt = 5; // Ø²Ø§ÙˆÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒ Ø¨Ø§Ù„Ø§
        // ØªÙ…Ø§Ù… Ø´Ø¯ Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ









        // Ø´Ø±ÙˆØ¹ ØªÙ†Ø¸ÛŒÙ… Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø¨Ø§Ø²ÛŒ
        function setupGame() {
            gameScreen.style.width = window.innerWidth + 'px';
            gameScreen.style.height = window.innerHeight + 'px';
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªÙ†Ø¸ÛŒÙ… Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø¨Ø§Ø²ÛŒ









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
        function startGame() {
            showLoadingScreen(() => {
                mainScreen.classList.add('hidden');
                gameScreen.classList.remove('hidden');
                fuelIndicator.classList.remove('hidden');
                bombButton.classList.remove('hidden');
                bombTimer.classList.remove('hidden');
                
                // Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒÙ†ÛŒ Ù…Ù¾
                createMiniMap();
                
                // Ù†Ù…Ø§ÛŒØ´ Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„
                if (window.innerWidth <= 480) {
                    touchControls.classList.remove('hidden');
                    setupTouchControls();
                }
                
                setupGame();
                setupCameraSystem();
                
                // Ø´Ø±ÙˆØ¹ Ù¾Ø®Ø´ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡
                playBackgroundMusic();
                
                playerIndicator.classList.remove('hidden');
                setTimeout(() => {
                    playerIndicator.classList.add('hidden');
                }, 3000);
                
                createPlayer();
                
                score = 0;
                coinsCollected = 0;
                currentLevel = parseInt(localStorage.getItem('highLevel')) || 1;
                totalCoinsNeeded = Math.min(20, 5 + currentLevel);
                bombCooldown = 0;
                bombAvailable = true;
                safeTime = 0;
                isSafeTime = false;
                playerPath = [];
                player.fuel = 100;
                fuelConsumption = 0;
                enemySpawnTimer = 0;
                sphereSpawnTimer = 0;
                bulletTimer = 0;
                bombButton.disabled = false;
                safeTimeIndicator.classList.add('hidden');
                
                // ØªÙ†Ø¸ÛŒÙ… Ù…ÙˆÙ‚Ø¹ÛŒØª Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯Ø± Ù…Ø±Ú©Ø² Ø¬Ù‡Ø§Ù†
                player.x = 2500;
                player.y = 2500;
                
                updateFuel();
                createCoins();
                
                gameRunning = true;
                gameLoop();
            });
        }
        
        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒÙ†ÛŒ Ù…Ù¾
        function createMiniMap() {
            const miniMap = document.createElement('div');
            miniMap.className = 'mini-map';
            
            const mapPlayer = document.createElement('div');
            mapPlayer.className = 'map-player';
            
            miniMap.appendChild(mapPlayer);
            document.body.appendChild(miniMap);
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒÙ†ÛŒ Ù…Ù¾
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ









        // Ø´Ø±ÙˆØ¹ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ
        function setupTouchControls() {
            try {
                const joystickRect = joystick.getBoundingClientRect();
                joystickBaseX = joystickRect.left + joystickRect.width / 2;
                joystickBaseY = joystickRect.top + joystickRect.height / 2;
                
                joystick.addEventListener('touchstart', handleTouchStart);
                document.addEventListener('touchmove', handleTouchMove);
                document.addEventListener('touchend', handleTouchEnd);
            } catch (error) {
                console.log('Ø®Ø·Ø§ Ø¯Ø± ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ:', error);
            }
        }
        
        function handleTouchStart(e) {
            e.preventDefault();
            isTouching = true;
            const touch = e.touches[0];
            touchStartX = touch.clientX;
            touchStartY = touch.clientY;
        }
        
        function handleTouchMove(e) {
            if (!isTouching || !gameRunning) return;
            e.preventDefault();
            
            const touch = e.touches[0];
            const deltaX = touch.clientX - joystickBaseX;
            const deltaY = touch.clientY - joystickBaseY;
            
            // Ù…Ø­Ø§Ø³Ø¨Ù‡ ÙØ§ØµÙ„Ù‡ Ø§Ø² Ù…Ø±Ú©Ø²
            const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
            const angle = Math.atan2(deltaY, deltaX);
            
            // Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ø´Ø¹Ø§Ø¹ Ø¬ÙˆÛŒØ³ØªÛŒÚ©
            const limitedDistance = Math.min(distance, joystickRadius);
            
            // Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬Ø¯ÛŒØ¯ Ù‡Ù†Ø¯Ù„
            const newX = limitedDistance * Math.cos(angle);
            const newY = limitedDistance * Math.sin(angle);
            
            joystickHandle.style.transform = `translate(${newX}px, ${newY}px)`;
            
            // Ø­Ø±Ú©Øª Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¬Ù‡Øª Ø¬ÙˆÛŒØ³ØªÛŒÚ©
            if (distance > 10) {
                const speed = 12;
                player.x += Math.cos(angle) * speed;
                player.y += Math.sin(angle) * speed;
                
                // Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ù…Ø±Ø²Ù‡Ø§ÛŒ Ø¬Ù‡Ø§Ù† (5000x5000)
                player.x = Math.max(player.size/2, Math.min(5000 - player.size/2, player.x));
                player.y = Math.max(player.size/2, Math.min(5000 - player.size/2, player.y));
                
                updatePlayerPosition();
            }
        }
        
        function handleTouchEnd(e) {
            isTouching = false;
            joystickHandle.style.transform = 'translate(0, 0)';
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ ØµÙØ­Ù‡ Ù„ÙˆØ¯ÛŒÙ†Ú¯
        function showLoadingScreen(callback) {
            loadingScreen.classList.remove('hidden');
            loadingText.textContent = "Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...";
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += 10;
                loadingText.textContent = `Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ... ${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        loadingScreen.classList.add('hidden');
                        callback();
                    }, 500);
                }
            }, 100);
        }

        function showLevelLoading(callback) {
            loadingScreen.classList.remove('hidden');
            loadingText.textContent = `Ø¯Ø± Ø­Ø§Ù„ Ø±ÙØªÙ† Ø¨Ù‡ Ù…Ø±Ø­Ù„Ù‡ ${currentLevel + 1}...`;
            
            setTimeout(() => {
                loadingScreen.classList.add('hidden');
                callback();
            }, 2000);
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ ØµÙØ­Ù‡ Ù„ÙˆØ¯ÛŒÙ†Ú¯









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†
        function createPlayer() {
            if (playerElement) {
                playerElement.remove();
            }
            
            playerElement = document.createElement('div');
            playerElement.className = 'player pulse';
            playerElement.innerHTML = 'ğŸ›¸';
            playerElement.style.position = 'absolute';
            
            playerElement.style.left = (player.x + cameraOffsetX) + 'px';
            playerElement.style.top = (player.y + cameraOffsetY) + 'px';
            
            gameScreen.appendChild(playerElement);
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†









        // Ø´Ø±ÙˆØ¹ ØªÙˆØ§Ø¨Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ø³Ú©Ù‡â€ŒÙ‡Ø§
        function createCoins() {
            document.querySelectorAll('.coin').forEach(coin => coin.remove());
            document.querySelectorAll('.coin-number').forEach(number => number.remove());
            coins = [];
            
            for (let i = 0; i < totalCoinsNeeded; i++) {
                createSingleCoin();
            }
        }

        function createSingleCoin() {
            const coinElement = document.createElement('div');
            coinElement.className = 'coin';
            coinElement.innerHTML = 'ğŸŒ';
            coinElement.style.position = 'absolute';
            
            const numberElement = document.createElement('div');
            numberElement.className = 'coin-number';
            const hitsRequired = currentLevel + 2;
            numberElement.textContent = hitsRequired;
            numberElement.style.position = 'absolute';
            
            // ØªÙˆØ²ÛŒØ¹ Ø³Ú©Ù‡â€ŒÙ‡Ø§ Ø¯Ø± Ú©Ù„ Ø¬Ù‡Ø§Ù† 5000x5000
            const x = Math.random() * (5000 - 160) + 80;
            const y = Math.random() * (5000 - 160) + 80;
            
            coinElement.style.left = (x + cameraOffsetX - 22) + 'px';
            coinElement.style.top = (y + cameraOffsetY - 22) + 'px';
            numberElement.style.left = (x + cameraOffsetX - 8) + 'px';
            numberElement.style.top = (y + cameraOffsetY - 8) + 'px';
            
            gameScreen.appendChild(coinElement);
            gameScreen.appendChild(numberElement);
            
            coins.push({
                element: coinElement,
                numberElement: numberElement,
                x: x,
                y: y,
                collected: false,
                hitsNeeded: hitsRequired,
                currentHits: 0
            });
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªÙˆØ§Ø¨Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ø³Ú©Ù‡â€ŒÙ‡Ø§









        // Ø´Ø±ÙˆØ¹ Ø³ÛŒØ³ØªÙ… ØªÙˆÙ„ÛŒØ¯ Ø¯Ø´Ù…Ù† Ù¾ÙˆÛŒØ§
        function spawnEnemyGroup() {
            const maxEnemies = 15; // Ø§ÙØ²Ø§ÛŒØ´ ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø´Ù…Ù†Ø§Ù†
            if (enemies.length >= maxEnemies) return;
            
            // ØªØ¹ÛŒÛŒÙ† ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø´Ù…Ù†â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ø±Ø­Ù„Ù‡
            let enemyCount;
            if (currentLevel >= 70) {
                enemyCount = 10;
            } else if (currentLevel >= 50) {
                enemyCount = Math.min(8 + Math.floor(Math.random() * 4), maxEnemies - enemies.length);
            } else if (currentLevel >= 30) {
                enemyCount = Math.min(6 + Math.floor(Math.random() * 4), maxEnemies - enemies.length);
            } else {
                enemyCount = Math.min(4 + Math.floor(Math.random() * 6), maxEnemies - enemies.length);
            }
            
            // Ø§Ù†ÙˆØ§Ø¹ Ù…Ø®ØªÙ„Ù Ø­Ù…Ù„Ù‡ - Ø§ÙØ²Ø§ÛŒØ´ Ø§Ù†ÙˆØ§Ø¹
            const attackTypes = [
                'horizontal',
                'vertical',
                'diagonal',
                'surround',
                'wave',
                'spiral',
                'zigzag',
                'vortex',
                'cross',
                'random'
            ];
            
            const attackType = attackTypes[Math.floor(Math.random() * attackTypes.length)];
            
            switch(attackType) {
                case 'horizontal':
                    spawnHorizontalAttack(enemyCount);
                    break;
                case 'vertical':
                    spawnVerticalAttack(enemyCount);
                    break;
                case 'diagonal':
                    spawnDiagonalAttack(enemyCount);
                    break;
                case 'surround':
                    spawnSurroundAttack(enemyCount);
                    break;
                case 'wave':
                    spawnWaveAttack(enemyCount);
                    break;
                case 'spiral':
                    spawnSpiralAttack(enemyCount);
                    break;
                case 'zigzag':
                    spawnZigzagAttack(enemyCount);
                    break;
                case 'vortex':
                    spawnVortexAttack(enemyCount);
                    break;
                case 'cross':
                    spawnCrossAttack(enemyCount);
                    break;
                case 'random':
                    spawnRandomAttack(enemyCount);
                    break;
            }
        }

        function spawnHorizontalAttack(count) {
            const side = Math.random() > 0.5 ? 'left' : 'right';
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    spawnSingleEnemy(side, i, count);
                }, i * 200);
            }
        }

        function spawnVerticalAttack(count) {
            const side = Math.random() > 0.5 ? 'top' : 'bottom';
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    spawnSingleEnemy(side, i, count);
                }, i * 200);
            }
        }

        function spawnDiagonalAttack(count) {
            const sides = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];
            for (let i = 0; i < count; i++) {
                const side = sides[Math.floor(Math.random() * sides.length)];
                setTimeout(() => {
                    spawnSingleEnemy(side, i, count);
                }, i * 150);
            }
        }

        function spawnSurroundAttack(count) {
            const sides = ['top', 'right', 'bottom', 'left', 'top-left', 'top-right', 'bottom-left', 'bottom-right'];
            for (let i = 0; i < count; i++) {
                const side = sides[Math.floor(Math.random() * sides.length)];
                setTimeout(() => {
                    spawnSingleEnemy(side, i, count);
                }, i * 100);
            }
        }

        function spawnWaveAttack(count) {
            const waveCount = Math.min(4, count);
            for (let wave = 0; wave < waveCount; wave++) {
                setTimeout(() => {
                    const waveEnemies = Math.min(3 + wave, count);
                    for (let i = 0; i < waveEnemies; i++) {
                        const sides = ['top', 'right', 'bottom', 'left'];
                        const side = sides[Math.floor(Math.random() * sides.length)];
                        spawnSingleEnemy(side, i, waveEnemies);
                    }
                }, wave * 500);
            }
        }
        
        // Ø´Ø±ÙˆØ¹ Ø§Ù†ÙˆØ§Ø¹ Ø¬Ø¯ÛŒØ¯ Ø­Ù…Ù„Ø§Øª Ø¯Ø´Ù…Ù†
        function spawnSpiralAttack(count) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    spawnSingleEnemy('spiral', i, count);
                }, i * 100);
            }
        }
        
        function spawnZigzagAttack(count) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    spawnSingleEnemy('zigzag', i, count);
                }, i * 150);
            }
        }
        
        function spawnVortexAttack(count) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    spawnSingleEnemy('vortex', i, count);
                }, i * 120);
            }
        }
        
        function spawnCrossAttack(count) {
            const sides = ['top', 'right', 'bottom', 'left'];
            for (let i = 0; i < count; i++) {
                const side = sides[i % 4];
                setTimeout(() => {
                    spawnSingleEnemy(side, i, count);
                }, i * 80);
            }
        }
        
        function spawnRandomAttack(count) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const randomX = Math.random() * 5000;
                    const randomY = Math.random() * 5000;
                    spawnSingleEnemyAtPosition(randomX, randomY, i, count);
                }, i * 200);
            }
        }

        function spawnSingleEnemy(direction, index, groupSize) {
            if (enemies.length >= 15) return;
            
            const enemyElement = document.createElement('div');
            
            // Ø§Ù†ÙˆØ§Ø¹ Ù…Ø®ØªÙ„Ù Ø¯Ø´Ù…Ù†Ø§Ù†
            let enemyType = 'normal';
            if (currentLevel >= 50 && Math.random() > 0.7) {
                enemyType = 'boss';
                enemyElement.className = 'enemy boss';
            } else if (currentLevel >= 30 && Math.random() > 0.5) {
                enemyType = 'fast';
                enemyElement.className = 'enemy fast';
            } else if (currentLevel >= 20 && Math.random() > 0.6) {
                enemyType = 'carrier';
                enemyElement.className = 'enemy carrier';
            } else {
                enemyElement.className = 'enemy';
            }
            
            enemyElement.innerHTML = 'ğŸŒ‹';
            enemyElement.style.position = 'absolute';
            
            let startX, startY, targetX, targetY;
            const baseSpeed = 1.5 + currentLevel * 0.2; // Ø§ÙØ²Ø§ÛŒØ´ Ø³Ø±Ø¹Øª Ø¯Ø´Ù…Ù†Ø§Ù†
            
            // Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ùˆ Ù¾Ø§ÛŒØ§Ù† Ø¯Ø± Ø¬Ù‡Ø§Ù† 5000x5000
            switch(direction) {
                case 'top':
                    startX = Math.random() * 5000;
                    startY = -50;
                    targetX = Math.random() * 5000;
                    targetY = 5050;
                    break;
                case 'bottom':
                    startX = Math.random() * 5000;
                    startY = 5050;
                    targetX = Math.random() * 5000;
                    targetY = -50;
                    break;
                case 'left':
                    startX = -50;
                    startY = Math.random() * 5000;
                    targetX = 5050;
                    targetY = Math.random() * 5000;
                    break;
                case 'right':
                    startX = 5050;
                    startY = Math.random() * 5000;
                    targetX = -50;
                    targetY = Math.random() * 5000;
                    break;
                case 'top-left':
                    startX = -50;
                    startY = -50;
                    targetX = 5050;
                    targetY = 5050;
                    break;
                case 'top-right':
                    startX = 5050;
                    startY = -50;
                    targetX = -50;
                    targetY = 5050;
                    break;
                case 'bottom-left':
                    startX = -50;
                    startY = 5050;
                    targetX = 5050;
                    targetY = -50;
                    break;
                case 'bottom-right':
                    startX = 5050;
                    startY = 5050;
                    targetX = -50;
                    targetY = -50;
                    break;
                case 'spiral':
                    startX = 2500 + Math.cos(index * 0.5) * 1000;
                    startY = 2500 + Math.sin(index * 0.5) * 1000;
                    targetX = 2500;
                    targetY = 2500;
                    break;
                case 'zigzag':
                    startX = Math.random() * 5000;
                    startY = Math.random() * 5000;
                    targetX = player.x;
                    targetY = player.y;
                    break;
                case 'vortex':
                    startX = 2500 + Math.cos(index) * 800;
                    startY = 2500 + Math.sin(index) * 800;
                    targetX = 2500;
                    targetY = 2500;
                    break;
            }
            
            enemyElement.style.left = (startX + cameraOffsetX) + 'px';
            enemyElement.style.top = (startY + cameraOffsetY) + 'px';
            
            gameScreen.appendChild(enemyElement);
            
            enemies.push({
                element: enemyElement,
                x: startX,
                y: startY,
                targetX: targetX,
                targetY: targetY,
                speed: baseSpeed + Math.random() * 0.8,
                direction: direction,
                type: enemyType,
                health: enemyType === 'boss' ? 3 : 1
            });
        }
        
        function spawnSingleEnemyAtPosition(x, y, index, groupSize) {
            if (enemies.length >= 15) return;
            
            const enemyElement = document.createElement('div');
            enemyElement.className = 'enemy';
            enemyElement.innerHTML = 'ğŸŒ‹';
            enemyElement.style.position = 'absolute';
            
            enemyElement.style.left = (x + cameraOffsetX) + 'px';
            enemyElement.style.top = (y + cameraOffsetY) + 'px';
            
            gameScreen.appendChild(enemyElement);
            
            enemies.push({
                element: enemyElement,
                x: x,
                y: y,
                targetX: player.x,
                targetY: player.y,
                speed: 1 + currentLevel * 0.15 + Math.random() * 0.5,
                direction: 'random',
                type: 'normal',
                health: 1
            });
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ Ø³ÛŒØ³ØªÙ… ØªÙˆÙ„ÛŒØ¯ Ø¯Ø´Ù…Ù† Ù¾ÙˆÛŒØ§









        // Ø´Ø±ÙˆØ¹ Ø³ÛŒØ³ØªÙ… ØªÛŒØ±Ø¨Ø§Ø± Ø®ÙˆØ¯Ú©Ø§Ø±
        function updateBullets() {
            bulletTimer++;
            
            // Ø´Ù„ÛŒÚ© Ú¯Ù„ÙˆÙ„Ù‡ Ù‡Ø± 30 ÙØ±ÛŒÙ…
            if (bulletTimer >= 30) {
                bulletTimer = 0;
                shootBullet();
            }
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ú¯Ù„ÙˆÙ„Ù‡â€ŒÙ‡Ø§
            for (let i = bullets.length - 1; i >= 0; i--) {
                const bullet = bullets[i];
                
                bullet.x += Math.cos(bullet.angle) * bullet.speed;
                bullet.y += Math.sin(bullet.angle) * bullet.speed;
                
                bullet.element.style.left = (bullet.x + cameraOffsetX) + 'px';
                bullet.element.style.top = (bullet.y + cameraOffsetY) + 'px';
                
                // Ø­Ø°Ù Ú¯Ù„ÙˆÙ„Ù‡â€ŒÙ‡Ø§ÛŒ Ø®Ø§Ø±Ø¬ Ø§Ø² ØµÙØ­Ù‡
                if (bullet.x < -50 || bullet.x > 5050 || bullet.y < -50 || bullet.y > 5050) {
                    bullet.element.remove();
                    bullets.splice(i, 1);
                }
            }
        }
        
        function shootBullet() {
            if (!gameRunning) return;
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ú¯Ù„ÙˆÙ„Ù‡ Ø§Ø² Ø¯Ùˆ Ø·Ø±Ù Ø³ÙÛŒÙ†Ù‡
            const bulletOffsets = [
                { x: -30, y: -10 },
                { x: 30, y: -10 },
                { x: -25, y: 10 },
                { x: 25, y: 10 }
            ];
            
            bulletOffsets.forEach(offset => {
                const bulletElement = document.createElement('div');
                bulletElement.className = 'bullet';
                
                const bulletX = player.x + offset.x;
                const bulletY = player.y + offset.y;
                
                bulletElement.style.left = (bulletX + cameraOffsetX) + 'px';
                bulletElement.style.top = (bulletY + cameraOffsetY) + 'px';
                
                gameScreen.appendChild(bulletElement);
                
                // Ø¬Ù‡Øª Ú¯Ù„ÙˆÙ„Ù‡ Ø¨Ù‡ Ø³Ù…Øª Ø¬Ù„Ùˆ Ø³ÙÛŒÙ†Ù‡
                const angle = player.rotation * Math.PI / 180;
                
                bullets.push({
                    element: bulletElement,
                    x: bulletX,
                    y: bulletY,
                    angle: angle,
                    speed: 8
                });
            });
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ Ø³ÛŒØ³ØªÙ… ØªÛŒØ±Ø¨Ø§Ø± Ø®ÙˆØ¯Ú©Ø§Ø±









        // Ø´Ø±ÙˆØ¹ Ø­Ù„Ù‚Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ
        function gameLoop() {
            if (!gameRunning) return;
            
            playerPath.push({ x: player.x, y: player.y });
            if (playerPath.length > 50) {
                playerPath.shift();
            }
            
            updateBombTimer();
            updateSafeTime();
            updateFuelConsumption();
            updateEnemySpawning();
            updateSphereSpawning();
            updateBullets(); // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ú¯Ù„ÙˆÙ„Ù‡â€ŒÙ‡Ø§
            updateCamera(); // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø¯Ø± Ù‡Ø± ÙØ±ÛŒÙ…
            
            if (!isSafeTime) {
                updateEnemies();
                updateDestructionSpheres();
            }
            
            updateCoinTrail();
            checkCollisions();
            
            requestAnimationFrame(gameLoop);
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ Ø­Ù„Ù‚Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªØ§ÛŒÙ…Ø± Ø¨Ù…Ø¨
        function updateBombTimer() {
            if (bombCooldown > 0) {
                bombCooldown--;
                bombTimer.textContent = `Ø¨Ù…Ø¨: ${Math.ceil(bombCooldown/60)}s`;
                bombButton.disabled = true;
            } else {
                bombTimer.textContent = `Ø¨Ù…Ø¨: Ø¢Ù…Ø§Ø¯Ù‡!`;
                bombButton.disabled = false;
                bombAvailable = true;
            }
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªØ§ÛŒÙ…Ø± Ø¨Ù…Ø¨









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø²Ù…Ø§Ù† Ø§Ù…Ù†
        function updateSafeTime() {
            if (isSafeTime && safeTime > 0) {
                safeTime--;
                safeTimeIndicator.textContent = `Ø²Ù…Ø§Ù† Ø§Ù…Ù†: ${Math.ceil(safeTime/60)}s`;
                
                if (safeTime <= 0) {
                    isSafeTime = false;
                    safeTimeIndicator.classList.add('hidden');
                }
            }
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø²Ù…Ø§Ù† Ø§Ù…Ù†









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ØµØ±Ù Ø³ÙˆØ®Øª
        function updateFuelConsumption() {
            fuelConsumption++;
            if (fuelConsumption >= 60) {
                fuelConsumption = 0;
                player.fuel = Math.max(0, player.fuel - 0.5);
                updateFuel();
                
                if (player.fuel <= 0) {
                    gameOver();
                }
            }
        }

        function updateFuel() {
            fuelIndicator.textContent = `â›½ Ø³ÙˆØ®Øª: ${Math.round(player.fuel)}%`;
            
            if (player.fuel < 20) {
                fuelIndicator.style.background = 'linear-gradient(45deg, #ff4444, #cc0000)';
            } else if (player.fuel < 50) {
                fuelIndicator.style.background = 'linear-gradient(45deg, #ffaa00, #ff5500)';
            } else {
                fuelIndicator.style.background = 'rgba(0, 0, 0, 0.7)';
            }
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ØµØ±Ù Ø³ÙˆØ®Øª









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªÙˆÙ„ÛŒØ¯ Ø¯Ø´Ù…Ù†
        function updateEnemySpawning() {
            enemySpawnTimer++;
            
            const spawnInterval = Math.max(30, 120 - currentLevel * 2); // Ø§ÙØ²Ø§ÛŒØ´ Ø³Ø±Ø¹Øª ØªÙˆÙ„ÛŒØ¯ Ø¯Ø´Ù…Ù†
            
            if (enemySpawnTimer >= spawnInterval + Math.random() * 30) {
                enemySpawnTimer = 0;
                spawnEnemyGroup();
            }
        }

        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªÙˆÙ„ÛŒØ¯ Ú©Ø±Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ®Ø±ÛŒØ¨â€ŒÚ¯Ø±
        function updateSphereSpawning() {
            sphereSpawnTimer++;
            
            const spawnInterval = 200; // Ø§ÙØ²Ø§ÛŒØ´ Ø³Ø±Ø¹Øª ØªÙˆÙ„ÛŒØ¯ Ú©Ø±Ù‡â€ŒÙ‡Ø§
            
            if (sphereSpawnTimer >= spawnInterval) {
                sphereSpawnTimer = 0;
                spawnDestructionSphere();
            }
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªÙˆÙ„ÛŒØ¯ Ø¯Ø´Ù…Ù†









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¨Ù…Ø¨
        function useBomb() {
            if (!bombAvailable) return;
            
            bombAvailable = false;
            bombCooldown = 10 * 60;
            
            isSafeTime = true;
            safeTime = 5 * 60;
            safeTimeIndicator.classList.remove('hidden');
            
            createBombExplosion(player.x, player.y);
            
            enemies.forEach(enemy => {
                createEnemyExplosion(enemy.x, enemy.y);
                enemy.element.remove();
            });
            enemies = [];
            
            // ØªØ®Ø±ÛŒØ¨ Ú©Ø±Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ®Ø±ÛŒØ¨â€ŒÚ¯Ø±
            destructionSpheres.forEach(sphere => {
                createSphereExplosion(sphere.x, sphere.y, sphere.size);
                sphere.element.remove();
            });
            destructionSpheres = [];
        }

        function createBombExplosion(x, y) {
            const explosion = document.createElement('div');
            explosion.innerHTML = 'ğŸ’¥';
            explosion.style.position = 'absolute';
            explosion.style.left = (x + cameraOffsetX) + 'px';
            explosion.style.top = (y + cameraOffsetY) + 'px';
            explosion.style.fontSize = '50px';
            explosion.style.zIndex = '26';
            
            gameScreen.appendChild(explosion);
            
            setTimeout(() => {
                explosion.remove();
            }, 800);
        }

        function createEnemyExplosion(x, y) {
            const explosion = document.createElement('div');
            explosion.style.position = 'absolute';
            explosion.style.left = (x + cameraOffsetX) + 'px';
            explosion.style.top = (y + cameraOffsetY) + 'px';
            explosion.style.width = '0px';
            explosion.style.height = '0px';
            explosion.style.borderRadius = '50%';
            explosion.style.background = 'radial-gradient(circle, #ff3300, #ff5500, transparent)';
            explosion.style.opacity = '0.8';
            explosion.style.zIndex = '21';
            explosion.style.transition = 'all 0.5s';
            
            gameScreen.appendChild(explosion);
            
            setTimeout(() => {
                explosion.style.width = '150px';
                explosion.style.height = '150px';
                explosion.style.marginLeft = '-75px';
                explosion.style.marginTop = '-75px';
                explosion.style.opacity = '0';
                
                setTimeout(() => {
                    explosion.remove();
                }, 500);
            }, 10);
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¨Ù…Ø¨









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø´Ù…Ù†Ø§Ù†
        function updateEnemies() {
            for (let i = enemies.length - 1; i >= 0; i--) {
                const enemy = enemies[i];
                
                // Ø­Ø±Ú©Øª Ø¯Ø´Ù…Ù†Ø§Ù† Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ Ø¢Ù†â€ŒÙ‡Ø§
                let dx, dy, distance;
                
                switch(enemy.direction) {
                    case 'spiral':
                        const angle = Math.atan2(player.y - enemy.y, player.x - enemy.x);
                        const spiralRadius = 300;
                        const spiralSpeed = 0.05;
                        
                        enemy.x = player.x + Math.cos(angle + enemy.speed * spiralSpeed) * spiralRadius;
                        enemy.y = player.y + Math.sin(angle + enemy.speed * spiralSpeed) * spiralRadius;
                        break;
                        
                    case 'zigzag':
                        dx = player.x - enemy.x;
                        dy = player.y - enemy.y;
                        distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance > 0) {
                            const zigzagAngle = Math.atan2(dy, dx) + Math.sin(enemy.speed * 0.1) * 0.5;
                            enemy.x += Math.cos(zigzagAngle) * enemy.speed;
                            enemy.y += Math.sin(zigzagAngle) * enemy.speed;
                        }
                        break;
                        
                    case 'vortex':
                        dx = 2500 - enemy.x;
                        dy = 2500 - enemy.y;
                        distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance > 100) {
                            const vortexAngle = Math.atan2(dy, dx) + enemy.speed * 0.02;
                            enemy.x += Math.cos(vortexAngle) * enemy.speed;
                            enemy.y += Math.sin(vortexAngle) * enemy.speed;
                        }
                        break;
                        
                    default:
                        dx = enemy.targetX - enemy.x;
                        dy = enemy.targetY - enemy.y;
                        distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance > 0) {
                            enemy.x += (dx / distance) * enemy.speed;
                            enemy.y += (dy / distance) * enemy.speed;
                        }
                }
                
                enemy.element.style.left = (enemy.x + cameraOffsetX) + 'px';
                enemy.element.style.top = (enemy.y + cameraOffsetY) + 'px';
                
                // Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¨Ø§ Ú¯Ù„ÙˆÙ„Ù‡â€ŒÙ‡Ø§
                for (let j = bullets.length - 1; j >= 0; j--) {
                    const bullet = bullets[j];
                    const bulletDistance = Math.sqrt(
                        Math.pow(bullet.x - enemy.x, 2) + 
                        Math.pow(bullet.y - enemy.y, 2)
                    );
                    
                    if (bulletDistance < 30) {
                        // Ú©Ø§Ù‡Ø´ Ø³Ù„Ø§Ù…Øª Ø¯Ø´Ù…Ù†
                        enemy.health--;
                        
                        // Ø­Ø°Ù Ú¯Ù„ÙˆÙ„Ù‡
                        bullet.element.remove();
                        bullets.splice(j, 1);
                        
                        // Ø§ÛŒØ¬Ø§Ø¯ Ø§ÙÚ©Øª Ø¨Ø±Ø®ÙˆØ±Ø¯
                        createHitEffect(enemy.x, enemy.y);
                        
                        // Ø§Ú¯Ø± Ø³Ù„Ø§Ù…Øª Ø¯Ø´Ù…Ù† ØªÙ…Ø§Ù… Ø´Ø¯
                        if (enemy.health <= 0) {
                            createEnemyExplosion(enemy.x, enemy.y);
                            enemy.element.remove();
                            enemies.splice(i, 1);
                            
                            // Ø§ÙØ²Ø§ÛŒØ´ Ø§Ù…ØªÛŒØ§Ø²
                            score += enemy.type === 'boss' ? 100 : 20;
                        }
                        break;
                    }
                }
                
                if (distance < 10 || 
                    enemy.x < -100 || enemy.x > 5100 ||
                    enemy.y < -100 || enemy.y > 5100) {
                    enemy.element.remove();
                    enemies.splice(i, 1);
                }
            }
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø´Ù…Ù†Ø§Ù†









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø³Ú©Ù‡
        function updateCoinTrail() {
            document.querySelectorAll('.coin-trail').forEach(trail => trail.remove());
            
            const trailLength = Math.min(coinTrail.length, 15);
            
            for (let i = 0; i < trailLength; i++) {
                const trailElement = document.createElement('div');
                trailElement.className = 'coin-trail';
                trailElement.innerHTML = 'ğŸŒ';
                trailElement.style.position = 'absolute';
                
                let targetIndex = Math.max(0, playerPath.length - (i + 1) * 3);
                if (targetIndex >= playerPath.length) targetIndex = playerPath.length - 1;
                
                const targetPos = playerPath[targetIndex];
                if (!targetPos) continue;
                
                const trailX = targetPos.x;
                const trailY = targetPos.y;
                
                trailElement.style.left = (trailX + cameraOffsetX - 15) + 'px';
                trailElement.style.top = (trailY + cameraOffsetY - 15) + 'px';
                trailElement.style.opacity = 1 - (i / trailLength) * 0.8;
                trailElement.style.transform = `scale(${1 - (i / trailLength) * 0.5})`;
                trailElement.style.zIndex = '17';
                
                gameScreen.appendChild(trailElement);
            }
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ù†Ø¨Ø§Ù„Ù‡ Ø³Ú©Ù‡









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†
        function updatePlayerPosition() {
            playerElement.style.left = (player.x + cameraOffsetX - player.size/2) + 'px';
            playerElement.style.top = (player.y + cameraOffsetY - player.size/2) + 'px';
            
            // Ú†Ø±Ø®Ø´ Ø³ÙÛŒÙ†Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¬Ù‡Øª Ø­Ø±Ú©Øª
            if (playerPath.length > 1) {
                const currentPos = playerPath[playerPath.length - 1];
                const prevPos = playerPath[playerPath.length - 2];
                const dx = currentPos.x - prevPos.x;
                const dy = currentPos.y - prevPos.y;
                player.rotation = Math.atan2(dy, dx) * 180 / Math.PI;
                playerElement.style.transform = `rotate(${player.rotation}deg)`;
            }
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¨Ø§Ø²ÛŒÚ©Ù†









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ø±Ø®ÙˆØ±Ø¯Ù‡Ø§
        function checkCollisions() {
            // Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¨Ø§ Ø³Ú©Ù‡â€ŒÙ‡Ø§
            coins.forEach((coin, index) => {
                if (!coin.collected) {
                    const distance = Math.sqrt(
                        Math.pow(player.x - coin.x, 2) + 
                        Math.pow(player.y - coin.y, 2)
                    );
                    
                    if (distance < player.size/2 + 22) {
                        coin.currentHits++;
                        coin.numberElement.textContent = coin.hitsNeeded - coin.currentHits;
                        
                        createHitEffect(coin.x, coin.y);
                        
                        if (coin.currentHits >= coin.hitsNeeded) {
                            coin.collected = true;
                            coinsCollected++;
                            // Ø§ÙØ²Ø§ÛŒØ´ Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ø±Ø­Ù„Ù‡ (Ù…Ø±Ø­Ù„Ù‡ Ø§ÙˆÙ„ 1000ØŒ Ù…Ø±Ø­Ù„Ù‡ Ø¯ÙˆÙ… 2000ØŒ ...)
                            score += currentLevel * 1000;
                            
                            player.fuel = Math.min(100, player.fuel + 10);
                            updateFuel();
                            
                            coin.element.style.display = 'none';
                            coin.numberElement.style.display = 'none';
                            
                            createCollectEffect(coin.x, coin.y);
                            
                            coinTrail.push({
                                x: coin.x,
                                y: coin.y
                            });
                            
                            if (coinsCollected >= totalCoinsNeeded) {
                                completeLevel();
                            }
                        }
                    }
                }
            });
            
            // Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¨Ø§ Ø¢ØªØ´ÙØ´Ø§Ù†â€ŒÙ‡Ø§
            if (!isSafeTime) {
                enemies.forEach(enemy => {
                    const distance = Math.sqrt(
                        Math.pow(player.x - enemy.x, 2) + 
                        Math.pow(player.y - enemy.y, 2)
                    );
                    
                    if (distance < 40) {
                        restartCurrentLevel();
                    }
                });
            }
        }

        function createHitEffect(x, y) {
            const effect = document.createElement('div');
            effect.style.position = 'absolute';
            effect.style.left = (x + cameraOffsetX) + 'px';
            effect.style.top = (y + cameraOffsetY) + 'px';
            effect.style.fontSize = '20px';
            effect.style.color = '#00ff88';
            effect.style.opacity = '1';
            effect.style.transition = 'all 0.5s';
            effect.style.zIndex = '26';
            effect.innerHTML = 'âœ¨';
            effect.style.transform = 'scale(1)';
            
            gameScreen.appendChild(effect);
            
            setTimeout(() => {
                effect.style.transform = 'scale(1.5)';
                effect.style.opacity = '0';
                
                setTimeout(() => {
                    effect.remove();
                }, 500);
            }, 10);
        }

        function createCollectEffect(x, y) {
            const effect = document.createElement('div');
            effect.className = 'coin-collect-effect';
            effect.innerHTML = 'â­';
            effect.style.left = (x + cameraOffsetX) + 'px';
            effect.style.top = (y + cameraOffsetY) + 'px';
            
            gameScreen.appendChild(effect);
            
            setTimeout(() => {
                effect.remove();
            }, 800);
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ø±Ø®ÙˆØ±Ø¯Ù‡Ø§









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ ØªÚ©Ù…ÛŒÙ„ Ù…Ø±Ø­Ù„Ù‡
        function completeLevel() {
            gameRunning = false;
            
            saveGameData();
            
            createLevelCompleteEffects();
            
            setTimeout(() => {
                completedLevelElement.textContent = currentLevel;
                levelComplete.classList.add('show');
            }, 1000);
        }

        function createLevelCompleteEffects() {
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const effect = document.createElement('div');
                    effect.className = 'level-complete-effect';
                    effect.innerHTML = 'âœ¨';
                    effect.style.left = (player.x + cameraOffsetX + Math.random() * 100 - 50) + 'px';
                    effect.style.top = (player.y + cameraOffsetY + Math.random() * 100 - 50) + 'px';
                    gameScreen.appendChild(effect);
                    
                    setTimeout(() => {
                        effect.remove();
                    }, 1500);
                }, i * 200);
            }
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ ØªÚ©Ù…ÛŒÙ„ Ù…Ø±Ø­Ù„Ù‡









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ù…Ø±Ø­Ù„Ù‡
        function restartCurrentLevel() {
            gameRunning = false;
            
            showFuelMessage("ğŸ’¥ Ø¨Ø±Ø®ÙˆØ±Ø¯! Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ù…Ø±Ø­Ù„Ù‡...");
            
            setTimeout(() => {
                coinsCollected = 0;
                bombCooldown = 0;
                bombAvailable = true;
                safeTime = 0;
                isSafeTime = false;
                playerPath = [];
                player.fuel = 100;
                fuelConsumption = 0;
                enemySpawnTimer = 0;
                sphereSpawnTimer = 0;
                bulletTimer = 0;
                bombButton.disabled = false;
                safeTimeIndicator.classList.add('hidden');
                
                document.querySelectorAll('.coin, .enemy, .coin-trail, .coin-number, .destruction-sphere, .sphere-trail, .bullet').forEach(el => el.remove());
                enemies.forEach(enemy => enemy.element.remove());
                destructionSpheres.forEach(sphere => sphere.element.remove());
                bullets.forEach(bullet => bullet.element.remove());
                
                coins = [];
                enemies = [];
                destructionSpheres = [];
                bullets = [];
                coinTrail = [];
                
                player.x = 2500;
                player.y = 2500;
                updatePlayerPosition();
                
                updateFuel();
                createCoins();
                
                gameRunning = true;
                gameLoop();
            }, 1500);
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ù…Ø±Ø­Ù„Ù‡









        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ
        function gameOver() {
            gameRunning = false;
            stopBackgroundMusic();
            
            saveGameData();
            
            showFuelMessage("â›½ Ø³ÙˆØ®Øª ØªÙ…Ø§Ù… Ø´Ø¯! Ø¨Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯");
            
            setTimeout(() => {
                mainScreen.classList.remove('hidden');
                gameScreen.classList.add('hidden');
                fuelIndicator.classList.add('hidden');
                bombButton.classList.add('hidden');
                bombTimer.classList.add('hidden');
                safeTimeIndicator.classList.add('hidden');
                touchControls.classList.add('hidden');
                levelComplete.classList.remove('show');
                
                // Ø­Ø°Ù Ù…ÛŒÙ†ÛŒ Ù…Ù¾
                document.querySelector('.mini-map')?.remove();
                
                document.querySelectorAll('.coin, .enemy, .coin-trail, .coin-number, .destruction-sphere, .sphere-trail, .bullet').forEach(el => el.remove());
                if (playerElement) {
                    playerElement.remove();
                    playerElement = null;
                }
                
                coins = [];
                enemies = [];
                destructionSpheres = [];
                bullets = [];
                coinTrail = [];
                playerPath = [];
                
                updateMainScreenStats();
            }, 2000);
        }
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ









        // Ø´Ø±ÙˆØ¹ Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¯Ú©Ù…Ù‡ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯
        nextLevelButton.addEventListener('click', () => {
            levelComplete.classList.remove('show');
            
            showLevelLoading(() => {
                currentLevel++;
                coinsCollected = 0;
                totalCoinsNeeded = Math.min(20, 5 + currentLevel);
                coinTrail = [];
                playerPath = [];
                player.fuel = 100;
                updateFuel();
                
                document.querySelectorAll('.coin, .coin-trail, .coin-number, .destruction-sphere, .sphere-trail, .bullet').forEach(el => el.remove());
                enemies.forEach(enemy => enemy.element.remove());
                destructionSpheres.forEach(sphere => sphere.element.remove());
                bullets.forEach(bullet => bullet.element.remove());
                enemies = [];
                destructionSpheres = [];
                bullets = [];
                
                createCoins();
                
                gameRunning = true;
                gameLoop();
            });
        });
        // ØªÙ…Ø§Ù… Ø´Ø¯ Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¯Ú©Ù…Ù‡ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯









        // Ø´Ø±ÙˆØ¹ Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ
        document.addEventListener('mousemove', (e) => {
            if (gameRunning && !isTouching) {
                // ØªØ¨Ø¯ÛŒÙ„ Ù…Ø®ØªØµØ§Øª Ù…ÙˆØ³ Ø¨Ù‡ Ù…Ø®ØªØµØ§Øª Ø¬Ù‡Ø§Ù†
                const worldX = e.clientX - cameraOffsetX;
                const worldY = e.clientY - cameraOffsetY;
                
                player.x = Math.max(player.size/2, Math.min(5000 - player.size/2, worldX));
                player.y = Math.max(player.size/2, Math.min(5000 - player.size/2, worldY));
                
                updatePlayerPosition();
            }
        });

        document.addEventListener('touchmove', (e) => {
            if (gameRunning && !isTouching) {
                e.preventDefault();
                const touch = e.touches[0];
                const worldX = touch.clientX - cameraOffsetX;
                const worldY = touch.clientY - cameraOffsetY;
                
                player.x = Math.max(player.size/2, Math.min(5000 - player.size/2, worldX));
                player.y = Math.max(player.size/2, Math.min(5000 - player.size/2, worldY));
                
                updatePlayerPosition();
            }
        }, { passive: false });

        // Ø´Ø±ÙˆØ¹ ØªØ§Ø¨Ø¹ Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        window.addEventListener('load', () => {
            setupGame();
            loadGameData();
            createGalaxyBackground();
            createInfiniteUniverse();
            setupCameraSystem();
        });
        
        window.addEventListener('resize', setupGame);
        // ØªÙ…Ø§Ù… Ø´Ø¯ ØªØ§Ø¨Ø¹ Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡









        // ØªÙ…Ø§Ù… Ø´Ø¯ Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ









    </script>
</body>
</html>
[file content end]