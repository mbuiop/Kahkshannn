<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸš€ Ø¨Ø§Ø²ÛŒ Ú©Ù‡Ú©Ø´Ø§Ù†ÛŒ Ù†Ù‡Ø§ÛŒÛŒ - ÙÙˆÙ‚ Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: #000;
            overflow: hidden;
            touch-action: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            width: 100vw;
            height: 100vh;
            position: fixed;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ */
        .theme-selector {
            display: flex;
            gap: 15px;
            margin: 15px 0;
            justify-content: center;
            flex-wrap: wrap;
        }

        .theme-btn {
            width: 120px;
            height: 80px;
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.3s;
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .theme-btn.active {
            border-color: #00ccff;
            box-shadow: 0 0 20px #00ccff;
        }

        .theme-btn:hover {
            transform: scale(1.05);
        }

        .theme-btn.theme1 {
            background: linear-gradient(45deg, #001122, #003366);
        }

        .theme-btn.theme2 {
            background: linear-gradient(45deg, #330033, #660066);
        }

        .theme-btn.theme3 {
            background: linear-gradient(45deg, #1a0000, #4d0000);
        }

        .theme-btn.theme4 {
            background: linear-gradient(45deg, #001a00, #004d00);
        }
        
        .corner-volcano {
            position: fixed;
            font-size: 25px;
            z-index: 1;
            filter: drop-shadow(0 0 10px #ff3300) drop-shadow(0 0 20px #ff5500);
            animation: volcanoGlow 2s infinite alternate;
        }
        
        .corner-volcano.top-left { top: 15px; left: 15px; }
        .corner-volcano.top-right { top: 15px; right: 15px; }
        .corner-volcano.bottom-left { bottom: 15px; left: 15px; }
        .corner-volcano.bottom-right { bottom: 15px; right: 15px; }
        
        @keyframes volcanoGlow {
            from { filter: drop-shadow(0 0 5px #ff3300) drop-shadow(0 0 10px #ff5500); }
            to { filter: drop-shadow(0 0 15px #ff3300) drop-shadow(0 0 25px #ff5500); }
        }
        
        #mainScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 2;
            transition: background 0.5s ease-in-out;
        }
        
        .header {
            text-align: center;
            padding: 20px;
            margin-bottom: 10px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #ff8a00, #e52e71, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: titleGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes titleGlow {
            from { filter: drop-shadow(0 0 5px rgba(255, 138, 0, 0.7)); }
            to { filter: drop-shadow(0 0 15px rgba(229, 46, 113, 0.7)); }
        }
        
        .main-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin: 15px 0;
            align-items: center;
            width: 90%;
            max-width: 280px;
        }
        
        .main-btn {
            background: linear-gradient(45deg, #00ccff, #0066ff);
            border: none;
            padding: 10px 15px;
            font-size: 0.9rem;
            border-radius: 25px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0, 204, 255, 0.5);
            transition: all 0.3s;
            width: 100%;
            text-align: center;
            min-height: 35px;
        }
        
        .main-btn:hover {
            transform: scale(1.03);
            box-shadow: 0 3px 12px rgba(0, 204, 255, 0.7);
        }
        
        .main-btn.start {
            background: linear-gradient(45deg, #00ff88, #00ccff);
            box-shadow: 0 2px 8px rgba(0, 255, 136, 0.5);
            font-size: 1rem;
            padding: 12px 15px;
            min-height: 40px;
        }

        .management-btn {
            background: linear-gradient(45deg, #ff4444, #cc0000);
            border: none;
            padding: 8px 15px;
            font-size: 0.9rem;
            border-radius: 25px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(255, 68, 68, 0.5);
            transition: all 0.3s;
            width: 100%;
            text-align: center;
            animation: redPulse 2s infinite;
            min-height: 35px;
        }
        
        .management-btn:hover {
            transform: scale(1.03);
            box-shadow: 0 3px 12px rgba(255, 68, 68, 0.7);
        }
        
        @keyframes redPulse {
            0%, 100% { box-shadow: 0 2px 8px rgba(255, 68, 68, 0.5); }
            50% { box-shadow: 0 2px 15px rgba(255, 68, 68, 0.8), 0 0 20px rgba(255, 68, 68, 0.4); }
        }
        
        .stats-panel {
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 15px;
            margin: 12px 0;
            text-align: center;
            width: 90%;
            max-width: 280px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 10px 0;
        }
        
        .stat-item {
            background: rgba(0, 0, 0, 0.6);
            padding: 8px 10px;
            border-radius: 12px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: #00ccff;
            margin-top: 3px;
        }
        
        .hidden {
            display: none !important;
        }
        
        #gameScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 3;
            overflow: hidden;
        }

        /* Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ±Ø¨ÛŒÙ† Ù¾ÙˆÛŒØ§ */
        .camera-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 12000px;
            height: 12000px;
            transition: transform 0.1s ease-out;
            background: radial-gradient(circle at center, #000428 0%, #000000 100%);
        }

        /* Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ */
        #gameElements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Ù†Ù‚Ø´Ù‡ Ú©ÙˆÚ†Ú© */
        .mini-map {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 200px;
            height: 200px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00ccff;
            border-radius: 10px;
            z-index: 10;
            backdrop-filter: blur(5px);
            overflow: hidden;
        }

        .map-view {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 20, 40, 0.9);
        }

        .map-player {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #00aaff;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 10px #00aaff;
            z-index: 3;
        }

        .map-coin {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00ff88;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
        }

        .map-enemy {
            position: absolute;
            width: 5px;
            height: 5px;
            background: #ff4444;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }

        .map-boss {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ff0000;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            animation: bossPulse 1s infinite;
        }

        @keyframes bossPulse {
            0%, 100% { box-shadow: 0 0 5px #ff0000; }
            50% { box-shadow: 0 0 15px #ff0000; }
        }
        
        .player {
            position: absolute;
            font-size: 80px;
            z-index: 6;
            filter: drop-shadow(0 0 10px #00aaff) drop-shadow(0 0 20px #00aaff);
            transition: transform 0.1s;
        }
        
        .player.pulse {
            animation: pulse 0.5s infinite alternate;
        }
        
        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }
        
        .enemy {
            position: absolute;
            font-size: 40px;
            z-index: 3;
            filter: drop-shadow(0 0 8px #ff3300) drop-shadow(0 0 12px #ff3300);
            transition: transform 0.3s;
        }
        
        .enemy.type1 {
            font-size: 45px;
        }
        
        .enemy.type2 {
            font-size: 35px;
            filter: drop-shadow(0 0 8px #ff6600) drop-shadow(0 0 12px #ff6600);
        }

        .enemy.boss {
            font-size: 100px;
            filter: drop-shadow(0 0 15px #ff0000) drop-shadow(0 0 30px #ff0000);
            animation: bossFloat 3s infinite ease-in-out;
        }

        @keyframes bossFloat {
            0%, 100% { transform: translateY(0) rotate(-5deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        .coin {
            position: absolute;
            z-index: 2;
            animation: float 3s infinite ease-in-out;
        }
        
        .coin.type1 {
            font-size: 35px;
            filter: drop-shadow(0 0 10px #00ff88) drop-shadow(0 0 20px #00ff88);
        }
        
        .coin.type2 {
            font-size: 40px;
            filter: drop-shadow(0 0 10px #00ccff) drop-shadow(0 0 20px #00ccff);
        }
        
        .coin.type3 {
            font-size: 30px;
            filter: drop-shadow(0 0 10px #ff00ff) drop-shadow(0 0 20px #ff00ff);
        }
        
        .coin-number {
            position: absolute;
            font-size: 14px;
            font-weight: bold;
            color: white;
            z-index: 3;
            text-shadow: 2px 2px 4px black;
            pointer-events: none;
            background: rgba(0,0,0,0.7);
            padding: 3px 6px;
            border-radius: 8px;
            min-width: 20px;
            text-align: center;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
        }
        
        .coin-trail {
            position: absolute;
            font-size: 25px;
            z-index: 2;
            filter: drop-shadow(0 0 6px #00ff88) drop-shadow(0 0 12px #00ff88);
            transition: all 0.2s;
            pointer-events: none;
        }
        
        .bomb-button {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, #ff4444, #cc0000);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 35px;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(255, 0, 0, 0.5);
            transition: all 0.3s;
        }
        
        .bomb-button:active {
            transform: scale(0.9);
        }
        
        .bomb-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .bomb-timer {
            position: fixed;
            bottom: 100px;
            left: 25px;
            color: white;
            font-size: 14px;
            z-index: 10;
            background: rgba(0, 0, 0, 0.7);
            padding: 6px 10px;
            border-radius: 10px;
        }

        /* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯Ø±Øª */
        .power-buttons {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 10;
        }

        .power-btn {
            width: 60px;
            height: 60px;
            border: none;
            border-radius: 50%;
            font-size: 30px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
        }

        .power-btn.speed {
            background: linear-gradient(45deg, #00ff88, #00ccff);
        }

        .power-btn.freeze {
            background: linear-gradient(45deg, #00ccff, #0066ff);
        }

        .power-btn.magnet {
            background: linear-gradient(45deg, #ff00ff, #cc00cc);
        }

        .power-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .power-btn:active:not(:disabled) {
            transform: scale(0.9);
        }
        
        #playerIndicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px 25px;
            border-radius: 15px;
            z-index: 10;
            text-align: center;
            animation: fadeOut 3s forwards;
            pointer-events: none;
        }
        
        @keyframes fadeOut {
            0% { opacity: 1; }
            70% { opacity: 1; }
            100% { opacity: 0; }
        }
        
        #levelComplete {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 8;
            text-align: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s;
        }
        
        #levelComplete.show {
            opacity: 1;
            pointer-events: all;
        }

        .safe-time-indicator {
            position: fixed;
            top: 15px;
            right: 15px;
            color: #00ff88;
            font-size: 16px;
            background: rgba(0, 0, 0, 0.7);
            padding: 8px 12px;
            border-radius: 10px;
            z-index: 10;
        }

        /* Ø³ÙˆØ®Øª Ø³Ø¨Ø² Ø±Ù†Ú¯ */
        .fuel-indicator {
            position: fixed;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            color: #00ff88;
            font-size: 16px;
            background: rgba(0, 0, 0, 0.7);
            padding: 8px 15px;
            border-radius: 10px;
            z-index: 10;
            animation: fuelPulse 2s infinite;
        }
        
        @keyframes fuelPulse {
            0%, 100% { box-shadow: 0 0 5px #00ff88; }
            50% { box-shadow: 0 0 15px #00ff88; }
        }

        /* Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ - ÙØ±Ù…Ø§Ù† Ù…Ø§Ø´ÛŒÙ† */
        .touch-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 120px;
            height: 120px;
            z-index: 10;
            display: none;
        }
        
        .joystick {
            position: absolute;
            width: 80px;
            height: 80px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        }
        
        .joystick-handle {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #00ccff, #0066ff);
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 204, 255, 0.5);
        }
        
        .joystick-center {
            position: absolute;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        /* ØªÛŒØ±Ø¨Ø§Ø± Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ */
        .turret-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 60px;
            z-index: 10;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .turret {
            width: 80px;
            height: 40px;
            background: linear-gradient(45deg, #888, #555);
            border-radius: 10px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 2px solid #333;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.7);
        }
        
        .turret-barrel {
            width: 60px;
            height: 15px;
            background: linear-gradient(45deg, #666, #444);
            border-radius: 5px;
            position: absolute;
            top: -15px;
            transform-origin: center bottom;
        }
        
        .turret.active {
            background: linear-gradient(45deg, #aaa, #777);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        }
        
        .bullet {
            position: absolute;
            width: 8px;
            height: 20px;
            background: linear-gradient(to top, #ffcc00, #ff9900);
            border-radius: 4px;
            z-index: 4;
            box-shadow: 0 0 10px #ffcc00;
        }
        
        .enemy-bullet {
            position: absolute;
            width: 8px;
            height: 20px;
            background: linear-gradient(to top, #ff3300, #cc0000);
            border-radius: 4px;
            z-index: 4;
            box-shadow: 0 0 10px #ff3300;
        }

        .boss-bullet {
            position: absolute;
            width: 15px;
            height: 30px;
            background: linear-gradient(to top, #ff0000, #990000);
            border-radius: 7px;
            z-index: 4;
            box-shadow: 0 0 15px #ff0000;
        }
        
        .rainbow-shield {
            position: absolute;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            z-index: 5;
            pointer-events: none;
            animation: rainbowShield 10s linear infinite;
        }
        
        @keyframes rainbowShield {
            0% { box-shadow: 0 0 20px #ff0000, 0 0 40px #ff0000; }
            16% { box-shadow: 0 0 20px #ff9900, 0 0 40px #ff9900; }
            33% { box-shadow: 0 0 20px #ffff00, 0 0 40px #ffff00; }
            50% { box-shadow: 0 0 20px #00ff00, 0 0 40px #00ff00; }
            66% { box-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff; }
            83% { box-shadow: 0 0 20px #0000ff, 0 0 40px #0000ff; }
            100% { box-shadow: 0 0 20px #ff00ff, 0 0 40px #ff00ff; }
        }

        /* Ù„ÙˆØ¯ÛŒÙ†Ú¯ Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ */
        .loading-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #000428, #004e92, #000428);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 20;
            color: white;
        }
        
        .loading-stage {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .stage-title {
            font-size: 2rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ff8a00, #e52e71, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: stageTitleGlow 2s infinite alternate;
        }
        
        @keyframes stageTitleGlow {
            0% { filter: drop-shadow(0 0 10px rgba(255, 138, 0, 0.7)); }
            50% { filter: drop-shadow(0 0 15px rgba(229, 46, 113, 0.7)); }
            100% { filter: drop-shadow(0 0 20px rgba(0, 170, 255, 0.7)); }
        }
        
        .coin-3d {
            font-size: 120px;
            animation: coin3dSpin 2s infinite linear;
            filter: drop-shadow(0 0 30px #00ff88) drop-shadow(0 0 60px #00ff88);
            margin-bottom: 30px;
        }
        
        @keyframes coin3dSpin {
            0% { transform: rotateY(0deg) scale(1) rotateX(0deg); }
            25% { transform: rotateY(90deg) scale(1.1) rotateX(10deg); }
            50% { transform: rotateY(180deg) scale(1.2) rotateX(0deg); }
            75% { transform: rotateY(270deg) scale(1.1) rotateX(-10deg); }
            100% { transform: rotateY(360deg) scale(1) rotateX(0deg); }
        }
        
        .loading-text {
            font-size: 1.8rem;
            color: #00ccff;
            margin-top: 20px;
            animation: textPulse 1.5s infinite alternate;
        }
        
        @keyframes textPulse {
            from { transform: scale(1); opacity: 0.7; }
            to { transform: scale(1.05); opacity: 1; }
        }
        
        .progress-container {
            width: 300px;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin-top: 20px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00ccff, #0066ff);
            border-radius: 10px;
            transition: width 0.3s ease;
            position: relative;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: progressShine 2s infinite;
        }
        
        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .loading-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00ff88;
            border-radius: 50%;
            animation: particleFloat 3s infinite linear;
        }
        
        @keyframes particleFloat {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }

        /* Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ Ø¯Ø± Ù‚Ø§Ù„Ø¨ Ú©Ø§Ù¾ */
        .achievement-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 15;
            color: white;
            text-align: center;
        }
        
        .achievement-cup {
            font-size: 100px;
            margin-bottom: 20px;
            filter: drop-shadow(0 0 20px gold);
            animation: cupGlow 2s infinite alternate;
        }
        
        @keyframes cupGlow {
            from { transform: scale(1); filter: drop-shadow(0 0 10px gold); }
            to { transform: scale(1.1); filter: drop-shadow(0 0 30px gold); }
        }
        
        .achievement-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
            max-width: 300px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .achievement-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .achievement-item.locked {
            opacity: 0.5;
        }
        
        .achievement-icon {
            font-size: 30px;
            margin-bottom: 5px;
        }
      /* Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ */
        .instructions-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 25;
            color: white;
            padding: 20px;
        }
        
        .instructions-content {
            background: rgba(0, 0, 0, 0.8);
            padding: 30px;
            border-radius: 20px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            text-align: right;
        }
        
        .instructions-content h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #00ccff;
            text-align: center;
        }
        
        .instructions-content p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 15px;
            color: #e0e0e0;
        }
        
        .instructions-close {
            margin-top: 20px;
            background: linear-gradient(45deg, #00ccff, #0066ff);
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            color: white;
            font-weight: bold;
        }

        /* Ù…ÙˆØ¯Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª */
        .management-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 30;
            color: white;
            padding: 20px;
        }
        
        .management-content {
            background: rgba(0, 0, 0, 0.8);
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }
        
        .management-content h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #ff4444;
        }
        
        .management-message {
            background: rgba(255, 68, 68, 0.1);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 68, 68, 0.3);
            margin: 20px 0;
            text-align: right;
        }
        
        .management-message p {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #ffaaaa;
        }
        
        .management-close {
            margin-top: 20px;
            background: linear-gradient(45deg, #ff4444, #cc0000);
            border: none;
            padding: 12px 25px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            color: white;
            font-weight: bold;
        }

        /* Ø§ÙÚ©Øª Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø³Ú©Ù‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡ */
        .coin-collect-effect {
            position: absolute;
            font-size: 35px;
            z-index: 6;
            pointer-events: none;
            animation: collectEffect 0.8s forwards;
        }
        
        @keyframes collectEffect {
            0% { transform: scale(1) rotate(0deg); opacity: 1; filter: drop-shadow(0 0 10px #00ff88); }
            50% { transform: scale(1.5) rotate(180deg); opacity: 0.7; filter: drop-shadow(0 0 20px #00ff88); }
            100% { transform: scale(2) rotate(360deg); opacity: 0; filter: drop-shadow(0 0 30px #00ff88); }
        }

        /* Ø§ÙÚ©Øª Ù¾Ø§ÛŒØ§Ù† Ù…Ø±Ø­Ù„Ù‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡ */
        .level-complete-effect {
            position: absolute;
            font-size: 60px;
            z-index: 7;
            pointer-events: none;
            animation: levelCompleteEffect 1.5s forwards cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes levelCompleteEffect {
            0% { 
                transform: scale(1) rotate(0deg) translateY(0); 
                opacity: 1; 
                filter: drop-shadow(0 0 10px #00ff88) drop-shadow(0 0 20px #00ff88);
            }
            50% { 
                transform: scale(1.5) rotate(180deg) translateY(-30px); 
                opacity: 0.8;
                filter: drop-shadow(0 0 30px #00ff88) drop-shadow(0 0 40px #00ff88);
            }
            100% { 
                transform: scale(2) rotate(360deg) translateY(-60px); 
                opacity: 0;
                filter: drop-shadow(0 0 50px #00ff88) drop-shadow(0 0 60px #00ff88);
            }
        }

        /* Ø§ÙÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒ */
        .galaxy-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }
        
        .combat-effect {
            position: absolute;
            z-index: 5;
            pointer-events: none;
            animation: combatEffect 0.5s forwards;
        }
        
        @keyframes combatEffect {
            0% { transform: scale(0.5); opacity: 0; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); opacity: 0; }
        }
        
        .health-bar {
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 6px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .health-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff4444, #ffaa00, #00ff88);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        /* Ù†ÙˆØ§Ø± Ø³Ù„Ø§Ù…Øª Ø¯Ø´Ù…Ù† */
        .enemy-health-bar {
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 4px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .enemy-health-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff4444, #ffaa00);
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        .boss-health-bar {
            position: fixed;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            height: 20px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            overflow: hidden;
            z-index: 10;
            border: 2px solid #ff0000;
        }

        .boss-health-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff0000, #ff6600);
            border-radius: 8px;
            transition: width 0.3s ease;
            animation: bossHealthPulse 1s infinite;
        }

        @keyframes bossHealthPulse {
            0%, 100% { box-shadow: 0 0 10px #ff0000; }
            50% { box-shadow: 0 0 20px #ff0000; }
        }

        .boss-name {
            position: fixed;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            color: #ff0000;
            font-size: 24px;
            font-weight: bold;
            z-index: 10;
            text-shadow: 0 0 10px #ff0000;
            animation: bossNamePulse 2s infinite;
        }

        @keyframes bossNamePulse {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.1); }
        }

        /* Ø³ÛŒØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ø¯Ø± Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ */
        .background-planet {
            position: absolute;
            font-size: 30px;
            z-index: 1;
            filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.3));
            opacity: 0.7;
        }

        /* Ø®Ø·ÙˆØ· Ø±Ø§Ù‡Ù†Ù…Ø§ */
        .guideline {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00ff88, transparent);
            z-index: 1;
            opacity: 0.5;
            pointer-events: none;
        }

        /* Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ */
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            z-index: 1;
            animation: starTwinkle 3s infinite;
        }

        @keyframes starTwinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* Ù¾Ø§ÙˆØ± Ø¢Ù¾â€ŒÙ‡Ø§ */
        .powerup {
            position: absolute;
            font-size: 35px;
            z-index: 2;
            animation: powerupFloat 2s infinite ease-in-out;
            filter: drop-shadow(0 0 10px #ffaa00) drop-shadow(0 0 20px #ffaa00);
        }

        @keyframes powerupFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(180deg); }
        }

        /* Ø§Ù…ØªÛŒØ§Ø² Ø´Ù†Ø§ÙˆØ± */
        .floating-score {
            position: absolute;
            color: #00ff88;
            font-size: 20px;
            font-weight: bold;
            z-index: 7;
            pointer-events: none;
            animation: floatUp 1s forwards;
            text-shadow: 2px 2px 4px black;
        }

        @keyframes floatUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-50px); opacity: 0; }
        }

        /* Ú©ÙˆÙ…Ø¨Ùˆ */
        .combo-indicator {
            position: fixed;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 40px;
            font-weight: bold;
            color: #ffaa00;
            z-index: 10;
            text-shadow: 0 0 10px #ffaa00;
            animation: comboPulse 0.5s;
        }

        @keyframes comboPulse {
            0% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.3); }
            100% { transform: translateX(-50%) scale(1); }
        }

        /* Ø±Ø³Ù¾Ø§Ù†Ø³ÛŒÙˆ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
            }
            
            .theme-btn {
                width: 100px;
                height: 60px;
            }
            
            .mini-map {
                width: 150px;
                height: 150px;
                top: 10px;
                left: 10px;
            }
            
            .main-btn {
                padding: 8px 12px;
                font-size: 0.85rem;
                min-height: 32px;
            }
            
            .main-btn.start {
                font-size: 0.95rem;
                padding: 10px 12px;
                min-height: 36px;
            }
            
            .management-btn {
                padding: 7px 12px;
                font-size: 0.85rem;
                min-height: 32px;
            }
            
            .stat-item {
                padding: 6px 8px;
            }
            
            .stat-value {
                font-size: 1.1rem;
            }
            
            .player {
                font-size: 70px;
            }
            
            .enemy {
                font-size: 35px;
            }

            .enemy.boss {
                font-size: 80px;
            }
            
            .coin {
                font-size: 30px;
            }
            
            .coin-trail {
                font-size: 20px;
            }
            
            .bomb-button {
                width: 60px;
                height: 60px;
                font-size: 30px;
                bottom: 15px;
                left: 15px;
            }
            
            .bomb-timer {
                bottom: 85px;
                left: 20px;
            }

            .power-buttons {
                bottom: 100px;
                right: 15px;
                flex-direction: column;
            }

            .power-btn {
                width: 50px;
                height: 50px;
                font-size: 25px;
            }
            
            .touch-controls {
                display: flex;
            }
            
            .instructions-content {
                padding: 20px;
            }
            
            .management-content {
                padding: 20px;
            }
            
            .stage-title {
                font-size: 1.5rem;
            }
            
            .coin-3d {
                font-size: 80px;
            }
            
            .loading-text {
                font-size: 1.3rem;
            }
            
            .turret-container {
                bottom: 10px;
                width: 80px;
                height: 50px;
            }
            
            .turret {
                width: 70px;
                height: 35px;
            }
            
            .turret-barrel {
                width: 50px;
                height: 12px;
                top: -12px;
            }

            .boss-health-bar {
                width: 250px;
                height: 15px;
            }

            .boss-name {
                font-size: 20px;
            }
        }
        
        @media (max-width: 360px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
            
            .main-buttons {
                width: 95%;
            }
            
            .theme-selector {
                gap: 10px;
            }
            
            .theme-btn {
                width: 80px;
                height: 50px;
            }
        }
    </style>
</head>
<body>
    <!-- Ø¢ØªØ´ÙØ´Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ú¯ÙˆØ´Ù‡â€ŒÙ‡Ø§ -->
    <div class="corner-volcano top-left">ğŸŒ‹</div>
    <div class="corner-volcano top-right">ğŸŒ‹</div>
    <div class="corner-volcano bottom-left">ğŸŒ‹</div>
    <div class="corner-volcano bottom-right">ğŸŒ‹</div>
    
    <!-- ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ -->
    <div id="mainScreen">
        <div class="header">
            <h1>ğŸš€ Ø¨Ø§Ø²ÛŒ Ú©Ù‡Ú©Ø´Ø§Ù†ÛŒ ÙÙˆÙ‚ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h1>
        </div>

        <!-- Ø§Ù†ØªØ®Ø§Ø¨ ØªÙ… -->
        <div class="theme-selector">
            <div class="theme-btn theme1 active" onclick="changeTheme('theme1')"></div>
            <div class="theme-btn theme2" onclick="changeTheme('theme2')"></div>
            <div class="theme-btn theme3" onclick="changeTheme('theme3')"></div>
            <div class="theme-btn theme4" onclick="changeTheme('theme4')"></div>
        </div>
        
        <div class="main-buttons">
            <button class="main-btn start" onclick="startGame()">ğŸ® Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ</button>
            <button class="main-btn" onclick="showAchievements()">ğŸ† Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§</button>
            <button class="main-btn" onclick="showInstructions()">ğŸ“– Ø±Ø§Ù‡Ù†Ù…Ø§</button>
            <button class="management-btn" onclick="showManagement()">ğŸ“¢ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª</button>
        </div>
        
        <div class="stats-panel">
            <div class="stats">
                <div class="stat-item">
                    <div>Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ø§Ù…ØªÛŒØ§Ø²</div>
                    <div class="stat-value" id="highScore">0</div>
                </div>
                <div class="stat-item">
                    <div>Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡</div>
                    <div class="stat-value" id="highLevel">1</div>
                </div>
                <div class="stat-item">
                    <div>Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ú©Ø³Ø¨ Ø´Ø¯Ù‡</div>
                    <div class="stat-value" id="achievementsCount">0/100</div>
                </div>
                <div class="stat-item">
                    <div>Ú©Ù„ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§</div>
                    <div class="stat-value" id="totalCoinsCollected">0</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒ -->
    <div id="gameScreen" class="hidden">
        <div class="camera-container" id="cameraContainer">
            <div id="gameElements"></div>
        </div>
    </div>
    
    <!-- Ù†Ù‚Ø´Ù‡ Ú©ÙˆÚ†Ú© -->
    <div class="mini-map hidden" id="miniMap">
        <div class="map-view" id="mapView"></div>
    </div>
    
    <!-- Ù†Ø´Ø§Ù†Ú¯Ø± Ø³ÙˆØ®Øª -->
    <div class="fuel-indicator hidden">â›½ Ø³ÙˆØ®Øª: 100%</div>
    
    <!-- Ù†Ø´Ø§Ù†Ú¯Ø± Ø¨Ø§Ø²ÛŒÚ©Ù† -->
    <div id="playerIndicator" class="hidden">ğŸ›¸ Ø§ÛŒÙ† Ø´Ù…Ø§ Ù‡Ø³ØªÛŒØ¯!</div>
    
    <!-- Ø¯Ú©Ù…Ù‡ Ø¨Ù…Ø¨ -->
    <button id="bombButton" class="bomb-button hidden" onclick="useBomb()">ğŸ’£</button>
    <div id="bombTimer" class="bomb-timer hidden">Ø¨Ù…Ø¨: 10s</div>
    
    <!-- Ù†Ø´Ø§Ù†Ú¯Ø± Ø²Ù…Ø§Ù† Ø§Ù…Ù† -->
    <div id="safeTimeIndicator" class="safe-time-indicator hidden">Ø²Ù…Ø§Ù† Ø§Ù…Ù†: 5s</div>
    
    <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯Ø±Øª -->
    <div class="power-buttons hidden" id="powerButtons">
        <button class="power-btn speed" onclick="activateSpeed()" title="Ø³Ø±Ø¹Øª">âš¡</button>
        <button class="power-btn freeze" onclick="activateFreeze()" title="ÙØ±ÛŒØ²">â„ï¸</button>
        <button class="power-btn magnet" onclick="activateMagnet()" title="Ù…Ú¯Ù†Øª">ğŸ§²</button>
    </div>
    
    <!-- Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ -->
    <div class="touch-controls hidden">
        <div class="joystick">
            <div class="joystick-handle"></div>
            <div class="joystick-center"></div>
        </div>
    </div>
    
    <!-- ØªÛŒØ±Ø¨Ø§Ø± Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ -->
    <div class="turret-container hidden" id="turretContainer">
        <div class="turret" id="turret">
            <div class="turret-barrel" id="turretBarrel"></div>
        </div>
    </div>

    <!-- Ù†ÙˆØ§Ø± Ø³Ù„Ø§Ù…Øª Ø¨Ø§Ø³ -->
    <div id="bossHealthBar" class="boss-health-bar hidden">
        <div class="boss-health-fill" id="bossHealthFill"></div>
    </div>
    <div id="bossName" class="boss-name hidden"></div>
    
    <!-- ØµÙØ­Ù‡ Ù¾Ø§ÛŒØ§Ù† Ù…Ø±Ø­Ù„Ù‡ -->
    <div id="levelComplete">
        <h2 style="font-size: 2.5rem; margin-bottom: 20px; color: #00ff88;">ØªØ¨Ø±ÛŒÚ©! ğŸ‰</h2>
        <p style="font-size: 1.5rem; margin-bottom: 30px; color: #aaffaa;">Ù…Ø±Ø­Ù„Ù‡ <span id="completedLevel">1</span> ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯!</p>
        <p style="font-size: 1.2rem; margin-bottom: 40px; color: #aaddff;">Ø¢Ù…Ø§Ø¯Ù‡ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯ÛŒ Ù‡Ø³ØªÛŒØŸ</p>
        <button id="nextLevelButton" style="background: linear-gradient(45deg, #00ccff, #0066ff); border: none; padding: 15px 30px; font-size: 1.2rem; border-radius: 50px; cursor: pointer; color: white; font-weight: bold;">Ø¨Ø±Ùˆ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯</button>
    </div>

    <!-- Ù„ÙˆØ¯ÛŒÙ†Ú¯ Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ -->
    <div id="loadingScreen" class="loading-container hidden">
        <div class="loading-stage">
            <div class="stage-title" id="stageTitle">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¬Ù‡Ø§Ù† Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª</div>
            <div class="coin-3d">ğŸ›¸</div>
            <div class="loading-text" id="loadingText">Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§...</div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar" style="width: 0%"></div>
            </div>
        </div>
        <div class="loading-particles" id="loadingParticles"></div>
    </div>

    <!-- Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ -->
    <div id="achievementsModal" class="achievement-modal hidden">
        <div class="achievement-cup">ğŸ†</div>
        <h2 style="font-size: 2rem; margin-bottom: 20px; color: gold;">Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§</h2>
        <div class="achievement-grid" id="achievementGrid"></div>
        <button class="main-btn" onclick="closeAchievements()" style="margin-top: 20px;">Ø¨Ø³ØªÙ†</button>
    </div>

    <!-- Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ -->
    <div id="instructionsModal" class="instructions-modal hidden">
        <div class="instructions-content">
            <h2>ğŸ“– Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¬Ø§Ù…Ø¹ Ø¨Ø§Ø²ÛŒ Ú©Ù‡Ú©Ø´Ø§Ù†ÛŒ</h2>
            
            <p>ğŸ¯ <strong>Ù‡Ø¯Ù Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ:</strong><br>
            Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø·Ù„Ø§ÛŒÛŒ Ùˆ Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ù…Ù…Ú©Ù†. Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ø³ÙÛŒÙ†Ù‡ Ø®ÙˆØ¯ Ø¯Ø± ÙØ¶Ø§ Ø­Ø±Ú©Øª Ú©Ø±Ø¯Ù‡ Ùˆ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ Ø±Ø§ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ú©Ù†ÛŒØ¯.</p>

            <p>ğŸ›¸ <strong>Ú©Ù†ØªØ±Ù„ Ø³ÙÛŒÙ†Ù‡:</strong><br>
            â€¢ Ø¨Ø§ Ù…ÙˆØ³ ÛŒØ§ Ù„Ù…Ø³ ØµÙØ­Ù‡ Ø­Ø±Ú©Øª Ú©Ù†ÛŒØ¯<br>
            â€¢ Ø­Ø±Ú©Øª Ú©Ø§Ù…Ù„Ø§Ù‹ Ø±ÙˆØ§Ù† Ùˆ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ<br>
            â€¢ Ø³ÙÛŒÙ†Ù‡ Ø¨Ù‡ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¯ Ø¨Ù‡ØªØ±</p>

            <p>ğŸ”« <strong>Ø³ÛŒØ³ØªÙ… ØªÛŒØ±Ø¨Ø§Ø± Ø¬Ø¯ÛŒØ¯:</strong><br>
            â€¢ ØªÛŒØ±Ø¨Ø§Ø± Ø¯Ø± Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ Ø«Ø§Ø¨Øª Ø§Ø³Øª<br>
            â€¢ Ø¨Ø§ Ù„Ù…Ø³ ØªÛŒØ±Ø¨Ø§Ø± Ø¨Ù‡ Ø¯Ø´Ù…Ù†Ø§Ù† Ø´Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯<br>
            â€¢ ØªÛŒØ±Ù‡Ø§ Ø§Ø² Ø³ÙÛŒÙ†Ù‡ Ù…Ø­Ø§ÙØ¸Øª Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯<br>
            â€¢ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù‡Ù…Ø²Ù…Ø§Ù† Ø¨Ø§ Ø¬ÙˆÛŒØ³ØªÛŒÚ© Ø­Ø±Ú©Øª Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø§ ØªÛŒØ±Ø¨Ø§Ø± Ø´Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</p>

            <p>ğŸ›¡ï¸ <strong>Ø³ÛŒØ³ØªÙ… Ù…Ø­Ø§ÙØ¸ Ø±Ù†Ú¯ÛŒÙ†â€ŒÚ©Ù…Ø§Ù†:</strong><br>
            â€¢ Ù‡Ø± 10 Ø«Ø§Ù†ÛŒÙ‡ ÛŒÚ© Ù…Ø­Ø§ÙØ¸ Ø±Ù†Ú¯ÛŒÙ†â€ŒÚ©Ù…Ø§Ù† ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯<br>
            â€¢ Ø¯Ø± Ø§ÛŒÙ† Ù…Ø¯Øª Ù‡ÛŒÚ† Ú†ÛŒØ²ÛŒ Ø¨Ù‡ Ø³ÙÛŒÙ†Ù‡ Ø¢Ø³ÛŒØ¨ Ù†Ù…ÛŒâ€ŒØ±Ø³Ø§Ù†Ø¯<br>
            â€¢ Ø§Ø² Ø§ÛŒÙ† Ø²Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</p>

            <p>ğŸŒ <strong>Ø³ÛŒØ³ØªÙ… Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§:</strong><br>
            â€¢ Ù‡Ø± Ù…Ø¯Ø§Ù„ Ø¨Ø±Ø§ÛŒ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú†Ù†Ø¯ÛŒÙ† Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¯Ø§Ø±Ø¯<br>
            â€¢ Ø¹Ø¯Ø¯ Ø±ÙˆÛŒ Ù…Ø¯Ø§Ù„ Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø§ Ù…Ø±Ø­Ù„Ù‡ ÙØ¹Ù„ÛŒ Ø§Ø³Øª<br>
            â€¢ Ø¨Ø§ Ù‡Ø± Ù…Ø±Ø­Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯<br>
            â€¢ Ù¾Ø³ Ø§Ø² Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒØŒ Ù…Ø¯Ø§Ù„ Ø¨Ù‡ Ù‚Ø·Ø§Ø± Ù¾Ø´Øª Ø³ÙÛŒÙ†Ù‡ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</p>

            <p>ğŸŒ‹ <strong>Ø®Ø·Ø± Ø¯Ø´Ù…Ù†Ø§Ù†:</strong><br>
            â€¢ Ø¯Ø´Ù…Ù†Ø§Ù† Ø¨Ù‡ ØµÙˆØ±Øª Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ÛŒ 10 ØªØ§ÛŒÛŒ Ø­Ø±Ú©Øª Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯<br>
            â€¢ Ù‡Ø± 10 Ø«Ø§Ù†ÛŒÙ‡ Ø¨Ù‡ Ø³Ù…Øª Ø³ÙÛŒÙ†Ù‡ Ø´Ù„ÛŒÚ© Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯<br>
            â€¢ Ø¨Ø§ ØªÛŒØ±Ø¨Ø§Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø´Ù…Ù†Ø§Ù† Ø±Ø§ Ù†Ø§Ø¨ÙˆØ¯ Ú©Ù†ÛŒØ¯<br>
            â€¢ Ø­Ø¯Ø§Ú©Ø«Ø± 100 Ø¯Ø´Ù…Ù† Ø¯Ø± ØµÙØ­Ù‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯<br>
            â€¢ Ø¯Ø± Ù‡Ø± 10 Ù…Ø±Ø­Ù„Ù‡ ÛŒÚ© Ø¨Ø§Ø³ Ø¸Ø§Ù‡Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯!</p>

            <p>ğŸ‘¾ <strong>Ø³ÛŒØ³ØªÙ… Ø¨Ø§Ø³:</strong><br>
            â€¢ Ø¨Ø§Ø³â€ŒÙ‡Ø§ Ø¯Ø± Ù…Ø±Ø§Ø­Ù„ 10ØŒ 20ØŒ 30 Ùˆ ... Ø¸Ø§Ù‡Ø± Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯<br>
            â€¢ Ø¨Ø§Ø³â€ŒÙ‡Ø§ Ø³Ù„Ø§Ù…Øª Ø¨Ø³ÛŒØ§Ø± Ø¨Ø§Ù„Ø§ÛŒÛŒ Ø¯Ø§Ø±Ù†Ø¯<br>
            â€¢ Ø­Ù…Ù„Ø§Øª Ø¨Ø§Ø³â€ŒÙ‡Ø§ Ù‚ÙˆÛŒâ€ŒØªØ± Ùˆ Ø³Ø±ÛŒØ¹â€ŒØªØ± Ù‡Ø³ØªÙ†Ø¯<br>
            â€¢ Ø´Ú©Ø³Øª Ø¯Ø§Ø¯Ù† Ø¨Ø§Ø³ Ø§Ù…ØªÛŒØ§Ø² Ùˆ Ù¾Ø§Ø¯Ø§Ø´ Ø²ÛŒØ§Ø¯ÛŒ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯</p>

            <p>âš¡ï¸ <strong>Ø³ÛŒØ³ØªÙ… Ø§Ù†Ø±Ú˜ÛŒ:</strong><br>
            â€¢ Ø§Ù†Ø±Ú˜ÛŒ Ù‡Ø± 20 Ø«Ø§Ù†ÛŒÙ‡ Ø¯Ø± ØµÙØ­Ù‡ Ø¸Ø§Ù‡Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯<br>
            â€¢ Ø¨Ø§ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø§Ù†Ø±Ú˜ÛŒØŒ Ø§Ù…ØªÛŒØ§Ø² Ùˆ Ø³ÙˆØ®Øª Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯<br>
            â€¢ Ø§Ù†Ø±Ú˜ÛŒ Ø¨Ø§ Ø¹Ù„Ø§Ù…Øª + Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡ Ø§Ø³Øª</p>

            <p>âš¡ <strong>Ù¾Ø§ÙˆØ± Ø¢Ù¾â€ŒÙ‡Ø§:</strong><br>
            â€¢ Ø³Ø±Ø¹Øª: Ø³Ø±Ø¹Øª Ø³ÙÛŒÙ†Ù‡ Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯<br>
            â€¢ ÙØ±ÛŒØ²: Ø¯Ø´Ù…Ù†Ø§Ù† Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ØªÛŒ Ù…ØªÙˆÙ‚Ù Ù…ÛŒâ€ŒÚ©Ù†Ø¯<br>
            â€¢ Ù…Ú¯Ù†Øª: Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ø² Ø¯ÙˆØ± Ø¬Ø°Ø¨ Ù…ÛŒâ€ŒÚ©Ù†Ø¯</p>

            <p>ğŸ’£ <strong>Ø³ÛŒØ³ØªÙ… Ø¨Ù…Ø¨:</strong><br>
            â€¢ Ù‡Ø± 10 Ø«Ø§Ù†ÛŒÙ‡ ÛŒÚ© Ø¨Ù…Ø¨ Ø¯Ø± Ø§Ø®ØªÛŒØ§Ø± Ø¯Ø§Ø±ÛŒØ¯<br>
            â€¢ Ø¨Ø§ ÙØ´Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ Ø¨Ù…Ø¨ØŒ ØªÙ…Ø§Ù… Ø¯Ø´Ù…Ù†Ø§Ù† Ù†Ø§Ø¨ÙˆØ¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯<br>
            â€¢ Ù¾Ø³ Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡ØŒ 5 Ø«Ø§Ù†ÛŒÙ‡ Ø²Ù…Ø§Ù† Ø§Ù…Ù† Ø¯Ø§Ø±ÛŒØ¯<br>
            â€¢ Ø¯Ø± Ø²Ù…Ø§Ù† Ø§Ù…Ù†ØŒ Ø¯Ø´Ù…Ù†Ø§Ù† Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø¢Ø³ÛŒØ¨ Ø¨Ø±Ø³Ø§Ù†Ù†Ø¯</p>

            <p>â›½ <strong>Ø³ÛŒØ³ØªÙ… Ø³ÙˆØ®Øª:</strong><br>
            â€¢ Ø³ÙˆØ®Øª Ø¨Ù‡ ØªØ¯Ø±ÛŒØ¬ Ú©Ø§Ù‡Ø´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯<br>
            â€¢ Ø¨Ø§ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ØŒ Ø³ÙˆØ®Øª Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯<br>
            â€¢ Ø§Ú¯Ø± Ø³ÙˆØ®Øª Ø¨Ù‡ ØµÙØ± Ø¨Ø±Ø³Ø¯ØŒ Ø¨Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯<br>
            â€¢ Ù‡Ù…ÛŒØ´Ù‡ Ù…Ø±Ø§Ù‚Ø¨ Ù†Ø´Ø§Ù†Ú¯Ø± Ø³ÙˆØ®Øª Ø¨Ø§Ø´ÛŒØ¯</p>

            <p>ğŸ† <strong>Ø³ÛŒØ³ØªÙ… Ù¾ÛŒØ´Ø±ÙØª:</strong><br>
            â€¢ Ø¨Ø§ ØªÚ©Ù…ÛŒÙ„ Ù‡Ø± Ù…Ø±Ø­Ù„Ù‡ØŒ ÛŒÚ© Ù…Ø¯Ø§Ù„ Ø¬Ø¯ÛŒØ¯ Ú©Ø³Ø¨ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯<br>
            â€¢ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø§Ù…ØªÛŒØ§Ø²ÛŒ Ø¯Ø± Ø§Ù…ØªÛŒØ§Ø²Ù‡Ø§ÛŒ Ø®Ø§ØµÛŒ Ø¨Ø§Ø² Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯<br>
            â€¢ Ø¯Ø± Ù…Ø¬Ù…ÙˆØ¹ 100 Ù…Ø¯Ø§Ù„ Ù…Ø®ØªÙ„Ù Ø¨Ø±Ø§ÛŒ Ú©Ø³Ø¨ Ú©Ø±Ø¯Ù†<br>
            â€¢ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ Ø§Ø² 100 Ù‡Ø²Ø§Ø± Ø³Ú©Ù‡ Ø´Ø±ÙˆØ¹ Ø´Ø¯Ù‡ ØªØ§ 100 Ù…ÛŒÙ„ÛŒÙˆÙ†</p>

            <p>ğŸ® <strong>Ù†Ú©Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡:</strong><br>
            â€¢ Ø³Ø¹ÛŒ Ú©Ù†ÛŒØ¯ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ú¯Ø±ÙˆÙ‡ÛŒ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ú©Ù†ÛŒØ¯<br>
            â€¢ Ø¨Ù…Ø¨ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø­Ø±Ø§Ù†ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒØ¯<br>
            â€¢ Ø§Ø² Ú¯ÙˆØ´Ù‡â€ŒÙ‡Ø§ÛŒ ØµÙØ­Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªØ±Ø§Ø­Øª Ú©ÙˆØªØ§Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯<br>
            â€¢ Ø¨Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ù…Ø±Ø§Ø­Ù„ØŒ
              <p>âœ¨ <strong>ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡:</strong><br>
        â€¢ Ú¯Ø±Ø§ÙÛŒÚ© Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ Ùˆ Ø§ÙÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ<br>
        â€¢ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¨Ø§Ù„Ø§<br>
        â€¢ Ø·Ø±Ø§Ø­ÛŒ ÙˆØ§Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§<br>
        â€¢ Ø³ÛŒØ³ØªÙ… Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±<br>
        â€¢ Ø¬Ù‡Ø§Ù† Ø¨Ø§Ø²ÛŒ 3 Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø²Ø±Ú¯ØªØ± Ø´Ø¯Ù‡<br>
        â€¢ Ø³ÛŒØ³ØªÙ… Ú©ÙˆÙ…Ø¨Ùˆ Ø¨Ø±Ø§ÛŒ Ø§Ù…ØªÛŒØ§Ø² Ø¨ÛŒØ´ØªØ±</p>

        <button class="instructions-close" onclick="closeInstructions()">Ø¨Ø³ØªÙ† Ø±Ø§Ù‡Ù†Ù…Ø§</button>
    </div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª -->
<div id="managementModal" class="management-modal hidden">
    <div class="management-content">
        <h2>ğŸ“¢ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª</h2>
        
        <div class="management-message">
            <p>ğŸ® <strong>Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ Ú©Ù‡Ú©Ø´Ø§Ù†ÛŒ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!</strong></p>
            <p>âœ¨ Ø¨Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¨Ù‡ÛŒÙ†Ù‡ Ø´Ø¯Ù‡ Ùˆ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø±Ø§Ø¦Ù‡ ØªØ¬Ø±Ø¨Ù‡â€ŒØ§ÛŒ ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡ Ø§Ø³Øª.</p>
            <p>ğŸš€ <strong>ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯:</strong></p>
            <p>â€¢ Ø³ÛŒØ³ØªÙ… ØªÛŒØ±Ø¨Ø§Ø± Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² Ø³ÙÛŒÙ†Ù‡<br>
               â€¢ Ø³ÛŒØ³ØªÙ… Ù…Ø­Ø§ÙØ¸ Ø±Ù†Ú¯ÛŒÙ†â€ŒÚ©Ù…Ø§Ù† Ù‡Ø± 10 Ø«Ø§Ù†ÛŒÙ‡<br>
               â€¢ Ø¯Ø´Ù…Ù†Ø§Ù† Ú¯Ø±ÙˆÙ‡ÛŒ Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡<br>
               â€¢ Ø³ÛŒØ³ØªÙ… Ø¨Ø§Ø³ Ø¯Ø± Ù‡Ø± 10 Ù…Ø±Ø­Ù„Ù‡<br>
               â€¢ Ù¾Ø§ÙˆØ± Ø¢Ù¾â€ŒÙ‡Ø§ÛŒ Ø³Ø±Ø¹ØªØŒ ÙØ±ÛŒØ² Ùˆ Ù…Ú¯Ù†Øª<br>
               â€¢ Ø³ÛŒØ³ØªÙ… Ú©ÙˆÙ…Ø¨Ùˆ Ø¨Ø±Ø§ÛŒ Ø§Ù…ØªÛŒØ§Ø² Ø¨ÛŒØ´ØªØ±<br>
               â€¢ Ø³ÛŒØ³ØªÙ… Ø§Ù†Ø±Ú˜ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÙØ²Ø§ÛŒØ´ Ø§Ù…ØªÛŒØ§Ø² Ùˆ Ø³ÙˆØ®Øª<br>
               â€¢ Ø¯ÙˆØ±Ø¨ÛŒÙ† Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¨Ø¯ÙˆÙ† Ù‡ÛŒÚ† Ú¯ÙˆÙ†Ù‡ Ù„Ú¯ ÛŒØ§ Ù…Ø´Ú©Ù„<br>
               â€¢ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ 3 Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø²Ø±Ú¯ØªØ± Ø¨Ø§ Ø³ÛŒØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ùˆ Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§<br>
               â€¢ Ø³ÛŒØ³ØªÙ… ØµÙˆØªÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¨Ø§ Ø§ÙÚ©Øªâ€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ<br>
               â€¢ Ú¯Ø±Ø§ÙÛŒÚ© Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ Ùˆ Ø§ÙÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ<br>
               â€¢ Ú©Ù†ØªØ±Ù„ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø±ÙˆØ§Ù† Ùˆ Ù¾Ø§Ø³Ø®Ú¯Ùˆ<br>
               â€¢ Ø³ÛŒØ³ØªÙ… Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±<br>
               â€¢ 4 ØªÙ… Ø²ÛŒØ¨Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨</p>
            <p>â­ Ø§Ø² Ø¨Ø§Ø²ÛŒ Ù„Ø°Øª Ø¨Ø¨Ø±ÛŒØ¯ Ùˆ Ø¨Ù‡ Ú©Ù‡Ú©Ø´Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¯ÙˆØ± Ø³ÙØ± Ú©Ù†ÛŒØ¯!</p>
        </div>

        <button class="management-close" onclick="closeManagement()">Ø¨Ø³ØªÙ† Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡</button>
    </div>
</div>

<script>
    // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ
    let player = { x: 6000, y: 6000, size: 80, rotation: 0, fuel: 100, health: 100, speed: 1 };
    let playerElement = null;
    let coins = [];
    let enemies = [];
    let enemyGroups = [];
    let coinTrail = [];
    let playerPath = [];
    let bullets = [];
    let enemyBullets = [];
    let energyItems = [];
    let powerups = [];
    let stars = [];
    let score = 0;
    let coinsCollected = 0;
    let currentLevel = 1;
    let totalCoinsNeeded = 60;
    let gameRunning = false;
    let bombCooldown = 0;
    let bombAvailable = false;
    let safeTime = 0;
    let isSafeTime = false;
    let fuelConsumption = 0;
    let lastFrameTime = 0;
    let cameraX = 0;
    let cameraY = 0;
    let isTurretActive = false;
    let turretAngle = 0;
    let rainbowShieldActive = false;
    let rainbowShieldTime = 0;
    let lastEnergySpawn = 0;
    let lastEnemyShoot = 0;
    let enemyShootCooldown = 600; // 10 Ø«Ø§Ù†ÛŒÙ‡
    let backgroundPlanets = [];
    let guidelines = [];
    let combo = 0;
    let lastComboTime = 0;
    let isBossLevel = false;
    let boss = null;
    let speedBoostActive = false;
    let freezeActive = false;
    let magnetActive = false;
    let powerupCooldowns = { speed: 0, freeze: 0, magnet: 0 };
    
    // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ
    let isTouching = false;
    let touchStartX = 0;
    let touchStartY = 0;
    let joystickBaseX = 0;
    let joystickBaseY = 0;
    let joystickRadius = 40;
    let isTurretTouching = false;
    
    // Ø¹Ù†Ø§ØµØ± DOM
    const mainScreen = document.getElementById('mainScreen');
    const gameScreen = document.getElementById('gameScreen');
    const fuelIndicator = document.querySelector('.fuel-indicator');
    const playerIndicator = document.getElementById('playerIndicator');
    const bombButton = document.getElementById('bombButton');
    const bombTimer = document.getElementById('bombTimer');
    const safeTimeIndicator = document.getElementById('safeTimeIndicator');
    const nextLevelButton = document.getElementById('nextLevelButton');
    const completedLevelElement = document.getElementById('completedLevel');
    const levelComplete = document.getElementById('levelComplete');
    const loadingScreen = document.getElementById('loadingScreen');
    const loadingText = document.getElementById('loadingText');
    const touchControls = document.querySelector('.touch-controls');
    const joystick = document.querySelector('.joystick');
    const joystickHandle = document.querySelector('.joystick-handle');
    const gameElements = document.getElementById('gameElements');
    const miniMap = document.getElementById('miniMap');
    const turretContainer = document.getElementById('turretContainer');
    const turret = document.getElementById('turret');
    const turretBarrel = document.getElementById('turretBarrel');
    const powerButtons = document.getElementById('powerButtons');
    const bossHealthBar = document.getElementById('bossHealthBar');
    const bossHealthFill = document.getElementById('bossHealthFill');
    const bossName = document.getElementById('bossName');

    // ØªØºÛŒÛŒØ± ØªÙ… ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
    function changeTheme(theme) {
        const mainScreen = document.getElementById('mainScreen');
        
        if (theme === 'theme1') {
            mainScreen.style.background = 'linear-gradient(45deg, #000428, #004e92)';
        } else if (theme === 'theme2') {
            mainScreen.style.background = 'linear-gradient(45deg, #1a001a, #4d004d)';
        } else if (theme === 'theme3') {
            mainScreen.style.background = 'linear-gradient(45deg, #1a0000, #4d0000)';
        } else if (theme === 'theme4') {
            mainScreen.style.background = 'linear-gradient(45deg, #001a00, #004d00)';
        }
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ø§Ù„ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
        document.querySelectorAll('.theme-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
    }

    // Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¯Ø± localStorage
    function saveGameData() {
        try {
            const gameData = {
                highScore: Math.max(score, parseInt(localStorage.getItem('highScore')) || 0),
                highLevel: Math.max(currentLevel, parseInt(localStorage.getItem('highLevel')) || 1),
                totalCoins: (parseInt(localStorage.getItem('totalCoins')) || 0) + coinsCollected,
                achievements: JSON.parse(localStorage.getItem('achievements')) || {}
            };
            
            checkAchievements();
            
            localStorage.setItem('highScore', gameData.highScore);
            localStorage.setItem('highLevel', gameData.highLevel);
            localStorage.setItem('totalCoins', gameData.totalCoins);
            localStorage.setItem('achievements', JSON.stringify(gameData.achievements));
            
            updateMainScreenStats();
        } catch (error) {
            console.log('Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§:', error);
        }
    }
    
    function loadGameData() {
        try {
            const highScore = localStorage.getItem('highScore') || 0;
            const highLevel = localStorage.getItem('highLevel') || 1;
            const totalCoins = localStorage.getItem('totalCoins') || 0;
            const achievements = JSON.parse(localStorage.getItem('achievements')) || {};
            
            document.getElementById('highScore').textContent = highScore;
            document.getElementById('highLevel').textContent = highLevel;
            document.getElementById('totalCoinsCollected').textContent = totalCoins;
            
            const achievedCount = Object.values(achievements).filter(a => a.achieved).length;
            document.getElementById('achievementsCount').textContent = `${achievedCount}/100`;
            
            return achievements;
        } catch (error) {
            console.log('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§:', error);
            return {};
        }
    }
    
    function updateMainScreenStats() {
        loadGameData();
    }
    
    function showAchievements() {
        try {
            const achievementsModal = document.getElementById('achievementsModal');
            const achievementGrid = document.getElementById('achievementGrid');
            const achievements = loadGameData();
            
            achievementGrid.innerHTML = '';
            
            for (let i = 1; i <= 10; i++) {
                const achievementItem = document.createElement('div');
                achievementItem.className = `achievement-item ${achievements[i] ? '' : 'locked'}`;
                
                const achievementIcon = document.createElement('div');
                achievementIcon.className = 'achievement-icon';
                achievementIcon.innerHTML = achievements[i] ? 'ğŸŒŸ' : 'ğŸ”’';
                
                const achievementText = document.createElement('div');
                const coinsRequired = 100000 + (i-1) * 1000000;
                achievementText.textContent = achievements[i] ? `Ù…Ø¯Ø§Ù„ ${i}` : `${coinsRequired.toLocaleString()} Ø³Ú©Ù‡`;
                
                achievementItem.appendChild(achievementIcon);
                achievementItem.appendChild(achievementText);
                achievementGrid.appendChild(achievementItem);
            }
            
            achievementsModal.classList.remove('hidden');
        } catch (error) {
            console.log('Ø®Ø·Ø§ Ø¯Ø± Ù†Ù…Ø§ÛŒØ´ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§:', error);
            alert('Ø®Ø·Ø§ Ø¯Ø± Ù†Ù…Ø§ÛŒØ´ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§');
        }
    }
    
    function closeAchievements() {
        document.getElementById('achievementsModal').classList.add('hidden');
    }
    
    function showInstructions() {
        document.getElementById('instructionsModal').classList.remove('hidden');
    }
    
    function closeInstructions() {
        document.getElementById('instructionsModal').classList.add('hidden');
    }

    function showManagement() {
        document.getElementById('managementModal').classList.remove('hidden');
    }

    function closeManagement() {
        document.getElementById('managementModal').classList.add('hidden');
    }
    
    function checkAchievements() {
        try {
            const achievements = JSON.parse(localStorage.getItem('achievements')) || {};
            
            if (currentLevel > 0 && !achievements[currentLevel]) {
                achievements[currentLevel] = { achieved: true, date: new Date().toLocaleDateString('fa-IR') };
            }
            
            const scoreMilestones = [100, 500, 1000, 2000, 5000];
            scoreMilestones.forEach(milestone => {
                if (score >= milestone && !achievements[`score_${milestone}`]) {
                    achievements[`score_${milestone}`] = { achieved: true, date: new Date().toLocaleDateString('fa-IR') };
                }
            });
            
            localStorage.setItem('achievements', JSON.stringify(achievements));
        } catch (error) {
            console.log('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø¯Ø§Ù„â€ŒÙ‡Ø§:', error);
        }
    }
    
    function showFuelMessage(message) {
        const fuelIndicator = document.querySelector('.fuel-indicator');
        const originalText = fuelIndicator.textContent;
        
        fuelIndicator.textContent = message;
        fuelIndicator.style.background = 'linear-gradient(45deg, #00ff88, #00ccff)';
        
        setTimeout(() => {
            fuelIndicator.textContent = originalText;
            fuelIndicator.style.background = 'rgba(0, 0, 0, 0.7)';
        }, 3000);
    }

    // Ù„ÙˆØ¯ÛŒÙ†Ú¯ Ù¾ÛŒØ´Ø±ÙØªÙ‡
    function createLoadingParticles() {
        const particlesContainer = document.getElementById('loadingParticles');
        particlesContainer.innerHTML = '';
        
        for (let i = 0; i < 30; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 3 + 's';
            particle.style.animationDuration = (2 + Math.random() * 2) + 's';
            particlesContainer.appendChild(particle);
        }
    }

    async function showAdvancedLoading() {
        return new Promise(resolve => {
            loadingScreen.classList.remove('hidden');
            createLoadingParticles();
            
            const stages = [
                { title: 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¬Ù‡Ø§Ù† Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª', text: 'Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù‡Ú©Ø´Ø§Ù†...', duration: 800 },
                { title: 'Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡', text: 'ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ù…ÙˆØªÙˆØ±Ù‡Ø§ÛŒ Ú¯Ø±Ø§ÙÛŒÚ©ÛŒ...', duration: 600 },
                { title: 'Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù†Ù‡Ø§ÛŒÛŒ', text: 'Ø¨Ø±Ø±Ø³ÛŒ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ...', duration: 400 }
            ];
            
            let currentStage = 0;
            let totalProgress = 0;
            
            function updateStage() {
                if (currentStage >= stages.length) {
                    progressBar.style.width = '100%';
                    stageTitle.textContent = 'Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ!';
                    loadingText.textContent = 'Ø¯Ù†ÛŒØ§ÛŒ Ú©Ù‡Ú©Ø´Ø§Ù†ÛŒ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ø´Ù…Ø§Ø³Øª...';
                    
                    setTimeout(() => {
                        loadingScreen.classList.add('hidden');
                        resolve();
                    }, 1000);
                    return;
                }
                
                const stage = stages[currentStage];
                stageTitle.textContent = stage.title;
                loadingText.textContent = stage.text;
                
                const startProgress = totalProgress;
                const endProgress = startProgress + (100 / stages.length);
                
                const startTime = Date.now();
                
                function animateProgress() {
                    const elapsed = Date.now() - startTime;
                    const progress = Math.min(elapsed / stage.duration, 1);
                    totalProgress = startProgress + progress * (endProgress - startProgress);
                    progressBar.style.width = totalProgress + '%';
                    
                    if (progress < 1) {
                        requestAnimationFrame(animateProgress);
                    } else {
                        currentStage++;
                        updateStage();
                    }
                }
                
                animateProgress();
            }
            
            updateStage();
        });
    }

    // ØªÙ†Ø¸ÛŒÙ… Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø¨Ø§Ø²ÛŒ
    function setupGame() {
        gameScreen.style.width = window.innerWidth + 'px';
        gameScreen.style.height = window.innerHeight + 'px';
    }

    // ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ
    function setupTouchControls() {
        try {
            const joystickRect = joystick.getBoundingClientRect();
            joystickBaseX = joystickRect.left + joystickRect.width / 2;
            joystickBaseY = joystickRect.top + joystickRect.height / 2;
            
            joystick.addEventListener('touchstart', handleTouchStart);
            document.addEventListener('touchmove', handleTouchMove);
            document.addEventListener('touchend', handleTouchEnd);
            
            turretContainer.addEventListener('touchstart', handleTurretTouchStart);
            document.addEventListener('touchmove', handleTurretTouchMove);
            document.addEventListener('touchend', handleTurretTouchEnd);
        } catch (error) {
            console.log('Ø®Ø·Ø§ Ø¯Ø± ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ØªØ±Ù„ Ù„Ù…Ø³ÛŒ:', error);
        }
    }
    
    function handleTouchStart(e) {
        e.preventDefault();
        isTouching = true;
        const touch = e.touches[0];
        touchStartX = touch.clientX;
        touchStartY = touch.clientY;
    }
    
    function handleTouchMove(e) {
        if (!isTouching || !gameRunning) return;
        e.preventDefault();
        
        const touch = e.touches[0];
        const deltaX = touch.clientX - joystickBaseX;
        const deltaY = touch.clientY - joystickBaseY;
        
        const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
        const angle = Math.atan2(deltaY, deltaX);
        
        const limitedDistance = Math.min(distance, joystickRadius);
        
        const newX = limitedDistance * Math.cos(angle);
        const newY = limitedDistance * Math.sin(angle);
        
        joystickHandle.style.transform = `translate(${newX}px, ${newY}px)`;
        
        if (distance > 10) {
            const speed = 12 * player.speed;
            player.x += Math.cos(angle) * speed;
            player.y += Math.sin(angle) * speed;
            
            player.x = Math.max(player.size/2, Math.min(12000 - player.size/2, player.x));
            player.y = Math.max(player.size/2, Math.min(12000 - player.size/2, player.y));
            
            updatePlayerPosition();
            updateCamera();
        }
    }
    
    function handleTouchEnd(e) {
        isTouching = false;
        joystickHandle.style.transform = 'translate(0, 0)';
    }

    function handleTurretTouchStart(e) {
        e.preventDefault();
        isTurretTouching = true;
        turret.classList.add('active');
        shootFromTurret();
    }
    
    function handleTurretTouchMove(e) {
        if (!isTurretTouching || !gameRunning) return;
        e.preventDefault();
        
        const touch = e.touches[0];
        const turretRect = turretContainer.getBoundingClientRect();
        const turretCenterX = turretRect.left + turretRect.width / 2;
        const turretCenterY = turretRect.top + turretRect.height / 2;
        
        const deltaX = touch.clientX - turretCenterX;
        const deltaY = touch.clientY - turretCenterY;
        
        turretAngle = Math.atan2(deltaY, deltaX);
        turretBarrel.style.transform = `rotate(${turretAngle}rad)`;
    }
    
    function handleTurretTouchEnd(e) {
        isTurretTouching = false;
        turret.classList.remove('active');
    }

    function shootFromTurret() {
        if (!gameRunning) return;
        
        const bullet = document.createElement('div');
        bullet.className = 'bullet';
        
        const turretRect = turretContainer.getBoundingClientRect();
        const startX = turretRect.left + turretRect.width / 2;
        const startY = turretRect.top;
        
        const cameraContainer = document.getElementById('cameraContainer');
        const rect = cameraContainer.getBoundingClientRect();
        
        const gameX = startX - rect.left;
        const gameY = startY - rect.top;
        
        bullet.style.left = gameX + 'px';
        bullet.style.top = gameY + 'px';
        
        gameElements.appendChild(bullet);
        
        bullets.push({
            element: bullet,
            x: gameX,
            y: gameY,
            angle: turretAngle,
            speed: 15
        });
    }

    function showLevelLoading(callback) {
        loadingScreen.classList.remove('hidden');
        loadingText.textContent = `Ø¯Ø± Ø­Ø§Ù„ Ø±ÙØªÙ† Ø¨Ù‡ Ù…Ø±Ø­Ù„Ù‡ ${currentLevel + 1}...`;
        
        const colors = ['#ff0000', '#ff9900', '#ffff00', '#00ff00', '#00ffff', '#0000ff', '#ff00ff'];
        let colorIndex = 0;
        
        const colorInterval = setInterval(() => {
            loadingScreen.style.background = `linear-gradient(45deg, #000428, ${colors[colorIndex]}, #000428)`;
            colorIndex = (colorIndex + 1) % colors.length;
        }, 200);
        
        setTimeout(() => {
            clearInterval(colorInterval);
            loadingScreen.classList.add('hidden');
            callback();
        }, 2000);
    }

    // Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
    async function startGame() {
        try {
            await showAdvancedLoading();
            
            mainScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            fuelIndicator.classList.remove('hidden');
            bombButton.classList.remove('hidden');
            bombTimer.classList.remove('hidden');
            miniMap.classList.remove('hidden');
            turretContainer.classList.remove('hidden');
            powerButtons.classList.remove('hidden');
            
            if (window.innerWidth <= 480) {
                touchControls.classList.remove('hidden');
                setupTouchControls();
            }
            
            setupGame();
            
            playerIndicator.classList.remove('hidden');
            setTimeout(() => {
                playerIndicator.classList.add('hidden');
            }, 3000);
            
            createPlayer();
            createBackgroundStars();
            createBackgroundPlanets();
            createGuidelines();
            
            score = 0;
            coinsCollected = 0;
            currentLevel = parseInt(localStorage.getItem('highLevel')) || 1;
            bombCooldown = 0;
            bombAvailable = true;
            safeTime = 0;
            isSafeTime = false;
            playerPath = [];
            player.fuel = 100;
            player.health = 100;
            player.speed = 1;
            fuelConsumption = 0;
            bombButton.disabled = false;
            safeTimeIndicator.classList.add('hidden');
            rainbowShieldActive = false;
            rainbowShieldTime = 0;
            lastEnergySpawn = 0;
            lastEnemyShoot = 0;
            combo = 0;
            lastComboTime = 0;
            speedBoostActive = false;
            freezeActive = false;
            magnetActive = false;
            powerupCooldowns = { speed: 0, freeze: 0, magnet: 0 };
            
            // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø§Ø³
            isBossLevel = currentLevel % 10 === 0;
            
            updateFuel();
            createCoins();
            
            if (isBossLevel) {
                createBoss();
            } else {
                createEnemyGroups();
            }
            
            gameRunning = true;
            lastFrameTime = performance.now();
            gameLoop();
            
            console.log("Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø´Ø±ÙˆØ¹ Ø´Ø¯!");
        } catch (error) {
            console.error("Ø®Ø·Ø§ Ø¯Ø± Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ:", error);
            alert("Ø®Ø·Ø§ Ø¯Ø± Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ. Ù„Ø·ÙØ§Ù‹ ØµÙØ­Ù‡ Ø±Ø§ Ø±ÙØ±Ø´ Ú©Ù†ÛŒØ¯.");
        }
    }

    function createPlayer() {
        if (playerElement) {
            playerElement.remove();
        }
        
        playerElement = document.createElement('div');
        playerElement.className = 'player pulse';
        playerElement.innerHTML = 'ğŸ›¸';
        playerElement.style.position = 'absolute';
        
        const healthBar = document.createElement('div');
        healthBar.className = 'health-bar';
        const healthFill = document.createElement('div');
        healthFill.className = 'health-fill';
        healthFill.style.width = '100%';
        healthBar.appendChild(healthFill);
        
        playerElement.appendChild(healthBar);
        
        player.rotation = 0;
        
        playerElement.style.left = (player.x - player.size/2) + 'px';
        playerElement.style.top = (player.y - player.size/2) + 'px';
        
        gameElements.appendChild(playerElement);
        updateCamera();
    }

    function createBackgroundStars() {
        document.querySelectorAll('.star').forEach(star => star.remove());
        stars = [];
        
        for (let i = 0; i < 200; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            
            const x = Math.random() * 12000;
            const y = Math.random() * 12000;
            
            star.style.left = x + 'px';
            star.style.top = y + 'px';
            star.style.animationDelay = Math.random() * 3 + 's';
            
            gameElements.appendChild(star);
            stars.push(star);
        }
    }

    function createBackgroundPlanets() {
        document.querySelectorAll('.background-planet').forEach(planet => planet.remove());
        backgroundPlanets = [];
        
        for (let i = 0; i < 50; i++) {
            const planet = document.createElement('div');
            planet.className = 'background-planet';
            planet.innerHTML = 'ğŸª';
            
            const x = Math.random() * 12000;
            const y = Math.random() * 12000;
            const size = 15 + Math.random() * 15;
            
            planet.style.left = x + 'px';
            planet.style.top = y + 'px';
            planet.style.fontSize = size + 'px';
            
            gameElements.appendChild(planet);
            backgroundPlanets.push({
                element: planet,
                x: x,
                y: y
            });
        }
    }

    function createGuidelines() {
        document.querySelectorAll('.guideline').forEach(line => line.remove());
        guidelines = [];
        
        for (let i = 0; i < 20; i++) {
            const line = document.createElement('div');
            line.className = 'guideline';
            
            const isHorizontal = Math.random() > 0.5;
            const position = Math.random() * 12000;
            
            if (isHorizontal) {
                line.style.width = '12000px';
                line.style.height = '2px';
                line.style.left = '0px';
                line.style.top = position + 'px';
            } else {
                line.style.width = '2px';
                line.style.height = '12000px';
                line.style.left = position + 'px';
                line.style.top = '0px';
            }
            
            gameElements.appendChild(line);
            guidelines.push(line);
        }
    }

    function createCoins() {
        document.querySelectorAll('.coin').forEach(coin => coin.remove());
        document.querySelectorAll('.coin-number').forEach(number => number.remove());
        coins = [];
        
        for (let i = 0; i < totalCoinsNeeded; i++) {
            createSingleCoin(i);
        }
    }

    function createSingleCoin(index) {
        const coinElement = document.createElement('div');
        const numberElement = document.createElement('div');
        numberElement.className = 'coin-number';
        
        const coinType = index % 3;
        let coinEmoji, hitsRequired, fontSize;
        
        switch(coinType) {
            case 0:
                coinEmoji = 'ğŸ›Ÿ';
                hitsRequired = currentLevel + 1;
                fontSize = '35px';
                coinElement.className = 'coin type1';
                break;
            case 1:
                coinEmoji = 'ğŸ§Š';
                hitsRequired = currentLevel + 2;
                fontSize = '40px';
                coinElement.className = 'coin type2';
                break;
            case 2:
                coinEmoji = 'ğŸ’';
                hitsRequired = currentLevel + 3;
                fontSize = '30px';
                coinElement.className = 'coin type3';
                break;
        }
        
        coinElement.innerHTML = coinEmoji;
        coinElement.style.fontSize = fontSize;
        coinElement.style.position = 'absolute';
        
        numberElement.textContent = hitsRequired;
        numberElement.style.position = 'absolute';
        
        const x = Math.random() * 11600 + 200;
        const y = Math.random() * 11600 + 200;
        
        coinElement.style.left = (x - 22) + 'px';
        coinElement.style.top = (y - 22) + 'px';
        numberElement.style.left = (x - 8) + 'px';
        numberElement.style.top = (y - 8) + 'px';
      gameElements.appendChild(coinElement);
            gameElements.appendChild(numberElement);
            
            coins.push({
                element: coinElement,
                numberElement: numberElement,
                x: x,
                y: y,
                collected: false,
                hitsNeeded: hitsRequired,
                currentHits: 0,
                type: coinType
            });
        }

        // Ø§ÛŒØ¬Ø§Ø¯ Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø´Ù…Ù†
        function createEnemyGroups() {
            document.querySelectorAll('.enemy').forEach(enemy => enemy.remove());
            enemies = [];
            enemyGroups = [];
            
            for (let groupIndex = 0; groupIndex < 10; groupIndex++) {
                const group = [];
                const startX = Math.random() * 10000 + 1000;
                const startY = Math.random() * 10000 + 1000;
                
                for (let i = 0; i < 10; i++) {
                    const enemy = createSingleEnemy(groupIndex * 10 + i, startX, startY, i);
                    group.push(enemy);
                    enemies.push(enemy);
                }
                
                enemyGroups.push({
                    enemies: group,
                    targetX: Math.random() * 10000 + 1000,
                    targetY: Math.random() * 10000 + 1000,
                    movementPattern: Math.floor(Math.random() * 3),
                    patternProgress: 0
                });
            }
        }

        function createSingleEnemy(index, startX, startY, positionInGroup) {
            const enemyElement = document.createElement('div');
            enemyElement.style.position = 'absolute';
            
            const enemyType = index % 2;
            let enemyEmoji, enemyClass, speed, health;
            
            if (enemyType === 0) {
                enemyEmoji = 'ğŸŒ‹';
                enemyClass = 'enemy type1';
                speed = 1 + currentLevel * 0.1 + Math.random() * 0.3;
                health = 2 + currentLevel;
            } else {
                enemyEmoji = 'â˜„ï¸';
                enemyClass = 'enemy type2';
                speed = 1.5 + currentLevel * 0.15 + Math.random() * 0.4;
                health = 1 + currentLevel;
            }
            
            enemyElement.className = enemyClass;
            enemyElement.innerHTML = enemyEmoji;
            
            const healthBar = document.createElement('div');
            healthBar.className = 'enemy-health-bar';
            const healthFill = document.createElement('div');
            healthFill.className = 'enemy-health-fill';
            healthFill.style.width = '100%';
            healthBar.appendChild(healthFill);
            
            enemyElement.appendChild(healthBar);
            
            const x = startX + (positionInGroup % 5) * 80;
            const y = startY + Math.floor(positionInGroup / 5) * 80;
            
            enemyElement.style.left = x + 'px';
            enemyElement.style.top = y + 'px';
            
            gameElements.appendChild(enemyElement);
            
            return {
                element: enemyElement,
                healthBar: healthFill,
                x: x,
                y: y,
                startX: startX,
                startY: startY,
                positionInGroup: positionInGroup,
                speed: freezeActive ? 0 : speed,
                type: enemyType,
                health: health,
                maxHealth: health,
                attackCooldown: 0,
                state: 'group'
            };
        }

        // Ø§ÛŒØ¬Ø§Ø¯ Ø¨Ø§Ø³
        function createBoss() {
            bossHealthBar.classList.remove('hidden');
            bossName.classList.remove('hidden');
            bossName.textContent = `ğŸ‘¾ Ø¨Ø§Ø³ Ù…Ø±Ø­Ù„Ù‡ ${currentLevel} ğŸ‘¾`;
            
            const bossElement = document.createElement('div');
            bossElement.className = 'enemy boss';
            bossElement.innerHTML = 'ğŸ‘¹';
            bossElement.style.position = 'absolute';
            
            const x = 6000;
            const y = 3000;
            
            bossElement.style.left = x + 'px';
            bossElement.style.top = y + 'px';
            
            gameElements.appendChild(bossElement);
            
            boss = {
                element: bossElement,
                x: x,
                y: y,
                health: 100 + currentLevel * 50,
                maxHealth: 100 + currentLevel * 50,
                speed: 2,
                attackCooldown: 0,
                attackPattern: 0,
                state: 'active'
            };
            
            updateBossHealth();
        }

        function updateBossHealth() {
            if (!boss) return;
            const healthPercent = (boss.health / boss.maxHealth) * 100;
            bossHealthFill.style.width = healthPercent + '%';
        }

        // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù†Ø±Ú˜ÛŒ
        function createEnergyItem() {
            const energyElement = document.createElement('div');
            energyElement.style.position = 'absolute';
            energyElement.style.fontSize = '40px';
            energyElement.style.color = '#00ff88';
            energyElement.style.filter = 'drop-shadow(0 0 10px #00ff88) drop-shadow(0 0 20px #00ff88)';
            energyElement.innerHTML = 'âš¡ï¸';
            
            const x = Math.random() * 11600 + 200;
            const y = Math.random() * 11600 + 200;
            
            energyElement.style.left = (x - 20) + 'px';
            energyElement.style.top = (y - 20) + 'px';
            
            gameElements.appendChild(energyElement);
            
            energyItems.push({
                element: energyElement,
                x: x,
                y: y,
                collected: false
            });
            
            lastEnergySpawn = performance.now();
        }

        // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø§ÙˆØ± Ø¢Ù¾
        function createPowerup() {
            const powerupElement = document.createElement('div');
            powerupElement.className = 'powerup';
            
            const types = ['âš¡', 'â„ï¸', 'ğŸ§²'];
            const powerupType = Math.floor(Math.random() * 3);
            
            powerupElement.innerHTML = types[powerupType];
            powerupElement.style.position = 'absolute';
            
            const x = Math.random() * 11600 + 200;
            const y = Math.random() * 11600 + 200;
            
            powerupElement.style.left = (x - 20) + 'px';
            powerupElement.style.top = (y - 20) + 'px';
            
            gameElements.appendChild(powerupElement);
            
            powerups.push({
                element: powerupElement,
                x: x,
                y: y,
                type: powerupType,
                collected: false
            });
        }

        // ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ù‚Ø¯Ø±Øªâ€ŒÙ‡Ø§
        function activateSpeed() {
            if (powerupCooldowns.speed > 0) return;
            
            speedBoostActive = true;
            player.speed = 2;
            powerupCooldowns.speed = 1800; // 30 Ø«Ø§Ù†ÛŒÙ‡
            
            setTimeout(() => {
                speedBoostActive = false;
                player.speed = 1;
            }, 600); // 10 Ø«Ø§Ù†ÛŒÙ‡
            
            showFloatingText(player.x, player.y, 'âš¡ Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§!', '#00ff88');
        }

        function activateFreeze() {
            if (powerupCooldowns.freeze > 0) return;
            
            freezeActive = true;
            powerupCooldowns.freeze = 1800;
            
            enemies.forEach(enemy => {
                enemy.frozenSpeed = enemy.speed;
                enemy.speed = 0;
            });
            
            setTimeout(() => {
                freezeActive = false;
                enemies.forEach(enemy => {
                    if (enemy.frozenSpeed !== undefined) {
                        enemy.speed = enemy.frozenSpeed;
                    }
                });
            }, 600);
            
            showFloatingText(player.x, player.y, 'â„ï¸ Ø¯Ø´Ù…Ù†Ø§Ù† ÙØ±ÛŒØ² Ø´Ø¯Ù†Ø¯!', '#00ccff');
        }

        function activateMagnet() {
            if (powerupCooldowns.magnet > 0) return;
            
            magnetActive = true;
            powerupCooldowns.magnet = 1800;
            
            setTimeout(() => {
                magnetActive = false;
            }, 600);
            
            showFloatingText(player.x, player.y, 'ğŸ§² Ù…Ú¯Ù†Øª ÙØ¹Ø§Ù„!', '#ff00ff');
        }

        // Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ±Ø¨ÛŒÙ† Ù¾ÙˆÛŒØ§ Ùˆ Ø±ÙˆØ§Ù†
        function updateCamera() {
            if (!player || !gameRunning) return;
            
            const cameraContainer = document.getElementById('cameraContainer');
            const worldWidth = 12000;
            const worldHeight = 12000;
            
            const targetCameraX = -player.x + (window.innerWidth / 2);
            const targetCameraY = -player.y + (window.innerHeight / 2);
            
            cameraX += (targetCameraX - cameraX) * 0.1;
            cameraY += (targetCameraY - cameraY) * 0.1;
            
            const maxX = 0;
            const minX = -(worldWidth - window.innerWidth);
            const maxY = 0;
            const minY = -(worldHeight - window.innerHeight);
            
            const limitedX = Math.max(minX, Math.min(maxX, cameraX));
            const limitedY = Math.max(minY, Math.min(maxY, cameraY));
            
            cameraContainer.style.transform = `translate(${limitedX}px, ${limitedY}px)`;
        }

        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ù‚Ø´Ù‡
        function updateMiniMap() {
            const mapView = document.getElementById('mapView');
            if (!mapView) return;
            
            mapView.innerHTML = '';
            
            const mapPlayer = document.createElement('div');
            mapPlayer.className = 'map-player';
            mapPlayer.style.left = (player.x / 12000 * 100) + '%';
            mapPlayer.style.top = (player.y / 12000 * 100) + '%';
            mapView.appendChild(mapPlayer);
            
            coins.forEach(coin => {
                if (!coin.collected) {
                    const mapCoin = document.createElement('div');
                    mapCoin.className = 'map-coin';
                    mapCoin.style.left = (coin.x / 12000 * 100) + '%';
                    mapCoin.style.top = (coin.y / 12000 * 100) + '%';
                    mapView.appendChild(mapCoin);
                }
            });
            
            if (isBossLevel && boss && boss.state === 'active') {
                const mapBoss = document.createElement('div');
                mapBoss.className = 'map-boss';
                mapBoss.style.left = (boss.x / 12000 * 100) + '%';
                mapBoss.style.top = (boss.y / 12000 * 100) + '%';
                mapView.appendChild(mapBoss);
            } else {
                enemies.forEach(enemy => {
                    if (enemy.state !== 'destroyed') {
                        const mapEnemy = document.createElement('div');
                        mapEnemy.className = 'map-enemy';
                        mapEnemy.style.left = (enemy.x / 12000 * 100) + '%';
                        mapEnemy.style.top = (enemy.y / 12000 * 100) + '%';
                        mapView.appendChild(mapEnemy);
                    }
                });
            }
        }

        // Ø­Ù„Ù‚Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ
        function gameLoop(currentTime) {
            if (!gameRunning) return;
            
            const deltaTime = currentTime - lastFrameTime;
            if (deltaTime < 16) {
                requestAnimationFrame(gameLoop);
                return;
            }
            lastFrameTime = currentTime;
            
            playerPath.push({ x: player.x, y: player.y });
            if (playerPath.length > 30) {
                playerPath.shift();
            }
            
            updateBombTimer();
            updateSafeTime();
            updateFuelConsumption();
            updateRainbowShield();
            updateEnergySpawn();
            updatePowerupSpawn();
            updatePowerupCooldowns();
            updateCombo();
            
            if (!isSafeTime) {
                if (isBossLevel && boss) {
                    updateBoss();
                } else {
                    updateEnemyGroups();
                    updateEnemyShooting();
                }
            }
            
            updateBullets();
            updateEnemyBullets();
            updateCoinTrail();
            checkCollisions();
            updateMagnetEffect();
            updateCamera();
            updateMiniMap();
            
            requestAnimationFrame(gameLoop);
        }

        function updateBombTimer() {
            if (bombCooldown > 0) {
                bombCooldown--;
                bombTimer.textContent = `Ø¨Ù…Ø¨: ${Math.ceil(bombCooldown/60)}s`;
                bombButton.disabled = true;
            } else {
                bombTimer.textContent = `Ø¨Ù…Ø¨: Ø¢Ù…Ø§Ø¯Ù‡!`;
                bombButton.disabled = false;
                bombAvailable = true;
            }
        }

        function updateSafeTime() {
            if (isSafeTime && safeTime > 0) {
                safeTime--;
                safeTimeIndicator.textContent = `Ø²Ù…Ø§Ù† Ø§Ù…Ù†: ${Math.ceil(safeTime/60)}s`;
                
                if (safeTime <= 0) {
                    isSafeTime = false;
                    safeTimeIndicator.classList.add('hidden');
                }
            }
        }

        function updateRainbowShield() {
            if (rainbowShieldActive) {
                rainbowShieldTime--;
                
                const shield = document.querySelector('.rainbow-shield');
                if (shield) {
                    shield.style.left = (player.x - 100) + 'px';
                    shield.style.top = (player.y - 100) + 'px';
                }
                
                if (rainbowShieldTime <= 0) {
                    rainbowShieldActive = false;
                    document.querySelectorAll('.rainbow-shield').forEach(shield => shield.remove());
                }
            } else {
                if (Math.random() < 0.001) {
                    activateRainbowShield();
                }
            }
        }

        function activateRainbowShield() {
            rainbowShieldActive = true;
            rainbowShieldTime = 600;
            
            const shield = document.createElement('div');
            shield.className = 'rainbow-shield';
            shield.style.left = (player.x - 100) + 'px';
            shield.style.top = (player.y - 100) + 'px';
            
            gameElements.appendChild(shield);
            
            showFloatingText(player.x, player.y, 'ğŸ›¡ï¸ Ù…Ø­Ø§ÙØ¸ Ø±Ù†Ú¯ÛŒÙ†â€ŒÚ©Ù…Ø§Ù†!', '#ff00ff');
        }

        function updateEnergySpawn() {
            if (performance.now() - lastEnergySpawn > 20000) {
                createEnergyItem();
            }
        }

        function updatePowerupSpawn() {
            if (Math.random() < 0.0005) {
                createPowerup();
            }
        }

        function updatePowerupCooldowns() {
            if (powerupCooldowns.speed > 0) powerupCooldowns.speed--;
            if (powerupCooldowns.freeze > 0) powerupCooldowns.freeze--;
            if (powerupCooldowns.magnet > 0) powerupCooldowns.magnet--;
        }

        function updateCombo() {
            if (performance.now() - lastComboTime > 3000) {
                combo = 0;
            }
        }

        function updateEnemyShooting() {
            if (performance.now() - lastEnemyShoot > enemyShootCooldown) {
                shootFromEnemies();
                lastEnemyShoot = performance.now();
                createAttackGuidelines();
            }
        }

        function createAttackGuidelines() {
            for (let i = 0; i < 5; i++) {
                const guideline = document.createElement('div');
                guideline.className = 'guideline';
                guideline.style.background = 'linear-gradient(90deg, transparent, #ff4444, transparent)';
                guideline.style.opacity = '0.7';
                guideline.style.zIndex = '2';
                
                const angle = (i / 5) * Math.PI * 2;
                const length = 1000;
                
                const startX = player.x;
                const startY = player.y;
                const endX = startX + Math.cos(angle) * length;
                const endY = startY + Math.sin(angle) * length;
                
                const dx = endX - startX;
                const dy = endY - startY;
                const lineLength = Math.sqrt(dx * dx + dy * dy);
                const lineAngle = Math.atan2(dy, dx);
                
                guideline.style.width = lineLength + 'px';
                guideline.style.height = '3px';
                guideline.style.left = startX + 'px';
                guideline.style.top = startY + 'px';
                guideline.style.transform = `rotate(${lineAngle}rad)`;
                guideline.style.transformOrigin = '0 0';
                
                gameElements.appendChild(guideline);
                
                setTimeout(() => {
                    guideline.remove();
                }, 4000);
            }
        }

        function shootFromEnemies() {
            const shootingEnemies = enemies
                .filter(enemy => enemy.state !== 'destroyed')
                .sort(() => 0.5 - Math.random())
                .slice(0, 5);
            
            shootingEnemies.forEach(enemy => {
                const bullet = document.createElement('div');
                bullet.className = 'enemy-bullet';
                
                bullet.style.left = enemy.x + 'px';
                bullet.style.top = enemy.y + 'px';
                
                gameElements.appendChild(bullet);
                
                const dx = player.x - enemy.x;
                const dy = player.y - enemy.y;
                const angle = Math.atan2(dy, dx);
                
                enemyBullets.push({
                    element: bullet,
                    x: enemy.x,
                    y: enemy.y,
                    angle: angle,
                    speed: 8
                });
            });
        }

        function updateBoss() {
            if (!boss || boss.state !== 'active') return;
            
            const dx = player.x - boss.x;
            const dy = player.y - boss.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            if (distance > 100) {
                boss.x += (dx / distance) * boss.speed;
                boss.y += (dy / distance) * boss.speed;
            }
            
            boss.element.style.left = boss.x + 'px';
            boss.element.style.top = boss.y + 'px';
            
            boss.attackCooldown++;
            if (boss.attackCooldown > 60) {
                boss.attackCooldown = 0;
                shootFromBoss();
            }
        }

        function shootFromBoss() {
            if (!boss) return;
            
            for (let i = 0; i < 8; i++) {
                const bullet = document.createElement('div');
                bullet.className = 'boss-bullet';
                
                bullet.style.left = boss.x + 'px';
                bullet.style.top = boss.y + 'px';
                
                gameElements.appendChild(bullet);
                
                const angle = (i / 8) * Math.PI * 2;
                
                enemyBullets.push({
                    element: bullet,
                    x: boss.x,
                    y: boss.y,
                    angle: angle,
                    speed: 10,
                    isBoss: true
                });
            }
        }

        function updateFuelConsumption() {
            fuelConsumption++;
            if (fuelConsumption >= 60) {
                fuelConsumption = 0;
                player.fuel = Math.max(0, player.fuel - 0.5);
                updateFuel();
                
                if (player.fuel <= 0) {
                    gameOver();
                }
            }
        }

        function updateFuel() {
            fuelIndicator.textContent = `â›½ Ø³ÙˆØ®Øª: ${Math.round(player.fuel)}%`;
            
            if (player.fuel < 20) {
                fuelIndicator.style.background = 'linear-gradient(45deg, #ff4444, #cc0000)';
            } else if (player.fuel < 50) {
                fuelIndicator.style.background = 'linear-gradient(45deg, #ffaa00, #ff5500)';
            } else {
                fuelIndicator.style.background = 'rgba(0, 0, 0, 0.7)';
            }
        }

        function updateEnemyGroups() {
            enemyGroups.forEach(group => {
                group.patternProgress += 0.01;
                
                let targetX, targetY;
                
                switch (group.movementPattern) {
                    case 0:
                        targetX = group.targetX + Math.cos(group.patternProgress) * 500;
                        targetY = group.targetY + Math.sin(group.patternProgress) * 500;
                        break;
                    case 1:
                        targetX = group.targetX + Math.cos(group.patternProgress) * 300;
                        targetY = group.targetY + Math.sin(group.patternProgress) * 300;
                        break;
                    case 2:
                        const spiralRadius = 100 + group.patternProgress * 50;
                        targetX = group.targetX + Math.cos(group.patternProgress) * spiralRadius;
                        targetY = group.targetY + Math.sin(group.patternProgress) * spiralRadius;
                        break;
                }
                
                group.enemies.forEach((enemy, index) => {
                    if (enemy.state === 'destroyed') return;
                    
                    const groupX = targetX + (index % 5) * 80;
                    const groupY = targetY + Math.floor(index / 5) * 80;
                    
                    const dx = groupX - enemy.x;
                    const dy = groupY - enemy.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance > 0) {
                        enemy.x += (dx / distance) * enemy.speed;
                        enemy.y += (dy / distance) * enemy.speed;
                    }
                    
                    enemy.element.style.left = enemy.x + 'px';
                    enemy.element.style.top = enemy.y + 'px';
                    
                    enemy.healthBar.style.width = `${(enemy.health / enemy.maxHealth) * 100}%`;
                });
                
                if (Math.random() < 0.005) {
                    group.targetX = Math.random() * 10000 + 1000;
                    group.targetY = Math.random() * 10000 + 1000;
                }
            });
        }

        function updateBullets() {
            bullets.forEach((bullet, index) => {
                bullet.x += Math.cos(bullet.angle) * bullet.speed;
                bullet.y += Math.sin(bullet.angle) * bullet.speed;
                
                bullet.element.style.left = bullet.x + 'px';
                bullet.element.style.top = bullet.y + 'px';
                
                if (bullet.x < 0 || bullet.x > 12000 || bullet.y < 0 || bullet.y > 12000) {
                    bullet.element.remove();
                    bullets.splice(index, 1);
                    return;
                }
                
                if (isBossLevel && boss && boss.state === 'active') {
                    const distance = Math.sqrt(
                        Math.pow(bullet.x - boss.x, 2) + 
                        Math.pow(bullet.y - boss.y, 2)
                    );
                    
                    if (distance < 50) {
                        boss.health -= 5;
                        updateBossHealth();
                        
                        createHitEffect(boss.x, boss.y);
                        bullet.element.remove();
                        bullets.splice(index, 1);
                        
                        if (boss.health <= 0) {
                            boss.state = 'destroyed';
                            createBossDestructionEffect();
                            score += 1000 * currentLevel;
                            completeLevel();
                        }
                    }
                } else {
                    enemies.forEach((enemy, enemyIndex) => {
                        if (enemy.state === 'destroyed') return;
                        
                        const distance = Math.sqrt(
                            Math.pow(bullet.x - enemy.x, 2) + 
                            Math.pow(bullet.y - enemy.y, 2)
                        );
                        
                        if (distance < 30) {
                            enemy.health--;
                            
                            createHitEffect(enemy.x, enemy.y);
                            bullet.element.remove();
                            bullets.splice(index, 1);
                            
                            if (enemy.health <= 0) {
                                enemy.state = 'destroyed';
                                createDestructionEffect(enemy.x, enemy.y);
                                enemy.element.remove();
                                
                                if (enemies.filter(e => e.state !== 'destroyed').length < 100) {
                                    setTimeout(() => {
                                        createReplacementEnemy(enemyIndex);
                                    }, 1000);
                                }
                            }
                        }
                    });
                }
            });
        }

        function updateEnemyBullets() {
            enemyBullets.forEach((bullet, index) => {
                bullet.x += Math.cos(bullet.angle) * bullet.speed;
                bullet.y += Math.sin(bullet.angle) * bullet.speed;
                
                bullet.element.style.left = bullet.x + 'px';
                bullet.element.style.top = bullet.y + 'px';
                
                if (bullet.x < 0 || bullet.x > 12000 || bullet.y < 0 || bullet.y > 12000) {
                    bullet.element.remove();
                    enemyBullets.splice(index, 1);
                    return;
                }
                
                if (!rainbowShieldActive) {
                    const distance = Math.sqrt(
                        Math.pow(bullet.x - player.x, 2) + 
                        Math.pow(bullet.y - player.y, 2)
                    );
                    
                    if (distance < 50) {
                        const damage = bullet.isBoss ? 20 : 10;
                        player.health -= damage;
                        updatePlayerHealth();
                        createAttackEffect(bullet.x, bullet.y);
                        
                        bullet.element.remove();
                        enemyBullets.splice(index, 1);
                    }
                }
            });
        }

        function createBossDestructionEffect() {
            bossHealthBar.classList.add('hidden');
            bossName.classList.add('hidden');
            
            if (boss && boss.element) {
                boss.element.remove();
            }
            
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const effect = document.createElement('div');
                    effect.style.position = 'absolute';
                    effect.style.left = (boss.x + Math.random() * 100 - 50) + 'px';
                    effect.style.top = (boss.y + Math.random() * 100 - 50) + 'px';
                    effect.style.fontSize = '40px';
                    effect.style.color = '#ff0000';
                    effect.style.opacity = '1';
                    effect.style.transition = 'all 1s';
                    effect.style.zIndex = '7';
                    effect.innerHTML = 'ğŸ’¥';
                    effect.style.transform = 'scale(1)';
                    
                    gameElements.appendChild(effect);
                    
                    setTimeout(() => {
                        effect.style.transform = 'scale(2)';
                        effect.style.opacity = '0';
                        
                        setTimeout(() => {
                            effect.remove();
                        }, 1000);
                    }, 10);
                }, i * 100);
            }
        }

        function createDestructionEffect(x, y) {
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const effect = document.createElement('div');
                    effect.style.position = 'absolute';
                    effect.style.left = (x + Math.random() * 40 - 20) + 'px';
                    effect.style.top = (y + Math.random() * 40 - 20) + 'px';
                    effect.style.fontSize = '20px';
                    effect.style.color = '#ffaa00';
                    effect.style.opacity = '1';
                    effect.style.transition = 'all 0.5s';
                    effect.style.zIndex = '5';
                    effect.innerHTML = 'âœ¨';
                    effect.style.transform = 'scale(1)';
                    
                    gameElements.appendChild(effect);
                    
                    setTimeout(() => {
                        effect.style.transform = 'scale(1.5)';
                        effect.style.opacity = '0';
                        
                        setTimeout(() => {
                            effect.remove();
                        }, 500);
                    }, 10);
                }, i * 100);
            }
        }

        function createReplacementEnemy(index) {
            let targetGroup = null;
            for (const group of enemyGroups) {
                const activeEnemies = group.enemies.filter(e => e.state !== 'destroyed');
                if (activeEnemies.length < 10) {
                    targetGroup = group;
                    break;
                }
            }
            
            if (!targetGroup) return;
            
            const positionInGroup = targetGroup.enemies.findIndex(e => e.state === 'destroyed');
            if (positionInGroup === -1) return;
            
            const newEnemy = createSingleEnemy(
                enemies.length,
                targetGroup.targetX,
                targetGroup.targetY,
                positionInGroup
            );
            
            enemies[index] = newEnemy;
            targetGroup.enemies[positionInGroup] = newEnemy;
        }

        function createAttackEffect(x, y) {
          const effect = document.createElement('div');
            effect.style.position = 'absolute';
            effect.style.left = x + 'px';
            effect.style.top = y + 'px';
            effect.style.fontSize = '25px';
            effect.style.color = '#ff4444';
            effect.style.opacity = '1';
            effect.style.transition = 'all 0.5s';
            effect.style.zIndex = '5';
            effect.innerHTML = 'ğŸ’¥';
            effect.style.transform = 'scale(1)';
            
            gameElements.appendChild(effect);
            
            setTimeout(() => {
                effect.style.transform = 'scale(1.5)';
                effect.style.opacity = '0';
                
                setTimeout(() => {
                    effect.remove();
                }, 500);
            }, 10);
        }

        function updatePlayerHealth() {
            const healthBar = playerElement.querySelector('.health-fill');
            if (healthBar) {
                healthBar.style.width = `${player.health}%`;
                
                if (player.health <= 0) {
                    restartCurrentLevel();
                }
            }
        }

        function useBomb() {
            if (!bombAvailable) return;
            
            bombAvailable = false;
            bombCooldown = 10 * 60;
            
            isSafeTime = true;
            safeTime = 5 * 60;
            safeTimeIndicator.classList.remove('hidden');
            
            if (isBossLevel && boss && boss.state === 'active') {
                boss.health -= 50;
                updateBossHealth();
                createHitEffect(boss.x, boss.y);
                
                if (boss.health <= 0) {
                    boss.state = 'destroyed';
                    createBossDestructionEffect();
                    score += 1000 * currentLevel;
                    completeLevel();
                }
            } else {
                enemies.forEach(enemy => {
                    if (enemy.state !== 'destroyed') {
                        const distance = Math.sqrt(
                            Math.pow(player.x - enemy.x, 2) + 
                            Math.pow(player.y - enemy.y, 2)
                        );
                        
                        if (distance < 500) {
                            enemy.state = 'destroyed';
                            createDestructionEffect(enemy.x, enemy.y);
                            enemy.element.remove();
                        }
                    }
                });
            }
            
            enemyBullets.forEach(bullet => {
                bullet.element.remove();
            });
            enemyBullets = [];
            
            showFloatingText(player.x, player.y, 'ğŸ’£ Ø¨Ù…Ø¨!', '#ff4444');
        }

        function updateCoinTrail() {
            document.querySelectorAll('.coin-trail').forEach(trail => trail.remove());
            
            const trailLength = Math.min(coinTrail.length, 10);
            
            for (let i = 0; i < trailLength; i++) {
                const trailElement = document.createElement('div');
                trailElement.className = 'coin-trail';
                trailElement.innerHTML = 'ğŸŒ€';
                trailElement.style.position = 'absolute';
                
                let targetIndex = Math.max(0, playerPath.length - (i + 1) * 3);
                if (targetIndex >= playerPath.length) targetIndex = playerPath.length - 1;
                
                const targetPos = playerPath[targetIndex];
                if (!targetPos) continue;
                
                const trailX = targetPos.x;
                const trailY = targetPos.y;
                
                trailElement.style.left = (trailX - 15) + 'px';
                trailElement.style.top = (trailY - 15) + 'px';
                trailElement.style.opacity = 1 - (i / trailLength) * 0.8;
                trailElement.style.transform = `scale(${1 - (i / trailLength) * 0.5})`;
                trailElement.style.zIndex = '2';
                
                gameElements.appendChild(trailElement);
            }
        }

        function updatePlayerPosition() {
            playerElement.style.left = (player.x - player.size/2) + 'px';
            playerElement.style.top = (player.y - player.size/2) + 'px';
            
            if (playerPath.length > 1) {
                const currentPos = playerPath[playerPath.length - 1];
                const prevPos = playerPath[playerPath.length - 2];
                const dx = currentPos.x - prevPos.x;
                const dy = currentPos.y - prevPos.y;
                player.rotation = Math.atan2(dy, dx) * 180 / Math.PI;
                playerElement.style.transform = `rotate(${player.rotation}deg)`;
            }
        }

        function updateMagnetEffect() {
            if (!magnetActive) return;
            
            coins.forEach(coin => {
                if (!coin.collected) {
                    const dx = player.x - coin.x;
                    const dy = player.y - coin.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < 300) {
                        coin.x += (dx / distance) * 5;
                        coin.y += (dy / distance) * 5;
                        
                        coin.element.style.left = (coin.x - 22) + 'px';
                        coin.element.style.top = (coin.y - 22) + 'px';
                        coin.numberElement.style.left = (coin.x - 8) + 'px';
                        coin.numberElement.style.top = (coin.y - 8) + 'px';
                    }
                }
            });
        }

        function checkCollisions() {
            // Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¨Ø§ Ø³Ú©Ù‡â€ŒÙ‡Ø§
            coins.forEach((coin, index) => {
                if (!coin.collected) {
                    const distance = Math.sqrt(
                        Math.pow(player.x - coin.x, 2) + 
                        Math.pow(player.y - coin.y, 2)
                    );
                    
                    if (distance < player.size/2 + 22) {
                        coin.currentHits++;
                        coin.numberElement.textContent = coin.hitsNeeded - coin.currentHits;
                        
                        createHitEffect(coin.x, coin.y);
                        
                        if (coin.currentHits >= coin.hitsNeeded) {
                            coin.collected = true;
                            coinsCollected++;
                            
                            // Ú©ÙˆÙ…Ø¨Ùˆ
                            combo++;
                            lastComboTime = performance.now();
                            
                            let points = 0;
                            switch(coin.type) {
                                case 0: points = 10 * currentLevel; break;
                                case 1: points = 15 * currentLevel; break;
                                case 2: points = 20 * currentLevel; break;
                            }
                            
                            if (combo > 1) {
                                points *= combo;
                                showCombo();
                            }
                            
                            score += points;
                            
                            player.fuel = Math.min(100, player.fuel + 10);
                            updateFuel();
                            
                            coin.element.style.display = 'none';
                            coin.numberElement.style.display = 'none';
                            
                            createCollectEffect(coin.x, coin.y, coin.type);
                            showFloatingText(coin.x, coin.y, `+${points}`, '#00ff88');
                            
                            coinTrail.push({
                                x: coin.x,
                                y: coin.y
                            });
                            
                            if (coinsCollected >= totalCoinsNeeded) {
                                completeLevel();
                            }
                        }
                    }
                }
            });
            
            // Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¨Ø§ Ø§Ù†Ø±Ú˜ÛŒ
            energyItems.forEach((energy, index) => {
                if (!energy.collected) {
                    const distance = Math.sqrt(
                        Math.pow(player.x - energy.x, 2) + 
                        Math.pow(player.y - energy.y, 2)
                    );
                    
                    if (distance < player.size/2 + 30) {
                        energy.collected = true;
                        
                        score += 50 * currentLevel;
                        player.fuel = Math.min(100, player.fuel + 20);
                        updateFuel();
                        
                        createEnergyCollectEffect(energy.x, energy.y);
                        showFloatingText(energy.x, energy.y, '+50', '#00ff88');
                        
                        energy.element.remove();
                        energyItems.splice(index, 1);
                    }
                }
            });
            
            // Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¨Ø§ Ù¾Ø§ÙˆØ± Ø¢Ù¾â€ŒÙ‡Ø§
            powerups.forEach((powerup, index) => {
                if (!powerup.collected) {
                    const distance = Math.sqrt(
                        Math.pow(player.x - powerup.x, 2) + 
                        Math.pow(player.y - powerup.y, 2)
                    );
                    
                    if (distance < player.size/2 + 30) {
                        powerup.collected = true;
                        
                        switch(powerup.type) {
                            case 0: activateSpeed(); break;
                            case 1: activateFreeze(); break;
                            case 2: activateMagnet(); break;
                        }
                        
                        powerup.element.remove();
                        powerups.splice(index, 1);
                    }
                }
            });
            
            // Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¨Ø§ Ø¢ØªØ´ÙØ´Ø§Ù†â€ŒÙ‡Ø§
            if (!isSafeTime && !rainbowShieldActive) {
                if (isBossLevel && boss && boss.state === 'active') {
                    const distance = Math.sqrt(
                        Math.pow(player.x - boss.x, 2) + 
                        Math.pow(player.y - boss.y, 2)
                    );
                    
                    if (distance < 70) {
                        player.health -= 20;
                        updatePlayerHealth();
                        createAttackEffect(boss.x, boss.y);
                    }
                } else {
                    enemies.forEach(enemy => {
                        if (enemy.state !== 'destroyed') {
                            const distance = Math.sqrt(
                                Math.pow(player.x - enemy.x, 2) + 
                                Math.pow(player.y - enemy.y, 2)
                            );
                            
                            if (distance < 50) {
                                player.health -= 10;
                                updatePlayerHealth();
                                createAttackEffect(enemy.x, enemy.y);
                            }
                        }
                    });
                }
            }
        }

        function createHitEffect(x, y) {
            const effect = document.createElement('div');
            effect.style.position = 'absolute';
            effect.style.left = x + 'px';
            effect.style.top = y + 'px';
            effect.style.fontSize = '20px';
            effect.style.color = '#00ff88';
            effect.style.opacity = '1';
            effect.style.transition = 'all 0.5s';
            effect.style.zIndex = '5';
            effect.innerHTML = 'ğŸª…';
            effect.style.transform = 'scale(1)';
            
            gameElements.appendChild(effect);
            
            setTimeout(() => {
                effect.style.transform = 'scale(1.5)';
                effect.style.opacity = '0';
                
                setTimeout(() => {
                    effect.remove();
                }, 500);
            }, 10);
        }

        function createEnergyCollectEffect(x, y) {
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const effect = document.createElement('div');
                    effect.style.position = 'absolute';
                    effect.style.left = x + 'px';
                    effect.style.top = y + 'px';
                    effect.style.fontSize = '30px';
                    effect.style.color = '#00ff88';
                    effect.style.opacity = '1';
                    effect.style.transition = 'all 0.5s';
                    effect.style.zIndex = '5';
                    effect.innerHTML = 'âš¡ï¸';
                    effect.style.transform = 'scale(1)';
                    
                    gameElements.appendChild(effect);
                    
                    setTimeout(() => {
                        effect.style.transform = 'scale(1.5)';
                        effect.style.opacity = '0';
                        
                        setTimeout(() => {
                            effect.remove();
                        }, 500);
                    }, 10);
                }, i * 200);
            }
        }

        function createCollectEffect(x, y, coinType) {
            const effect = document.createElement('div');
            effect.className = 'coin-collect-effect';
            
            switch(coinType) {
                case 0: effect.innerHTML = 'ğŸ'; break;
                case 1: effect.innerHTML = 'â„ï¸'; break;
                case 2: effect.innerHTML = 'ğŸ’°'; break;
            }
            
            effect.style.left = x + 'px';
            effect.style.top = y + 'px';
            
            gameElements.appendChild(effect);
            
            setTimeout(() => {
                effect.remove();
            }, 800);
        }

        function showFloatingText(x, y, text, color) {
            const floatingText = document.createElement('div');
            floatingText.className = 'floating-score';
            floatingText.textContent = text;
            floatingText.style.color = color;
            floatingText.style.left = x + 'px';
            floatingText.style.top = y + 'px';
            
            gameElements.appendChild(floatingText);
            
            setTimeout(() => {
                floatingText.remove();
            }, 1000);
        }

        function showCombo() {
            const comboIndicator = document.createElement('div');
            comboIndicator.className = 'combo-indicator';
            comboIndicator.textContent = `ğŸ”¥ Ú©ÙˆÙ…Ø¨Ùˆ x${combo}`;
            
            document.body.appendChild(comboIndicator);
            
            setTimeout(() => {
                comboIndicator.remove();
            }, 500);
        }

        function completeLevel() {
            gameRunning = false;
            
            saveGameData();
            
            createLevelCompleteEffects();
            
            setTimeout(() => {
                completedLevelElement.textContent = currentLevel;
                levelComplete.classList.add('show');
            }, 1000);
        }

        function createLevelCompleteEffects() {
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const effect = document.createElement('div');
                    effect.className = 'level-complete-effect';
                    effect.innerHTML = 'ğŸª';
                    effect.style.left = (player.x + Math.random() * 100 - 50) + 'px';
                    effect.style.top = (player.y + Math.random() * 100 - 50) + 'px';
                    gameElements.appendChild(effect);
                    
                    setTimeout(() => {
                        effect.remove();
                    }, 1500);
                }, i * 300);
            }
        }

        // Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ù‡Ù…Ø§Ù† Ù…Ø±Ø­Ù„Ù‡
        function restartCurrentLevel() {
            gameRunning = false;
            
            showFuelMessage("ğŸ’¥ Ø¨Ø±Ø®ÙˆØ±Ø¯! Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ù…Ø±Ø­Ù„Ù‡...");
            
            setTimeout(() => {
                coinsCollected = 0;
                bombCooldown = 0;
                bombAvailable = true;
                safeTime = 0;
                isSafeTime = false;
                playerPath = [];
                player.fuel = 100;
                player.health = 100;
                player.speed = 1;
                fuelConsumption = 0;
                bombButton.disabled = false;
                safeTimeIndicator.classList.add('hidden');
                rainbowShieldActive = false;
                rainbowShieldTime = 0;
                combo = 0;
                speedBoostActive = false;
                freezeActive = false;
                magnetActive = false;
                powerupCooldowns = { speed: 0, freeze: 0, magnet: 0 };
                
                player.x = 6000;
                player.y = 6000;
                
                updatePlayerPosition();
                updatePlayerHealth();
                updateCamera();
                
                updateFuel();
                createCoins();
                
                if (isBossLevel) {
                    createBoss();
                } else {
                    createEnemyGroups();
                }
                
                bullets.forEach(bullet => bullet.element.remove());
                bullets = [];
                enemyBullets.forEach(bullet => bullet.element.remove());
                enemyBullets = [];
                
                gameRunning = true;
                lastFrameTime = performance.now();
                gameLoop();
            }, 1500);
        }

        function gameOver() {
            gameRunning = false;
            
            saveGameData();
            
            showFuelMessage("â›½ Ø³ÙˆØ®Øª ØªÙ…Ø§Ù… Ø´Ø¯! Ø¨Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯");
            
            setTimeout(() => {
                mainScreen.classList.remove('hidden');
                gameScreen.classList.add('hidden');
                fuelIndicator.classList.add('hidden');
                bombButton.classList.add('hidden');
                bombTimer.classList.add('hidden');
                safeTimeIndicator.classList.add('hidden');
                touchControls.classList.add('hidden');
                miniMap.classList.add('hidden');
                turretContainer.classList.add('hidden');
                powerButtons.classList.add('hidden');
                bossHealthBar.classList.add('hidden');
                bossName.classList.add('hidden');
                levelComplete.classList.remove('show');
                
                document.querySelectorAll('.coin, .enemy, .coin-trail, .coin-number, .bullet, .enemy-bullet, .rainbow-shield, .powerup, .floating-score').forEach(el => el.remove());
                if (playerElement) {
                    playerElement.remove();
                    playerElement = null;
                }
                
                coins = [];
                enemies = [];
                enemyGroups = [];
                coinTrail = [];
                playerPath = [];
                bullets = [];
                enemyBullets = [];
                energyItems = [];
                powerups = [];
                boss = null;
                
                updateMainScreenStats();
            }, 2000);
        }

        nextLevelButton.addEventListener('click', () => {
            levelComplete.classList.remove('show');
            
            showLevelLoading(() => {
                currentLevel++;
                coinsCollected = 0;
                bombCooldown = 0;
                bombAvailable = true;
                safeTime = 0;
                isSafeTime = false;
                playerPath = [];
                player.fuel = 100;
                player.health = 100;
                player.speed = 1;
                combo = 0;
                speedBoostActive = false;
                freezeActive = false;
                magnetActive = false;
                powerupCooldowns = { speed: 0, freeze: 0, magnet: 0 };
                updateFuel();
                updatePlayerHealth();
                
                document.querySelectorAll('.coin, .coin-trail, .coin-number, .bullet, .enemy-bullet, .rainbow-shield, .powerup').forEach(el => el.remove());
                enemies.forEach(enemy => {
                    if (enemy.element) enemy.element.remove();
                });
                enemies = [];
                enemyGroups = [];
                bullets = [];
                enemyBullets = [];
                energyItems = [];
                powerups = [];
                boss = null;
                
                // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø§Ø³
                isBossLevel = currentLevel % 10 === 0;
                
                createCoins();
                
                if (isBossLevel) {
                    createBoss();
                } else {
                    createEnemyGroups();
                    bossHealthBar.classList.add('hidden');
                    bossName.classList.add('hidden');
                }
                
                gameRunning = true;
                lastFrameTime = performance.now();
                gameLoop();
            });
        });

        // Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§
        document.addEventListener('mousemove', (e) => {
            if (gameRunning && !isTouching) {
                const cameraContainer = document.getElementById('cameraContainer');
                const rect = cameraContainer.getBoundingClientRect();
                
                player.x = e.clientX - rect.left;
                player.y = e.clientY - rect.top;
                
                player.x = Math.max(player.size/2, Math.min(12000 - player.size/2, player.x));
                player.y = Math.max(player.size/2, Math.min(12000 - player.size/2, player.y));
                
                updatePlayerPosition();
                updateCamera();
            }
        });

        document.addEventListener('mousedown', (e) => {
            if (gameRunning) {
                const turretRect = turretContainer.getBoundingClientRect();
                if (e.clientX >= turretRect.left && e.clientX <= turretRect.right &&
                    e.clientY >= turretRect.top && e.clientY <= turretRect.bottom) {
                    isTurretTouching = true;
                    turret.classList.add('active');
                    shootFromTurret();
                }
            }
        });

        document.addEventListener('mousemove', (e) => {
            if (gameRunning && isTurretTouching) {
                const turretRect = turretContainer.getBoundingClientRect();
                const turretCenterX = turretRect.left + turretRect.width / 2;
                const turretCenterY = turretRect.top + turretRect.height / 2;
                
                const deltaX = e.clientX - turretCenterX;
                const deltaY = e.clientY - turretCenterY;
                
                turretAngle = Math.atan2(deltaY, deltaX);
                turretBarrel.style.transform = `rotate(${turretAngle}rad)`;
            }
        });

        document.addEventListener('mouseup', (e) => {
            if (isTurretTouching) {
                isTurretTouching = false;
                turret.classList.remove('active');
            }
        });

        document.addEventListener('touchmove', (e) => {
            if (gameRunning && !isTouching) {
                e.preventDefault();
                const touch = e.touches[0];
                
                const cameraContainer = document.getElementById('cameraContainer');
                const rect = cameraContainer.getBoundingClientRect();
                
                player.x = touch.clientX - rect.left;
                player.y = touch.clientY - rect.top;
                
                player.x = Math.max(player.size/2, Math.min(12000 - player.size/2, player.x));
                player.y = Math.max(player.size/2, Math.min(12000 - player.size/2, player.y));
                
                updatePlayerPosition();
                updateCamera();
            }
        }, { passive: false });

        window.addEventListener('load', () => {
            setupGame();
            loadGameData();
        });
        window.addEventListener('resize', setupGame);
    </script>
</body>
</html>
